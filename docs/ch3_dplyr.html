<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Vebash Naidoo" />


<title>Chapter 3 - Data Transformation with dplyr</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/master/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "î‰™";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "î‰™";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R4DS Book - Prep for exam</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="license.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Chapter 3 - Data Transformation with dplyr</h1>
<h4 class="author">Vebash Naidoo</h4>
<h4 class="date">17/09/2020</h4>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span> workflowr <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks"> Checks <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> </a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2020-10-10
</p>
<p>
<strong>Checks:</strong> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> 7 <span class="glyphicon glyphicon-exclamation-sign text-danger" aria-hidden="true"></span> 0
</p>
<p>
<strong>Knit directory:</strong> <code>r4ds_book/</code> <span class="glyphicon glyphicon-question-sign" aria-hidden="true" title="This is the local directory in which the code in this file was executed."> </span>
</p>
<p>
This reproducible <a href="http://rmarkdown.rstudio.com">R Markdown</a> analysis was created with <a
  href="https://github.com/jdblischak/workflowr">workflowr</a> (version 1.6.2). The <em>Checks</em> tab describes the reproducibility checks that were applied when the results were created. The <em>Past versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguptodate"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>R Markdown file:</strong> up-to-date </a>
</p>
</div>
<div id="strongRMarkdownfilestronguptodate" class="panel-collapse collapse">
<div class="panel-body">
<p>Great! Since the R Markdown file has been committed to the Git repository, you know the exact version of the code that produced these results.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Environment:</strong> empty </a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the global environment can affect the analysis in your R Markdown file in unknown ways. For reproduciblity itâ€™s best to always run the code in an empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20200814code"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Seed:</strong> <code>set.seed(20200814)</code> </a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20200814code" class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20200814)</code> was run prior to running the code in the R Markdown file. Setting a seed ensures that any results that rely on randomness, e.g. subsampling or permutations, are reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Session information:</strong> recorded </a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package versions is critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongnone"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Cache:</strong> none </a>
</p>
</div>
<div id="strongCachestrongnone" class="panel-collapse collapse">
<div class="panel-body">
<p>Nice! There were no cached chunks for this analysis, so you can be confident that you successfully produced the results during this run.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>File paths:</strong> relative </a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr project makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcomsciencificityR4DSstudyexamstreebbb6cd2dd932763c6c66ceca4f8f3bf15ea60abbtargetblankbbb6cd2a"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Repository version:</strong> <a href="https://github.com/sciencificity/R4DS_study_exams/tree/bbb6cd2dd932763c6c66ceca4f8f3bf15ea60abb" target="_blank">bbb6cd2</a> </a>
</p>
</div>
<div id="strongRepositoryversionstrongahrefhttpsgithubcomsciencificityR4DSstudyexamstreebbb6cd2dd932763c6c66ceca4f8f3bf15ea60abbtargetblankbbb6cd2a" class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development and connecting the code version to the results is critical for reproducibility.
</p>
<p>
The results in this page were generated with repository version <a href="https://github.com/sciencificity/R4DS_study_exams/tree/bbb6cd2dd932763c6c66ceca4f8f3bf15ea60abb" target="_blank">bbb6cd2</a>. See the <em>Past versions</em> tab to see a history of the changes made to the R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for the analysis have been committed to Git prior to generating the results (you can use <code>wflow_publish</code> or <code>wflow_git_commit</code>). workflowr only checks the R Markdown file, but you know if there are other scripts or data files that it depends on. Below is the status of the Git repository when the results were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .Rproj.user/

Untracked files:
    Untracked:  VideoDecodeStats/
    Untracked:  analysis/images/
    Untracked:  code_snipp.txt

</code></pre>
<p>
Note that any generated files, e.g.Â HTML, png, CSS, etc., are not included in this status report because it is ok for generated content to have uncommitted changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">

<p>
These are the previous versions of the repository in which changes were made to the R Markdown (<code>analysis/ch3_dplyr.Rmd</code>) and HTML (<code>docs/ch3_dplyr.html</code>) files. If youâ€™ve configured a remote Git repository (see <code>?wflow_git_remote</code>), click on the hyperlinks in the table below to view the files as they were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/bbb6cd2dd932763c6c66ceca4f8f3bf15ea60abb/analysis/ch3_dplyr.Rmd" target="_blank">bbb6cd2</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-10
</td>
<td>
added Ch 4 section
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/226cd16443d6f476c331f2c8d7ae945c62f5a59e/docs/ch3_dplyr.html" target="_blank">226cd16</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-10
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/ae71e8e5db989d4834f8e2c29bde75a588c02c8e/analysis/ch3_dplyr.Rmd" target="_blank">ae71e8e</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-10
</td>
<td>
added Ch 4 section
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<pre class="r"><code>library(tidyverse)
library(flair)
library(nycflights13)
library(palmerpenguins)
library(gt)
library(skimr)
library(emo)</code></pre>
<div id="filter-rows" class="section level2">
<h2>Filter rows</h2>
<p><span style="color: #008080;background-color:#9FDDBA"><code>filter()</code></span> is the verb used to subset rows in a dataframe based on their values - i.e.Â we take a dataset and we say <em>hey, give me back data that looks like it fulfils this condition(s)</em>.</p>
<p>The <code>nycflights13</code> package has flights for the year 2013 where the departure was from an airport in New York City. You will notice the <code>%&gt;%</code> which we used in the <code>ggplot</code> chapter too. If you canâ€™t recall what it does for now ignore it and just have a look at the data contained in the dataset.</p>
<p>Aside: the pipe into gt() is to print out a neat table ðŸ˜„.</p>
<pre class="r"><code>flights %&gt;% 
  head(4) %&gt;% 
  gt()</code></pre>
<p><style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#jkjixpdgne .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jkjixpdgne .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jkjixpdgne .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jkjixpdgne .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jkjixpdgne .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jkjixpdgne .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jkjixpdgne .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jkjixpdgne .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jkjixpdgne .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jkjixpdgne .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jkjixpdgne .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jkjixpdgne .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#jkjixpdgne .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jkjixpdgne .gt_from_md > :first-child {
  margin-top: 0;
}

#jkjixpdgne .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jkjixpdgne .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jkjixpdgne .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#jkjixpdgne .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jkjixpdgne .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#jkjixpdgne .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jkjixpdgne .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jkjixpdgne .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jkjixpdgne .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jkjixpdgne .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jkjixpdgne .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#jkjixpdgne .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jkjixpdgne .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#jkjixpdgne .gt_left {
  text-align: left;
}

#jkjixpdgne .gt_center {
  text-align: center;
}

#jkjixpdgne .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jkjixpdgne .gt_font_normal {
  font-weight: normal;
}

#jkjixpdgne .gt_font_bold {
  font-weight: bold;
}

#jkjixpdgne .gt_font_italic {
  font-style: italic;
}

#jkjixpdgne .gt_super {
  font-size: 65%;
}

#jkjixpdgne .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="jkjixpdgne" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">month</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">day</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">dep_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">sched_dep_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">dep_delay</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">arr_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">sched_arr_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">arr_delay</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">carrier</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">flight</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">tailnum</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">origin</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">dest</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">air_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">distance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hour</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">minute</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">time_hour</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_center">517</td>
      <td class="gt_row gt_center">515</td>
      <td class="gt_row gt_right">2</td>
      <td class="gt_row gt_center">830</td>
      <td class="gt_row gt_center">819</td>
      <td class="gt_row gt_right">11</td>
      <td class="gt_row gt_left">UA</td>
      <td class="gt_row gt_center">1545</td>
      <td class="gt_row gt_left">N14228</td>
      <td class="gt_row gt_left">EWR</td>
      <td class="gt_row gt_left">IAH</td>
      <td class="gt_row gt_right">227</td>
      <td class="gt_row gt_right">1400</td>
      <td class="gt_row gt_right">5</td>
      <td class="gt_row gt_right">15</td>
      <td class="gt_row gt_left">2013-01-01 05:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_center">533</td>
      <td class="gt_row gt_center">529</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_center">850</td>
      <td class="gt_row gt_center">830</td>
      <td class="gt_row gt_right">20</td>
      <td class="gt_row gt_left">UA</td>
      <td class="gt_row gt_center">1714</td>
      <td class="gt_row gt_left">N24211</td>
      <td class="gt_row gt_left">LGA</td>
      <td class="gt_row gt_left">IAH</td>
      <td class="gt_row gt_right">227</td>
      <td class="gt_row gt_right">1416</td>
      <td class="gt_row gt_right">5</td>
      <td class="gt_row gt_right">29</td>
      <td class="gt_row gt_left">2013-01-01 05:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_center">542</td>
      <td class="gt_row gt_center">540</td>
      <td class="gt_row gt_right">2</td>
      <td class="gt_row gt_center">923</td>
      <td class="gt_row gt_center">850</td>
      <td class="gt_row gt_right">33</td>
      <td class="gt_row gt_left">AA</td>
      <td class="gt_row gt_center">1141</td>
      <td class="gt_row gt_left">N619AA</td>
      <td class="gt_row gt_left">JFK</td>
      <td class="gt_row gt_left">MIA</td>
      <td class="gt_row gt_right">160</td>
      <td class="gt_row gt_right">1089</td>
      <td class="gt_row gt_right">5</td>
      <td class="gt_row gt_right">40</td>
      <td class="gt_row gt_left">2013-01-01 05:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_center">544</td>
      <td class="gt_row gt_center">545</td>
      <td class="gt_row gt_right">-1</td>
      <td class="gt_row gt_center">1004</td>
      <td class="gt_row gt_center">1022</td>
      <td class="gt_row gt_right">-18</td>
      <td class="gt_row gt_left">B6</td>
      <td class="gt_row gt_center">725</td>
      <td class="gt_row gt_left">N804JB</td>
      <td class="gt_row gt_left">JFK</td>
      <td class="gt_row gt_left">BQN</td>
      <td class="gt_row gt_right">183</td>
      <td class="gt_row gt_right">1576</td>
      <td class="gt_row gt_right">5</td>
      <td class="gt_row gt_right">45</td>
      <td class="gt_row gt_left">2013-01-01 05:00:00</td>
    </tr>
  </tbody>
  
  
</table></div> <br></p>
<pre class="r"><code>flights %&gt;% 
  count(origin, sort=TRUE) %&gt;% 
  gt()</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#attietxdud .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#attietxdud .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#attietxdud .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#attietxdud .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#attietxdud .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#attietxdud .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#attietxdud .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#attietxdud .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#attietxdud .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#attietxdud .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#attietxdud .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#attietxdud .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#attietxdud .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#attietxdud .gt_from_md > :first-child {
  margin-top: 0;
}

#attietxdud .gt_from_md > :last-child {
  margin-bottom: 0;
}

#attietxdud .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#attietxdud .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#attietxdud .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#attietxdud .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#attietxdud .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#attietxdud .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#attietxdud .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#attietxdud .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#attietxdud .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#attietxdud .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#attietxdud .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#attietxdud .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#attietxdud .gt_left {
  text-align: left;
}

#attietxdud .gt_center {
  text-align: center;
}

#attietxdud .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#attietxdud .gt_font_normal {
  font-weight: normal;
}

#attietxdud .gt_font_bold {
  font-weight: bold;
}

#attietxdud .gt_font_italic {
  font-style: italic;
}

#attietxdud .gt_super {
  font-size: 65%;
}

#attietxdud .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="attietxdud" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">origin</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">n</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">EWR</td>
      <td class="gt_row gt_center">120835</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">JFK</td>
      <td class="gt_row gt_center">111279</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">LGA</td>
      <td class="gt_row gt_center">104662</td>
    </tr>
  </tbody>
  
  
</table></div>
<p><br></p>
<p>Letâ€™s filter all flights that occurred on Jan 1. The syntax for filter is <span style="color: #008080;background-color:#9FDDBA"><code>filter(df, some_condition_s)</code></span></p>
<pre><code class='language-r'><code><span style='background-color:#9FDDBA;color:#008080'>filter</span>(flights, month <span style='background-color:#9FDDBA;color:#008080'>==</span> 1, day <span style='background-color:#9FDDBA;color:#008080'>==</span> 1)</code></code></pre>
<pre><code>
# A tibble: 842 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      542            540         2      923            850
 4  2013     1     1      544            545        -1     1004           1022
 5  2013     1     1      554            600        -6      812            837
 6  2013     1     1      554            558        -4      740            728
 7  2013     1     1      555            600        -5      913            854
 8  2013     1     1      557            600        -3      709            723
 9  2013     1     1      557            600        -3      838            846
10  2013     1     1      558            600        -2      753            745
# ... with 832 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
</code></pre>
<p><em>Notice the <span style="color: #008080;background-color:#9FDDBA"><code>==</code></span> for comparison</em></p>
<p><style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#zjitmfuwrr .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zjitmfuwrr .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zjitmfuwrr .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zjitmfuwrr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zjitmfuwrr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zjitmfuwrr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zjitmfuwrr .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zjitmfuwrr .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zjitmfuwrr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zjitmfuwrr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zjitmfuwrr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zjitmfuwrr .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#zjitmfuwrr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zjitmfuwrr .gt_from_md > :first-child {
  margin-top: 0;
}

#zjitmfuwrr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zjitmfuwrr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zjitmfuwrr .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#zjitmfuwrr .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zjitmfuwrr .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#zjitmfuwrr .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zjitmfuwrr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zjitmfuwrr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zjitmfuwrr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zjitmfuwrr .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zjitmfuwrr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#zjitmfuwrr .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zjitmfuwrr .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#zjitmfuwrr .gt_left {
  text-align: left;
}

#zjitmfuwrr .gt_center {
  text-align: center;
}

#zjitmfuwrr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zjitmfuwrr .gt_font_normal {
  font-weight: normal;
}

#zjitmfuwrr .gt_font_bold {
  font-weight: bold;
}

#zjitmfuwrr .gt_font_italic {
  font-style: italic;
}

#zjitmfuwrr .gt_super {
  font-size: 65%;
}

#zjitmfuwrr .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="zjitmfuwrr" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">sign</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">meaning</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">&gt;</td>
      <td class="gt_row gt_left">greater than</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">&gt;=</td>
      <td class="gt_row gt_left">greater than or equal to</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">&lt;</td>
      <td class="gt_row gt_left">less than</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">&lt;=</td>
      <td class="gt_row gt_left">less than or equal to</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">==</td>
      <td class="gt_row gt_left">equal to</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">!=</td>
      <td class="gt_row gt_left">not equal to</td>
    </tr>
  </tbody>
  
  
</table></div> <br></p>
<p>Okay, truly the <code>{palmerpenguins}</code> data is going to become the new <code>iris</code>! But come onâ€™ who doesnâ€™t love penguins! Just try and keep me away from Boulders Beach in Cape Town when Iâ€™m there visiting â€¦</p>
<pre class="r"><code>penguins %&gt;% 
  head(10) %&gt;% 
  gt()</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#qmmnfncgxl .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qmmnfncgxl .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qmmnfncgxl .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qmmnfncgxl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qmmnfncgxl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qmmnfncgxl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qmmnfncgxl .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qmmnfncgxl .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qmmnfncgxl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qmmnfncgxl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qmmnfncgxl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qmmnfncgxl .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#qmmnfncgxl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qmmnfncgxl .gt_from_md > :first-child {
  margin-top: 0;
}

#qmmnfncgxl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qmmnfncgxl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qmmnfncgxl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#qmmnfncgxl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qmmnfncgxl .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#qmmnfncgxl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qmmnfncgxl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qmmnfncgxl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qmmnfncgxl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qmmnfncgxl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qmmnfncgxl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#qmmnfncgxl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qmmnfncgxl .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#qmmnfncgxl .gt_left {
  text-align: left;
}

#qmmnfncgxl .gt_center {
  text-align: center;
}

#qmmnfncgxl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qmmnfncgxl .gt_font_normal {
  font-weight: normal;
}

#qmmnfncgxl .gt_font_bold {
  font-weight: bold;
}

#qmmnfncgxl .gt_font_italic {
  font-style: italic;
}

#qmmnfncgxl .gt_super {
  font-size: 65%;
}

#qmmnfncgxl .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="qmmnfncgxl" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">species</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">island</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">bill_length_mm</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">bill_depth_mm</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">flipper_length_mm</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">body_mass_g</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">sex</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">year</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_center">Adelie</td>
      <td class="gt_row gt_center">Torgersen</td>
      <td class="gt_row gt_right">39.1</td>
      <td class="gt_row gt_right">18.7</td>
      <td class="gt_row gt_center">181</td>
      <td class="gt_row gt_center">3750</td>
      <td class="gt_row gt_center">male</td>
      <td class="gt_row gt_center">2007</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">Adelie</td>
      <td class="gt_row gt_center">Torgersen</td>
      <td class="gt_row gt_right">39.5</td>
      <td class="gt_row gt_right">17.4</td>
      <td class="gt_row gt_center">186</td>
      <td class="gt_row gt_center">3800</td>
      <td class="gt_row gt_center">female</td>
      <td class="gt_row gt_center">2007</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">Adelie</td>
      <td class="gt_row gt_center">Torgersen</td>
      <td class="gt_row gt_right">40.3</td>
      <td class="gt_row gt_right">18.0</td>
      <td class="gt_row gt_center">195</td>
      <td class="gt_row gt_center">3250</td>
      <td class="gt_row gt_center">female</td>
      <td class="gt_row gt_center">2007</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">Adelie</td>
      <td class="gt_row gt_center">Torgersen</td>
      <td class="gt_row gt_right">NA</td>
      <td class="gt_row gt_right">NA</td>
      <td class="gt_row gt_center">NA</td>
      <td class="gt_row gt_center">NA</td>
      <td class="gt_row gt_center">NA</td>
      <td class="gt_row gt_center">2007</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">Adelie</td>
      <td class="gt_row gt_center">Torgersen</td>
      <td class="gt_row gt_right">36.7</td>
      <td class="gt_row gt_right">19.3</td>
      <td class="gt_row gt_center">193</td>
      <td class="gt_row gt_center">3450</td>
      <td class="gt_row gt_center">female</td>
      <td class="gt_row gt_center">2007</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">Adelie</td>
      <td class="gt_row gt_center">Torgersen</td>
      <td class="gt_row gt_right">39.3</td>
      <td class="gt_row gt_right">20.6</td>
      <td class="gt_row gt_center">190</td>
      <td class="gt_row gt_center">3650</td>
      <td class="gt_row gt_center">male</td>
      <td class="gt_row gt_center">2007</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">Adelie</td>
      <td class="gt_row gt_center">Torgersen</td>
      <td class="gt_row gt_right">38.9</td>
      <td class="gt_row gt_right">17.8</td>
      <td class="gt_row gt_center">181</td>
      <td class="gt_row gt_center">3625</td>
      <td class="gt_row gt_center">female</td>
      <td class="gt_row gt_center">2007</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">Adelie</td>
      <td class="gt_row gt_center">Torgersen</td>
      <td class="gt_row gt_right">39.2</td>
      <td class="gt_row gt_right">19.6</td>
      <td class="gt_row gt_center">195</td>
      <td class="gt_row gt_center">4675</td>
      <td class="gt_row gt_center">male</td>
      <td class="gt_row gt_center">2007</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">Adelie</td>
      <td class="gt_row gt_center">Torgersen</td>
      <td class="gt_row gt_right">34.1</td>
      <td class="gt_row gt_right">18.1</td>
      <td class="gt_row gt_center">193</td>
      <td class="gt_row gt_center">3475</td>
      <td class="gt_row gt_center">NA</td>
      <td class="gt_row gt_center">2007</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">Adelie</td>
      <td class="gt_row gt_center">Torgersen</td>
      <td class="gt_row gt_right">42.0</td>
      <td class="gt_row gt_right">20.2</td>
      <td class="gt_row gt_center">190</td>
      <td class="gt_row gt_center">4250</td>
      <td class="gt_row gt_center">NA</td>
      <td class="gt_row gt_center">2007</td>
    </tr>
  </tbody>
  
  
</table></div>
<p><br></p>
<p>Ok, what types of penguins are there?</p>
<pre class="r"><code>penguins %&gt;% 
  count(species, sort=TRUE)</code></pre>
<pre><code># A tibble: 3 x 2
  species       n
  &lt;fct&gt;     &lt;int&gt;
1 Adelie      152
2 Gentoo      124
3 Chinstrap    68</code></pre>
<p>Letâ€™s filter out <code>Gentoo</code> with <code>bill_depth_mm</code> bigger than 17mm, using some of the operations we learnt.</p>
<pre><code class='language-r'><code># lets us save the <span style='background-color:#9FDDBA;color:#008080'>filter</span> result and <br># prints it out ... the extra brackets on the<br># outside of the entire code block does that<br>(gentoo <- <span style='background-color:#9FDDBA;color:#008080'>filter</span>(penguins, species <span style='background-color:#9FDDBA;color:#008080'>==</span> 'Gentoo',<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bill_depth_mm <span style='background-color:#9FDDBA;color:#008080'>></span> 17))</code></code></pre>
<pre><code>
# A tibble: 3 x 8
  species island bill_length_mm bill_depth_mm flipper_length_~ body_mass_g sex  
  &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt;       &lt;int&gt; &lt;fct&gt;
1 Gentoo  Biscoe           44.4          17.3              219        5250 male 
2 Gentoo  Biscoe           50.8          17.3              228        5600 male 
3 Gentoo  Biscoe           52.2          17.1              228        5400 male 
# ... with 1 more variable: year &lt;int&gt;
</code></pre>
<p><strong>Surprising results</strong></p>
<p>Floats are saved a bit differently and hence can cause some unexpected behaviour.</p>
<pre class="r"><code>sqrt(2) ^ 2 == 2</code></pre>
<pre><code>[1] FALSE</code></pre>
<pre class="r"><code>1 / 49 * 49 == 1</code></pre>
<pre><code>[1] FALSE</code></pre>
<p>Use <code>near()</code> to give you if these are indeed nearly same.</p>
<pre><code class='language-r'><code><span style='background-color:#9FDDBA;color:#008080'>near</span>(sqrt(2) ^ 2, &nbsp;2)</code></code></pre>
<pre><code>
[1] TRUE
</code></pre>
<pre><code class='language-r'><code><span style='background-color:#9FDDBA;color:#008080'>near</span>(1 / 49 * 49, 1)</code></code></pre>
<pre><code>
[1] TRUE
</code></pre>
<div id="logic" class="section level3">
<h3>Logic</h3>
<p>When we explore data we often want to filter data where one condition is true and another is also true. E.g. Which days experienced a thunder storm where a thunder storm was predicted by the Meteorologists.</p>
<p>In R we use logic operators to combine comparisons and get us the data weâ€™re looking for.</p>
<p><br></p>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#iskuwbajis .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#iskuwbajis .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#iskuwbajis .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#iskuwbajis .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#iskuwbajis .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iskuwbajis .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#iskuwbajis .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#iskuwbajis .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#iskuwbajis .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#iskuwbajis .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#iskuwbajis .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#iskuwbajis .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#iskuwbajis .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#iskuwbajis .gt_from_md > :first-child {
  margin-top: 0;
}

#iskuwbajis .gt_from_md > :last-child {
  margin-bottom: 0;
}

#iskuwbajis .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#iskuwbajis .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#iskuwbajis .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#iskuwbajis .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#iskuwbajis .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#iskuwbajis .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#iskuwbajis .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#iskuwbajis .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iskuwbajis .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#iskuwbajis .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#iskuwbajis .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#iskuwbajis .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#iskuwbajis .gt_left {
  text-align: left;
}

#iskuwbajis .gt_center {
  text-align: center;
}

#iskuwbajis .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#iskuwbajis .gt_font_normal {
  font-weight: normal;
}

#iskuwbajis .gt_font_bold {
  font-weight: bold;
}

#iskuwbajis .gt_font_italic {
  font-style: italic;
}

#iskuwbajis .gt_super {
  font-size: 65%;
}

#iskuwbajis .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="iskuwbajis" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">sign</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">meaning</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">|</td>
      <td class="gt_row gt_left">Or</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">&amp;</td>
      <td class="gt_row gt_left">And</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">!</td>
      <td class="gt_row gt_left">Not</td>
    </tr>
  </tbody>
  
  
</table></div>
<p><br></p>
<p>Letâ€™s say we want only flights that occurred in Nov and Dec of 2013:</p>
<pre><code class='language-r'><code>filter(flights, <span style='background-color:#9FDDBA;color:#008080'>month == 11 | month == 12</span>)</code></code></pre>
<pre><code>
# A tibble: 55,403 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013    11     1        5           2359         6      352            345
 2  2013    11     1       35           2250       105      123           2356
 3  2013    11     1      455            500        -5      641            651
 4  2013    11     1      539            545        -6      856            827
 5  2013    11     1      542            545        -3      831            855
 6  2013    11     1      549            600       -11      912            923
 7  2013    11     1      550            600       -10      705            659
 8  2013    11     1      554            600        -6      659            701
 9  2013    11     1      554            600        -6      826            827
10  2013    11     1      554            600        -6      749            751
# ... with 55,393 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
</code></pre>
<p>We have to repeat the <span style="color: #008080;background-color:#9FDDBA">month == </span> part for each comparison.</p>
<p><br></p>
<p>You may think that you can just say <span style="color: #FFE4E1;background-color:#E3242B">month == (11 | 12)</span> but unfortunately that does not work.</p>
<pre><code class='language-r'><code>(filtered_fl <- filter(flights, <span style='background-color:#E3242B;color:#FFE4E1'>month == (11 | 12)</span>))</code></code></pre>
<pre><code>
# A tibble: 27,004 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      542            540         2      923            850
 4  2013     1     1      544            545        -1     1004           1022
 5  2013     1     1      554            600        -6      812            837
 6  2013     1     1      554            558        -4      740            728
 7  2013     1     1      555            600        -5      913            854
 8  2013     1     1      557            600        -3      709            723
 9  2013     1     1      557            600        -3      838            846
10  2013     1     1      558            600        -2      753            745
# ... with 26,994 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
</code></pre>
<p><br>Note that the result is unexpected - the tibble returned contains the <code>month == 1</code> which is January, and should not be in our returned dataset! The <code>(11 | 12)</code> evaluates to TRUE which internally is represented as <code>1</code> hence we then look at <code>month == 1</code>. To see this lets load the flights dataframe and filter Jan again. Notice that the number of rows is identical to the number of rows in the filtered <code>filtered_fl</code> which is 27004.</p>
<pre class="r"><code>flights %&gt;% 
  filter(month == 1)</code></pre>
<pre><code># A tibble: 27,004 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      542            540         2      923            850
 4  2013     1     1      544            545        -1     1004           1022
 5  2013     1     1      554            600        -6      812            837
 6  2013     1     1      554            558        -4      740            728
 7  2013     1     1      555            600        -5      913            854
 8  2013     1     1      557            600        -3      709            723
 9  2013     1     1      557            600        -3      838            846
10  2013     1     1      558            600        -2      753            745
# ... with 26,994 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p><br></p>
<p>We can also use the <span style="color: #008080;background-color:#9FDDBA"><code>%in%</code></span> operator instead of repeating the <code>month ==</code>.</p>
<pre class="r"><code>filter(flights, month %in% c(11, 12))</code></pre>
<pre><code># A tibble: 55,403 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013    11     1        5           2359         6      352            345
 2  2013    11     1       35           2250       105      123           2356
 3  2013    11     1      455            500        -5      641            651
 4  2013    11     1      539            545        -6      856            827
 5  2013    11     1      542            545        -3      831            855
 6  2013    11     1      549            600       -11      912            923
 7  2013    11     1      550            600       -10      705            659
 8  2013    11     1      554            600        -6      659            701
 9  2013    11     1      554            600        -6      826            827
10  2013    11     1      554            600        -6      749            751
# ... with 55,393 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>If you need the opposite of this i.e.Â the <code>not in</code> operator itâ€™s a bit more tricky.</p>
<p>You can make your own function for <a href="https://stackoverflow.com/questions/5831794/opposite-of-in-exclude-rows-with-values-specified-in-a-vector">this</a>.</p>
<pre class="r"><code>&#39;%!in%&#39; &lt;- function(x,y)!(&#39;%in%&#39;(x,y)) # method 1
&#39;%ni%&#39; &lt;- Negate(&#39;%in%&#39;) # method 2
filter(flights, month %ni% c(11, 12))</code></pre>
<pre><code># A tibble: 281,373 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      542            540         2      923            850
 4  2013     1     1      544            545        -1     1004           1022
 5  2013     1     1      554            600        -6      812            837
 6  2013     1     1      554            558        -4      740            728
 7  2013     1     1      555            600        -5      913            854
 8  2013     1     1      557            600        -3      709            723
 9  2013     1     1      557            600        -3      838            846
10  2013     1     1      558            600        -2      753            745
# ... with 281,363 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<div id="aside-some-penguin-fun" class="section level4">
<h4>Aside: Some penguin fun â€¦</h4>
<p>Letâ€™s see if we can explore our data through filtering.</p>
<pre class="r"><code># Get all penguins where the species is anything
# other than Adelie
filter(penguins, species %ni% (&#39;Adelie&#39;))</code></pre>
<pre><code># A tibble: 192 x 8
   species island bill_length_mm bill_depth_mm flipper_length_~ body_mass_g
   &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt;       &lt;int&gt;
 1 Gentoo  Biscoe           46.1          13.2              211        4500
 2 Gentoo  Biscoe           50            16.3              230        5700
 3 Gentoo  Biscoe           48.7          14.1              210        4450
 4 Gentoo  Biscoe           50            15.2              218        5700
 5 Gentoo  Biscoe           47.6          14.5              215        5400
 6 Gentoo  Biscoe           46.5          13.5              210        4550
 7 Gentoo  Biscoe           45.4          14.6              211        4800
 8 Gentoo  Biscoe           46.7          15.3              219        5200
 9 Gentoo  Biscoe           43.3          13.4              209        4400
10 Gentoo  Biscoe           46.8          15.4              215        5150
# ... with 182 more rows, and 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
<p>The skim function also works great in conjunction with filter. I am going to use the pipe again which we tackle later in R4DS. For now when you see <em>%&gt;%</em> read it as <code>and then</code> e.g.Â <em>Take this df and then filter out data that meets the condition and then show me a summary.</em></p>
<pre>
    df <span style="color: #008080;background-color:#9FDDBA">%>%</span> 
      filter(some_col meets some condition) <span style="color: #008080;background-color:#9FDDBA">%>%</span> 
      summary(avg_col = mean(some_col))
</pre>
<pre class="r"><code>penguins %&gt;% 
  filter(species == &quot;Chinstrap&quot;) %&gt;% 
  skim()</code></pre>
<table>
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">Piped data</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">68</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">8</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">factor</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">5</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">ordered</th>
<th align="right">n_unique</th>
<th align="left">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">species</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">1</td>
<td align="left">Chi: 68, Ade: 0, Gen: 0</td>
</tr>
<tr class="even">
<td align="left">island</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">1</td>
<td align="left">Dre: 68, Bis: 0, Tor: 0</td>
</tr>
<tr class="odd">
<td align="left">sex</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">fem: 34, mal: 34</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">bill_length_mm</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">48.83</td>
<td align="right">3.34</td>
<td align="right">40.9</td>
<td align="right">46.35</td>
<td align="right">49.55</td>
<td align="right">51.08</td>
<td align="right">58.0</td>
<td align="left">â–‚â–‡â–‡â–…â–</td>
</tr>
<tr class="even">
<td align="left">bill_depth_mm</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">18.42</td>
<td align="right">1.14</td>
<td align="right">16.4</td>
<td align="right">17.50</td>
<td align="right">18.45</td>
<td align="right">19.40</td>
<td align="right">20.8</td>
<td align="left">â–…â–‡â–‡â–†â–‚</td>
</tr>
<tr class="odd">
<td align="left">flipper_length_mm</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">195.82</td>
<td align="right">7.13</td>
<td align="right">178.0</td>
<td align="right">191.00</td>
<td align="right">196.00</td>
<td align="right">201.00</td>
<td align="right">212.0</td>
<td align="left">â–â–…â–‡â–…â–‚</td>
</tr>
<tr class="even">
<td align="left">body_mass_g</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3733.09</td>
<td align="right">384.34</td>
<td align="right">2700.0</td>
<td align="right">3487.50</td>
<td align="right">3700.00</td>
<td align="right">3950.00</td>
<td align="right">4800.0</td>
<td align="left">â–â–…â–‡â–ƒâ–</td>
</tr>
<tr class="odd">
<td align="left">year</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2007.97</td>
<td align="right">0.86</td>
<td align="right">2007.0</td>
<td align="right">2007.00</td>
<td align="right">2008.00</td>
<td align="right">2009.00</td>
<td align="right">2009.0</td>
<td align="left">â–‡â–â–†â–â–‡</td>
</tr>
</tbody>
</table>
<p>Letâ€™s see if the Chinstrap penguins with a body mass above the mean are more likely male / female / equally represented?</p>
<p>The pipe way:</p>
<pre class="r"><code>penguins %&gt;% 
  filter(species == &quot;Chinstrap&quot;) %&gt;% 
  filter(body_mass_g &gt; mean(body_mass_g)) %&gt;% 
  skim()</code></pre>
<table>
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">Piped data</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">31</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">8</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">factor</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">5</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">ordered</th>
<th align="right">n_unique</th>
<th align="left">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">species</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">1</td>
<td align="left">Chi: 31, Ade: 0, Gen: 0</td>
</tr>
<tr class="even">
<td align="left">island</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">1</td>
<td align="left">Dre: 31, Bis: 0, Tor: 0</td>
</tr>
<tr class="odd">
<td align="left">sex</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">mal: 25, fem: 6</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">bill_length_mm</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">50.38</td>
<td align="right">2.30</td>
<td align="right">45.2</td>
<td align="right">49.25</td>
<td align="right">50.6</td>
<td align="right">51.80</td>
<td align="right">55.8</td>
<td align="left">â–‚â–ƒâ–‡â–…â–</td>
</tr>
<tr class="even">
<td align="left">bill_depth_mm</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">19.07</td>
<td align="right">0.90</td>
<td align="right">16.8</td>
<td align="right">18.40</td>
<td align="right">19.0</td>
<td align="right">19.65</td>
<td align="right">20.8</td>
<td align="left">â–â–…â–†â–‡â–‚</td>
</tr>
<tr class="odd">
<td align="left">flipper_length_mm</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">200.77</td>
<td align="right">5.47</td>
<td align="right">193.0</td>
<td align="right">196.50</td>
<td align="right">201.0</td>
<td align="right">204.00</td>
<td align="right">212.0</td>
<td align="left">â–‡â–…â–‡â–ƒâ–ƒ</td>
</tr>
<tr class="even">
<td align="left">body_mass_g</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4055.65</td>
<td align="right">267.14</td>
<td align="right">3750.0</td>
<td align="right">3825.00</td>
<td align="right">4000.0</td>
<td align="right">4150.00</td>
<td align="right">4800.0</td>
<td align="left">â–‡â–…â–â–‚â–</td>
</tr>
<tr class="odd">
<td align="left">year</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2008.00</td>
<td align="right">0.86</td>
<td align="right">2007.0</td>
<td align="right">2007.00</td>
<td align="right">2008.0</td>
<td align="right">2009.00</td>
<td align="right">2009.0</td>
<td align="left">â–‡â–â–†â–â–‡</td>
</tr>
</tbody>
</table>
<p>We get the same using the non-piped way.</p>
<pre class="r"><code>skim(filter(filter(penguins, species == &quot;Chinstrap&quot;),
       body_mass_g &gt; mean(body_mass_g))) </code></pre>
<table>
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">filter(â€¦)</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">31</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">8</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">factor</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">5</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">ordered</th>
<th align="right">n_unique</th>
<th align="left">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">species</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">1</td>
<td align="left">Chi: 31, Ade: 0, Gen: 0</td>
</tr>
<tr class="even">
<td align="left">island</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">1</td>
<td align="left">Dre: 31, Bis: 0, Tor: 0</td>
</tr>
<tr class="odd">
<td align="left">sex</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">mal: 25, fem: 6</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">bill_length_mm</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">50.38</td>
<td align="right">2.30</td>
<td align="right">45.2</td>
<td align="right">49.25</td>
<td align="right">50.6</td>
<td align="right">51.80</td>
<td align="right">55.8</td>
<td align="left">â–‚â–ƒâ–‡â–…â–</td>
</tr>
<tr class="even">
<td align="left">bill_depth_mm</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">19.07</td>
<td align="right">0.90</td>
<td align="right">16.8</td>
<td align="right">18.40</td>
<td align="right">19.0</td>
<td align="right">19.65</td>
<td align="right">20.8</td>
<td align="left">â–â–…â–†â–‡â–‚</td>
</tr>
<tr class="odd">
<td align="left">flipper_length_mm</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">200.77</td>
<td align="right">5.47</td>
<td align="right">193.0</td>
<td align="right">196.50</td>
<td align="right">201.0</td>
<td align="right">204.00</td>
<td align="right">212.0</td>
<td align="left">â–‡â–…â–‡â–ƒâ–ƒ</td>
</tr>
<tr class="even">
<td align="left">body_mass_g</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4055.65</td>
<td align="right">267.14</td>
<td align="right">3750.0</td>
<td align="right">3825.00</td>
<td align="right">4000.0</td>
<td align="right">4150.00</td>
<td align="right">4800.0</td>
<td align="left">â–‡â–…â–â–‚â–</td>
</tr>
<tr class="odd">
<td align="left">year</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2008.00</td>
<td align="right">0.86</td>
<td align="right">2007.0</td>
<td align="right">2007.00</td>
<td align="right">2008.0</td>
<td align="right">2009.00</td>
<td align="right">2009.0</td>
<td align="left">â–‡â–â–†â–â–‡</td>
</tr>
</tbody>
</table>
<p>It seems there are more male penguins above the mean of body mass.</p>
</div>
</div>
<div id="exercises" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>Find all flights that</p>
<ul>
<li>Had an arrival delay of two or more hours</li>
</ul>
<pre><code class='language-r'><code>filter(flights,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>arr_delay >= 120</span>)</code></code></pre>
<pre><code>
    # A tibble: 10,200 x 19
        year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
       &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
     1  2013     1     1      811            630       101     1047            830
     2  2013     1     1      848           1835       853     1001           1950
     3  2013     1     1      957            733       144     1056            853
     4  2013     1     1     1114            900       134     1447           1222
     5  2013     1     1     1505           1310       115     1638           1431
     6  2013     1     1     1525           1340       105     1831           1626
     7  2013     1     1     1549           1445        64     1912           1656
     8  2013     1     1     1558           1359       119     1718           1515
     9  2013     1     1     1732           1630        62     2028           1825
    10  2013     1     1     1803           1620       103     2008           1750
    # ... with 10,190 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
    #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
    #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
</code></pre>
<ul>
<li>Flew to Houston (<code>IAH</code> or <code>HOU</code>)</li>
</ul>
<pre class="r"><code>filter(flights, dest %in% c(&#39;IAH&#39;, &#39;HOU&#39;))</code></pre>
<pre><code># A tibble: 9,313 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      623            627        -4      933            932
 4  2013     1     1      728            732        -4     1041           1038
 5  2013     1     1      739            739         0     1104           1038
 6  2013     1     1      908            908         0     1228           1219
 7  2013     1     1     1028           1026         2     1350           1339
 8  2013     1     1     1044           1045        -1     1352           1351
 9  2013     1     1     1114            900       134     1447           1222
10  2013     1     1     1205           1200         5     1503           1505
# ... with 9,303 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<ul>
<li>Were operated by United, American, or Delta</li>
</ul>
<pre class="r"><code>as_tibble(flights) %&gt;% 
  distinct(carrier) %&gt;% 
  arrange(carrier)</code></pre>
<pre><code># A tibble: 16 x 1
   carrier
   &lt;chr&gt;  
 1 9E     
 2 AA     
 3 AS     
 4 B6     
 5 DL     
 6 EV     
 7 F9     
 8 FL     
 9 HA     
10 MQ     
11 OO     
12 UA     
13 US     
14 VX     
15 WN     
16 YV     </code></pre>
<pre class="r"><code># think these are United = UA, American = AA, Delta = DL
filter(flights, carrier %in% c(&#39;UA&#39;, &#39;AA&#39;, &#39;DL&#39;))</code></pre>
<pre><code># A tibble: 139,504 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      542            540         2      923            850
 4  2013     1     1      554            600        -6      812            837
 5  2013     1     1      554            558        -4      740            728
 6  2013     1     1      558            600        -2      753            745
 7  2013     1     1      558            600        -2      924            917
 8  2013     1     1      558            600        -2      923            937
 9  2013     1     1      559            600        -1      941            910
10  2013     1     1      559            600        -1      854            902
# ... with 139,494 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<ul>
<li>Departed in summer (July, August, and September)</li>
</ul>
<pre class="r"><code>filter(flights, month %in% c(7, 8, 9))</code></pre>
<pre><code># A tibble: 86,326 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     7     1        1           2029       212      236           2359
 2  2013     7     1        2           2359         3      344            344
 3  2013     7     1       29           2245       104      151              1
 4  2013     7     1       43           2130       193      322             14
 5  2013     7     1       44           2150       174      300            100
 6  2013     7     1       46           2051       235      304           2358
 7  2013     7     1       48           2001       287      308           2305
 8  2013     7     1       58           2155       183      335             43
 9  2013     7     1      100           2146       194      327             30
10  2013     7     1      100           2245       135      337            135
# ... with 86,316 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<ul>
<li>Arrived more than two hours late, but didnâ€™t leave late</li>
</ul>
<pre class="r"><code>filter(flights,
       arr_delay &gt; 120 &amp; dep_delay &lt;= 0)</code></pre>
<pre><code># A tibble: 29 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1    27     1419           1420        -1     1754           1550
 2  2013    10     7     1350           1350         0     1736           1526
 3  2013    10     7     1357           1359        -2     1858           1654
 4  2013    10    16      657            700        -3     1258           1056
 5  2013    11     1      658            700        -2     1329           1015
 6  2013     3    18     1844           1847        -3       39           2219
 7  2013     4    17     1635           1640        -5     2049           1845
 8  2013     4    18      558            600        -2     1149            850
 9  2013     4    18      655            700        -5     1213            950
10  2013     5    22     1827           1830        -3     2217           2010
# ... with 19 more rows, and 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,
#   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,
#   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<ul>
<li>Were delayed by at least an hour, but made up over 30 minutes in flight</li>
</ul>
<pre class="r"><code>filter(flights, 
       dep_delay &gt;= 60 &amp;
       arr_delay &lt; (dep_delay - 30))</code></pre>
<pre><code># A tibble: 1,844 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1     2205           1720       285       46           2040
 2  2013     1     1     2326           2130       116      131             18
 3  2013     1     3     1503           1221       162     1803           1555
 4  2013     1     3     1839           1700        99     2056           1950
 5  2013     1     3     1850           1745        65     2148           2120
 6  2013     1     3     1941           1759       102     2246           2139
 7  2013     1     3     1950           1845        65     2228           2227
 8  2013     1     3     2015           1915        60     2135           2111
 9  2013     1     3     2257           2000       177       45           2224
10  2013     1     4     1917           1700       137     2135           1950
# ... with 1,834 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<ul>
<li>Departed between midnight and 6am (inclusive)</li>
</ul>
<pre class="r"><code>flights %&gt;% # notice that some flights were schedule to leave befor 00h00 but 
  # were delayed and hence left after 00h00
  filter(dep_time &gt; 0 &amp; dep_time &lt; 100)</code></pre>
<pre><code># A tibble: 881 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     2       42           2359        43      518            442
 2  2013     1     3       32           2359        33      504            442
 3  2013     1     3       50           2145       185      203           2311
 4  2013     1     4       25           2359        26      505            442
 5  2013     1     5       14           2359        15      503            445
 6  2013     1     5       37           2230       127      341            131
 7  2013     1     6       16           2359        17      451            442
 8  2013     1     7       49           2359        50      531            444
 9  2013     1     9        2           2359         3      432            444
10  2013     1     9        8           2359         9      432            437
# ... with 871 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code>flights %&gt;% 
  # are any flights exactly at 24h00?
  filter(dep_time == 2400)</code></pre>
<pre><code># A tibble: 29 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013    10    30     2400           2359         1      327            337
 2  2013    11    27     2400           2359         1      515            445
 3  2013    12     5     2400           2359         1      427            440
 4  2013    12     9     2400           2359         1      432            440
 5  2013    12     9     2400           2250        70       59           2356
 6  2013    12    13     2400           2359         1      432            440
 7  2013    12    19     2400           2359         1      434            440
 8  2013    12    29     2400           1700       420      302           2025
 9  2013     2     7     2400           2359         1      432            436
10  2013     2     7     2400           2359         1      443            444
# ... with 19 more rows, and 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,
#   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,
#   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code>filter(flights, (dep_time &gt;= 0 &amp; dep_time &lt;= 600) | 
         (dep_time == 2400))</code></pre>
<pre><code># A tibble: 9,373 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      542            540         2      923            850
 4  2013     1     1      544            545        -1     1004           1022
 5  2013     1     1      554            600        -6      812            837
 6  2013     1     1      554            558        -4      740            728
 7  2013     1     1      555            600        -5      913            854
 8  2013     1     1      557            600        -3      709            723
 9  2013     1     1      557            600        -3      838            846
10  2013     1     1      558            600        -2      753            745
# ... with 9,363 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre></li>
<li><p>Another useful dplyr filtering helper is <code>between()</code>. What does it do? Can you use it to simplify the code needed to answer the previous challenges?</p>
<pre class="r"><code># Departed in summer (July, August, and September)
filter(flights, between(month,7,9))</code></pre>
<pre><code># A tibble: 86,326 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     7     1        1           2029       212      236           2359
 2  2013     7     1        2           2359         3      344            344
 3  2013     7     1       29           2245       104      151              1
 4  2013     7     1       43           2130       193      322             14
 5  2013     7     1       44           2150       174      300            100
 6  2013     7     1       46           2051       235      304           2358
 7  2013     7     1       48           2001       287      308           2305
 8  2013     7     1       58           2155       183      335             43
 9  2013     7     1      100           2146       194      327             30
10  2013     7     1      100           2245       135      337            135
# ... with 86,316 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code># Departed between midnight and 6am (inclusive)
filter(flights, between(dep_time, 0, 600) | 
     (dep_time == 2400))</code></pre>
<pre><code># A tibble: 9,373 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      542            540         2      923            850
 4  2013     1     1      544            545        -1     1004           1022
 5  2013     1     1      554            600        -6      812            837
 6  2013     1     1      554            558        -4      740            728
 7  2013     1     1      555            600        -5      913            854
 8  2013     1     1      557            600        -3      709            723
 9  2013     1     1      557            600        -3      838            846
10  2013     1     1      558            600        -2      753            745
# ... with 9,363 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre></li>
<li><p>How many flights have a missing <code>dep_time</code>? What other variables are missing? What might these rows represent?</p>
<pre class="r"><code>filter(flights, is.na(dep_time))</code></pre>
<pre><code># A tibble: 8,255 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1       NA           1630        NA       NA           1815
 2  2013     1     1       NA           1935        NA       NA           2240
 3  2013     1     1       NA           1500        NA       NA           1825
 4  2013     1     1       NA            600        NA       NA            901
 5  2013     1     2       NA           1540        NA       NA           1747
 6  2013     1     2       NA           1620        NA       NA           1746
 7  2013     1     2       NA           1355        NA       NA           1459
 8  2013     1     2       NA           1420        NA       NA           1644
 9  2013     1     2       NA           1321        NA       NA           1536
10  2013     1     2       NA           1545        NA       NA           1910
# ... with 8,245 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code>skim(flights) # Great summary function from skimr</code></pre>
<table>
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">flights</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">336776</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">19</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">4</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">14</td>
</tr>
<tr class="even">
<td align="left">POSIXct</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">carrier</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">16</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">tailnum</td>
<td align="right">2512</td>
<td align="right">0.99</td>
<td align="right">5</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="right">4043</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">origin</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">dest</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">105</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">year</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">2013.00</td>
<td align="right">0.00</td>
<td align="right">2013</td>
<td align="right">2013</td>
<td align="right">2013</td>
<td align="right">2013</td>
<td align="right">2013</td>
<td align="left">â–â–â–‡â–â–</td>
</tr>
<tr class="even">
<td align="left">month</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">6.55</td>
<td align="right">3.41</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">7</td>
<td align="right">10</td>
<td align="right">12</td>
<td align="left">â–‡â–†â–†â–†â–‡</td>
</tr>
<tr class="odd">
<td align="left">day</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">15.71</td>
<td align="right">8.77</td>
<td align="right">1</td>
<td align="right">8</td>
<td align="right">16</td>
<td align="right">23</td>
<td align="right">31</td>
<td align="left">â–‡â–‡â–‡â–‡â–†</td>
</tr>
<tr class="even">
<td align="left">dep_time</td>
<td align="right">8255</td>
<td align="right">0.98</td>
<td align="right">1349.11</td>
<td align="right">488.28</td>
<td align="right">1</td>
<td align="right">907</td>
<td align="right">1401</td>
<td align="right">1744</td>
<td align="right">2400</td>
<td align="left">â–â–‡â–†â–‡â–ƒ</td>
</tr>
<tr class="odd">
<td align="left">sched_dep_time</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">1344.25</td>
<td align="right">467.34</td>
<td align="right">106</td>
<td align="right">906</td>
<td align="right">1359</td>
<td align="right">1729</td>
<td align="right">2359</td>
<td align="left">â–â–‡â–‡â–‡â–ƒ</td>
</tr>
<tr class="even">
<td align="left">dep_delay</td>
<td align="right">8255</td>
<td align="right">0.98</td>
<td align="right">12.64</td>
<td align="right">40.21</td>
<td align="right">-43</td>
<td align="right">-5</td>
<td align="right">-2</td>
<td align="right">11</td>
<td align="right">1301</td>
<td align="left">â–‡â–â–â–â–</td>
</tr>
<tr class="odd">
<td align="left">arr_time</td>
<td align="right">8713</td>
<td align="right">0.97</td>
<td align="right">1502.05</td>
<td align="right">533.26</td>
<td align="right">1</td>
<td align="right">1104</td>
<td align="right">1535</td>
<td align="right">1940</td>
<td align="right">2400</td>
<td align="left">â–â–ƒâ–‡â–‡â–‡</td>
</tr>
<tr class="even">
<td align="left">sched_arr_time</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">1536.38</td>
<td align="right">497.46</td>
<td align="right">1</td>
<td align="right">1124</td>
<td align="right">1556</td>
<td align="right">1945</td>
<td align="right">2359</td>
<td align="left">â–â–ƒâ–‡â–‡â–‡</td>
</tr>
<tr class="odd">
<td align="left">arr_delay</td>
<td align="right">9430</td>
<td align="right">0.97</td>
<td align="right">6.90</td>
<td align="right">44.63</td>
<td align="right">-86</td>
<td align="right">-17</td>
<td align="right">-5</td>
<td align="right">14</td>
<td align="right">1272</td>
<td align="left">â–‡â–â–â–â–</td>
</tr>
<tr class="even">
<td align="left">flight</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">1971.92</td>
<td align="right">1632.47</td>
<td align="right">1</td>
<td align="right">553</td>
<td align="right">1496</td>
<td align="right">3465</td>
<td align="right">8500</td>
<td align="left">â–‡â–ƒâ–ƒâ–â–</td>
</tr>
<tr class="odd">
<td align="left">air_time</td>
<td align="right">9430</td>
<td align="right">0.97</td>
<td align="right">150.69</td>
<td align="right">93.69</td>
<td align="right">20</td>
<td align="right">82</td>
<td align="right">129</td>
<td align="right">192</td>
<td align="right">695</td>
<td align="left">â–‡â–‚â–‚â–â–</td>
</tr>
<tr class="even">
<td align="left">distance</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">1039.91</td>
<td align="right">733.23</td>
<td align="right">17</td>
<td align="right">502</td>
<td align="right">872</td>
<td align="right">1389</td>
<td align="right">4983</td>
<td align="left">â–‡â–ƒâ–‚â–â–</td>
</tr>
<tr class="odd">
<td align="left">hour</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">13.18</td>
<td align="right">4.66</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">13</td>
<td align="right">17</td>
<td align="right">23</td>
<td align="left">â–â–‡â–‡â–‡â–…</td>
</tr>
<tr class="even">
<td align="left">minute</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">26.23</td>
<td align="right">19.30</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">29</td>
<td align="right">44</td>
<td align="right">59</td>
<td align="left">â–‡â–ƒâ–†â–ƒâ–…</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: POSIXct</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">min</th>
<th align="left">max</th>
<th align="left">median</th>
<th align="right">n_unique</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">time_hour</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">2013-01-01 05:00:00</td>
<td align="left">2013-12-31 23:00:00</td>
<td align="left">2013-07-03 10:00:00</td>
<td align="right">6936</td>
</tr>
</tbody>
</table></li>
<li><p>Why is <code>NA ^ 0</code> not missing? Why is <code>NA | TRUE</code> not missing? Why is <code>FALSE &amp; NA</code> not missing? Can you figure out the general rule? (<code>NA * 0</code> is a tricky counterexample!)</p>
<pre class="r"><code># Anything to the power 0, is 1
NA ^ 0</code></pre>
<pre><code>[1] 1</code></pre>
<pre class="r"><code># Anything OR TRUE, is still TRUE
NA | TRUE</code></pre>
<pre><code>[1] TRUE</code></pre>
<pre class="r"><code># FALSE and anything, is FALSE
FALSE &amp; NA</code></pre>
<pre><code>[1] FALSE</code></pre>
<pre class="r"><code># Not everything * 0 is 0; e.g sqrt(-2) * 0 is NaN
NA * 0</code></pre>
<pre><code>[1] NA</code></pre></li>
</ol>
<p>Check out <a href="https://twitter.com/SuzanBaert">Suzan Baertâ€™s</a> great <code>dplyr</code> tutorial on <a href="https://suzan.rbind.io/2018/02/dplyr-tutorial-3/">filter</a></p>
</div>
</div>
<div id="arrange" class="section level2">
<h2>Arrange</h2>
<p><span style="color: #008080;background-color:#9FDDBA"><code>arrange()</code></span> changes the order of the observations based on the columns you provide and the order you want it arranged. The syntax is <code>arrange(df, cols_to_order_by)</code> E.g. <code>arrange(df, col1, col2)</code> says â€œHey, take this df and arrange the observations in alphabetical/increasing numeric order of col1 and col2.â€ col2 comes in when there are ties in col1.</p>
<p>We use desc() or <code>-</code> when we want to order the observations in reverse for a column.</p>
<pre><code class='language-r'><code>arrange(flights, <span style='background-color:#9FDDBA;color:#008080'>desc</span>(arr_delay), <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>desc</span>(dep_delay),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;day, month, year) %>% <br>&nbsp;&nbsp;head(10) %>% <br>&nbsp;&nbsp;gt()</code></code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#axpygzjjsc .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#axpygzjjsc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#axpygzjjsc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#axpygzjjsc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#axpygzjjsc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#axpygzjjsc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#axpygzjjsc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#axpygzjjsc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#axpygzjjsc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#axpygzjjsc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#axpygzjjsc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#axpygzjjsc .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#axpygzjjsc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#axpygzjjsc .gt_from_md > :first-child {
  margin-top: 0;
}

#axpygzjjsc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#axpygzjjsc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#axpygzjjsc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#axpygzjjsc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#axpygzjjsc .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#axpygzjjsc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#axpygzjjsc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#axpygzjjsc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#axpygzjjsc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#axpygzjjsc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#axpygzjjsc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#axpygzjjsc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#axpygzjjsc .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#axpygzjjsc .gt_left {
  text-align: left;
}

#axpygzjjsc .gt_center {
  text-align: center;
}

#axpygzjjsc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#axpygzjjsc .gt_font_normal {
  font-weight: normal;
}

#axpygzjjsc .gt_font_bold {
  font-weight: bold;
}

#axpygzjjsc .gt_font_italic {
  font-style: italic;
}

#axpygzjjsc .gt_super {
  font-size: 65%;
}

#axpygzjjsc .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="axpygzjjsc" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">month</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">day</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">dep_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">sched_dep_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">dep_delay</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">arr_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">sched_arr_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">arr_delay</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">carrier</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">flight</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">tailnum</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">origin</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">dest</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">air_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">distance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hour</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">minute</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">time_hour</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_center">9</td>
      <td class="gt_row gt_center">641</td>
      <td class="gt_row gt_center">900</td>
      <td class="gt_row gt_right">1301</td>
      <td class="gt_row gt_center">1242</td>
      <td class="gt_row gt_center">1530</td>
      <td class="gt_row gt_right">1272</td>
      <td class="gt_row gt_left">HA</td>
      <td class="gt_row gt_center">51</td>
      <td class="gt_row gt_left">N384HA</td>
      <td class="gt_row gt_left">JFK</td>
      <td class="gt_row gt_left">HNL</td>
      <td class="gt_row gt_right">640</td>
      <td class="gt_row gt_right">4983</td>
      <td class="gt_row gt_right">9</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_left">2013-01-09 09:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">6</td>
      <td class="gt_row gt_center">15</td>
      <td class="gt_row gt_center">1432</td>
      <td class="gt_row gt_center">1935</td>
      <td class="gt_row gt_right">1137</td>
      <td class="gt_row gt_center">1607</td>
      <td class="gt_row gt_center">2120</td>
      <td class="gt_row gt_right">1127</td>
      <td class="gt_row gt_left">MQ</td>
      <td class="gt_row gt_center">3535</td>
      <td class="gt_row gt_left">N504MQ</td>
      <td class="gt_row gt_left">JFK</td>
      <td class="gt_row gt_left">CMH</td>
      <td class="gt_row gt_right">74</td>
      <td class="gt_row gt_right">483</td>
      <td class="gt_row gt_right">19</td>
      <td class="gt_row gt_right">35</td>
      <td class="gt_row gt_left">2013-06-15 19:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_center">10</td>
      <td class="gt_row gt_center">1121</td>
      <td class="gt_row gt_center">1635</td>
      <td class="gt_row gt_right">1126</td>
      <td class="gt_row gt_center">1239</td>
      <td class="gt_row gt_center">1810</td>
      <td class="gt_row gt_right">1109</td>
      <td class="gt_row gt_left">MQ</td>
      <td class="gt_row gt_center">3695</td>
      <td class="gt_row gt_left">N517MQ</td>
      <td class="gt_row gt_left">EWR</td>
      <td class="gt_row gt_left">ORD</td>
      <td class="gt_row gt_right">111</td>
      <td class="gt_row gt_right">719</td>
      <td class="gt_row gt_right">16</td>
      <td class="gt_row gt_right">35</td>
      <td class="gt_row gt_left">2013-01-10 16:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">9</td>
      <td class="gt_row gt_center">20</td>
      <td class="gt_row gt_center">1139</td>
      <td class="gt_row gt_center">1845</td>
      <td class="gt_row gt_right">1014</td>
      <td class="gt_row gt_center">1457</td>
      <td class="gt_row gt_center">2210</td>
      <td class="gt_row gt_right">1007</td>
      <td class="gt_row gt_left">AA</td>
      <td class="gt_row gt_center">177</td>
      <td class="gt_row gt_left">N338AA</td>
      <td class="gt_row gt_left">JFK</td>
      <td class="gt_row gt_left">SFO</td>
      <td class="gt_row gt_right">354</td>
      <td class="gt_row gt_right">2586</td>
      <td class="gt_row gt_right">18</td>
      <td class="gt_row gt_right">45</td>
      <td class="gt_row gt_left">2013-09-20 18:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">7</td>
      <td class="gt_row gt_center">22</td>
      <td class="gt_row gt_center">845</td>
      <td class="gt_row gt_center">1600</td>
      <td class="gt_row gt_right">1005</td>
      <td class="gt_row gt_center">1044</td>
      <td class="gt_row gt_center">1815</td>
      <td class="gt_row gt_right">989</td>
      <td class="gt_row gt_left">MQ</td>
      <td class="gt_row gt_center">3075</td>
      <td class="gt_row gt_left">N665MQ</td>
      <td class="gt_row gt_left">JFK</td>
      <td class="gt_row gt_left">CVG</td>
      <td class="gt_row gt_right">96</td>
      <td class="gt_row gt_right">589</td>
      <td class="gt_row gt_right">16</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_left">2013-07-22 16:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">4</td>
      <td class="gt_row gt_center">10</td>
      <td class="gt_row gt_center">1100</td>
      <td class="gt_row gt_center">1900</td>
      <td class="gt_row gt_right">960</td>
      <td class="gt_row gt_center">1342</td>
      <td class="gt_row gt_center">2211</td>
      <td class="gt_row gt_right">931</td>
      <td class="gt_row gt_left">DL</td>
      <td class="gt_row gt_center">2391</td>
      <td class="gt_row gt_left">N959DL</td>
      <td class="gt_row gt_left">JFK</td>
      <td class="gt_row gt_left">TPA</td>
      <td class="gt_row gt_right">139</td>
      <td class="gt_row gt_right">1005</td>
      <td class="gt_row gt_right">19</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_left">2013-04-10 19:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">3</td>
      <td class="gt_row gt_center">17</td>
      <td class="gt_row gt_center">2321</td>
      <td class="gt_row gt_center">810</td>
      <td class="gt_row gt_right">911</td>
      <td class="gt_row gt_center">135</td>
      <td class="gt_row gt_center">1020</td>
      <td class="gt_row gt_right">915</td>
      <td class="gt_row gt_left">DL</td>
      <td class="gt_row gt_center">2119</td>
      <td class="gt_row gt_left">N927DA</td>
      <td class="gt_row gt_left">LGA</td>
      <td class="gt_row gt_left">MSP</td>
      <td class="gt_row gt_right">167</td>
      <td class="gt_row gt_right">1020</td>
      <td class="gt_row gt_right">8</td>
      <td class="gt_row gt_right">10</td>
      <td class="gt_row gt_left">2013-03-17 08:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">7</td>
      <td class="gt_row gt_center">22</td>
      <td class="gt_row gt_center">2257</td>
      <td class="gt_row gt_center">759</td>
      <td class="gt_row gt_right">898</td>
      <td class="gt_row gt_center">121</td>
      <td class="gt_row gt_center">1026</td>
      <td class="gt_row gt_right">895</td>
      <td class="gt_row gt_left">DL</td>
      <td class="gt_row gt_center">2047</td>
      <td class="gt_row gt_left">N6716C</td>
      <td class="gt_row gt_left">LGA</td>
      <td class="gt_row gt_left">ATL</td>
      <td class="gt_row gt_right">109</td>
      <td class="gt_row gt_right">762</td>
      <td class="gt_row gt_right">7</td>
      <td class="gt_row gt_right">59</td>
      <td class="gt_row gt_left">2013-07-22 07:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">12</td>
      <td class="gt_row gt_center">5</td>
      <td class="gt_row gt_center">756</td>
      <td class="gt_row gt_center">1700</td>
      <td class="gt_row gt_right">896</td>
      <td class="gt_row gt_center">1058</td>
      <td class="gt_row gt_center">2020</td>
      <td class="gt_row gt_right">878</td>
      <td class="gt_row gt_left">AA</td>
      <td class="gt_row gt_center">172</td>
      <td class="gt_row gt_left">N5DMAA</td>
      <td class="gt_row gt_left">EWR</td>
      <td class="gt_row gt_left">MIA</td>
      <td class="gt_row gt_right">149</td>
      <td class="gt_row gt_right">1085</td>
      <td class="gt_row gt_right">17</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_left">2013-12-05 17:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">5</td>
      <td class="gt_row gt_center">3</td>
      <td class="gt_row gt_center">1133</td>
      <td class="gt_row gt_center">2055</td>
      <td class="gt_row gt_right">878</td>
      <td class="gt_row gt_center">1250</td>
      <td class="gt_row gt_center">2215</td>
      <td class="gt_row gt_right">875</td>
      <td class="gt_row gt_left">MQ</td>
      <td class="gt_row gt_center">3744</td>
      <td class="gt_row gt_left">N523MQ</td>
      <td class="gt_row gt_left">EWR</td>
      <td class="gt_row gt_left">ORD</td>
      <td class="gt_row gt_right">112</td>
      <td class="gt_row gt_right">719</td>
      <td class="gt_row gt_right">20</td>
      <td class="gt_row gt_right">55</td>
      <td class="gt_row gt_left">2013-05-03 20:00:00</td>
    </tr>
  </tbody>
  
  
</table></div>
<p><br></p>
<p>Using the <code>-</code> sign instead of <code>desc()</code> yields the same results.</p>
<pre><code class='language-r'><code>arrange(flights, <span style='background-color:#9FDDBA;color:#008080'>-</span>arr_delay, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>-</span>dep_delay,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;day, month, year) %>% <br>&nbsp;&nbsp;head(10) %>% <br>&nbsp;&nbsp;gt()</code></code></pre>
<p><style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#lcomtpxbgp .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lcomtpxbgp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lcomtpxbgp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lcomtpxbgp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lcomtpxbgp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lcomtpxbgp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lcomtpxbgp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lcomtpxbgp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lcomtpxbgp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lcomtpxbgp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lcomtpxbgp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lcomtpxbgp .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#lcomtpxbgp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lcomtpxbgp .gt_from_md > :first-child {
  margin-top: 0;
}

#lcomtpxbgp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lcomtpxbgp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lcomtpxbgp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#lcomtpxbgp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lcomtpxbgp .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#lcomtpxbgp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lcomtpxbgp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lcomtpxbgp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#lcomtpxbgp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lcomtpxbgp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lcomtpxbgp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#lcomtpxbgp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lcomtpxbgp .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#lcomtpxbgp .gt_left {
  text-align: left;
}

#lcomtpxbgp .gt_center {
  text-align: center;
}

#lcomtpxbgp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lcomtpxbgp .gt_font_normal {
  font-weight: normal;
}

#lcomtpxbgp .gt_font_bold {
  font-weight: bold;
}

#lcomtpxbgp .gt_font_italic {
  font-style: italic;
}

#lcomtpxbgp .gt_super {
  font-size: 65%;
}

#lcomtpxbgp .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="lcomtpxbgp" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">month</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">day</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">dep_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">sched_dep_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">dep_delay</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">arr_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">sched_arr_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">arr_delay</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">carrier</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">flight</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">tailnum</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">origin</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">dest</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">air_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">distance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hour</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">minute</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">time_hour</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_center">9</td>
      <td class="gt_row gt_center">641</td>
      <td class="gt_row gt_center">900</td>
      <td class="gt_row gt_right">1301</td>
      <td class="gt_row gt_center">1242</td>
      <td class="gt_row gt_center">1530</td>
      <td class="gt_row gt_right">1272</td>
      <td class="gt_row gt_left">HA</td>
      <td class="gt_row gt_center">51</td>
      <td class="gt_row gt_left">N384HA</td>
      <td class="gt_row gt_left">JFK</td>
      <td class="gt_row gt_left">HNL</td>
      <td class="gt_row gt_right">640</td>
      <td class="gt_row gt_right">4983</td>
      <td class="gt_row gt_right">9</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_left">2013-01-09 09:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">6</td>
      <td class="gt_row gt_center">15</td>
      <td class="gt_row gt_center">1432</td>
      <td class="gt_row gt_center">1935</td>
      <td class="gt_row gt_right">1137</td>
      <td class="gt_row gt_center">1607</td>
      <td class="gt_row gt_center">2120</td>
      <td class="gt_row gt_right">1127</td>
      <td class="gt_row gt_left">MQ</td>
      <td class="gt_row gt_center">3535</td>
      <td class="gt_row gt_left">N504MQ</td>
      <td class="gt_row gt_left">JFK</td>
      <td class="gt_row gt_left">CMH</td>
      <td class="gt_row gt_right">74</td>
      <td class="gt_row gt_right">483</td>
      <td class="gt_row gt_right">19</td>
      <td class="gt_row gt_right">35</td>
      <td class="gt_row gt_left">2013-06-15 19:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_center">10</td>
      <td class="gt_row gt_center">1121</td>
      <td class="gt_row gt_center">1635</td>
      <td class="gt_row gt_right">1126</td>
      <td class="gt_row gt_center">1239</td>
      <td class="gt_row gt_center">1810</td>
      <td class="gt_row gt_right">1109</td>
      <td class="gt_row gt_left">MQ</td>
      <td class="gt_row gt_center">3695</td>
      <td class="gt_row gt_left">N517MQ</td>
      <td class="gt_row gt_left">EWR</td>
      <td class="gt_row gt_left">ORD</td>
      <td class="gt_row gt_right">111</td>
      <td class="gt_row gt_right">719</td>
      <td class="gt_row gt_right">16</td>
      <td class="gt_row gt_right">35</td>
      <td class="gt_row gt_left">2013-01-10 16:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">9</td>
      <td class="gt_row gt_center">20</td>
      <td class="gt_row gt_center">1139</td>
      <td class="gt_row gt_center">1845</td>
      <td class="gt_row gt_right">1014</td>
      <td class="gt_row gt_center">1457</td>
      <td class="gt_row gt_center">2210</td>
      <td class="gt_row gt_right">1007</td>
      <td class="gt_row gt_left">AA</td>
      <td class="gt_row gt_center">177</td>
      <td class="gt_row gt_left">N338AA</td>
      <td class="gt_row gt_left">JFK</td>
      <td class="gt_row gt_left">SFO</td>
      <td class="gt_row gt_right">354</td>
      <td class="gt_row gt_right">2586</td>
      <td class="gt_row gt_right">18</td>
      <td class="gt_row gt_right">45</td>
      <td class="gt_row gt_left">2013-09-20 18:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">7</td>
      <td class="gt_row gt_center">22</td>
      <td class="gt_row gt_center">845</td>
      <td class="gt_row gt_center">1600</td>
      <td class="gt_row gt_right">1005</td>
      <td class="gt_row gt_center">1044</td>
      <td class="gt_row gt_center">1815</td>
      <td class="gt_row gt_right">989</td>
      <td class="gt_row gt_left">MQ</td>
      <td class="gt_row gt_center">3075</td>
      <td class="gt_row gt_left">N665MQ</td>
      <td class="gt_row gt_left">JFK</td>
      <td class="gt_row gt_left">CVG</td>
      <td class="gt_row gt_right">96</td>
      <td class="gt_row gt_right">589</td>
      <td class="gt_row gt_right">16</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_left">2013-07-22 16:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">4</td>
      <td class="gt_row gt_center">10</td>
      <td class="gt_row gt_center">1100</td>
      <td class="gt_row gt_center">1900</td>
      <td class="gt_row gt_right">960</td>
      <td class="gt_row gt_center">1342</td>
      <td class="gt_row gt_center">2211</td>
      <td class="gt_row gt_right">931</td>
      <td class="gt_row gt_left">DL</td>
      <td class="gt_row gt_center">2391</td>
      <td class="gt_row gt_left">N959DL</td>
      <td class="gt_row gt_left">JFK</td>
      <td class="gt_row gt_left">TPA</td>
      <td class="gt_row gt_right">139</td>
      <td class="gt_row gt_right">1005</td>
      <td class="gt_row gt_right">19</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_left">2013-04-10 19:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">3</td>
      <td class="gt_row gt_center">17</td>
      <td class="gt_row gt_center">2321</td>
      <td class="gt_row gt_center">810</td>
      <td class="gt_row gt_right">911</td>
      <td class="gt_row gt_center">135</td>
      <td class="gt_row gt_center">1020</td>
      <td class="gt_row gt_right">915</td>
      <td class="gt_row gt_left">DL</td>
      <td class="gt_row gt_center">2119</td>
      <td class="gt_row gt_left">N927DA</td>
      <td class="gt_row gt_left">LGA</td>
      <td class="gt_row gt_left">MSP</td>
      <td class="gt_row gt_right">167</td>
      <td class="gt_row gt_right">1020</td>
      <td class="gt_row gt_right">8</td>
      <td class="gt_row gt_right">10</td>
      <td class="gt_row gt_left">2013-03-17 08:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">7</td>
      <td class="gt_row gt_center">22</td>
      <td class="gt_row gt_center">2257</td>
      <td class="gt_row gt_center">759</td>
      <td class="gt_row gt_right">898</td>
      <td class="gt_row gt_center">121</td>
      <td class="gt_row gt_center">1026</td>
      <td class="gt_row gt_right">895</td>
      <td class="gt_row gt_left">DL</td>
      <td class="gt_row gt_center">2047</td>
      <td class="gt_row gt_left">N6716C</td>
      <td class="gt_row gt_left">LGA</td>
      <td class="gt_row gt_left">ATL</td>
      <td class="gt_row gt_right">109</td>
      <td class="gt_row gt_right">762</td>
      <td class="gt_row gt_right">7</td>
      <td class="gt_row gt_right">59</td>
      <td class="gt_row gt_left">2013-07-22 07:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">12</td>
      <td class="gt_row gt_center">5</td>
      <td class="gt_row gt_center">756</td>
      <td class="gt_row gt_center">1700</td>
      <td class="gt_row gt_right">896</td>
      <td class="gt_row gt_center">1058</td>
      <td class="gt_row gt_center">2020</td>
      <td class="gt_row gt_right">878</td>
      <td class="gt_row gt_left">AA</td>
      <td class="gt_row gt_center">172</td>
      <td class="gt_row gt_left">N5DMAA</td>
      <td class="gt_row gt_left">EWR</td>
      <td class="gt_row gt_left">MIA</td>
      <td class="gt_row gt_right">149</td>
      <td class="gt_row gt_right">1085</td>
      <td class="gt_row gt_right">17</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_left">2013-12-05 17:00:00</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2013</td>
      <td class="gt_row gt_center">5</td>
      <td class="gt_row gt_center">3</td>
      <td class="gt_row gt_center">1133</td>
      <td class="gt_row gt_center">2055</td>
      <td class="gt_row gt_right">878</td>
      <td class="gt_row gt_center">1250</td>
      <td class="gt_row gt_center">2215</td>
      <td class="gt_row gt_right">875</td>
      <td class="gt_row gt_left">MQ</td>
      <td class="gt_row gt_center">3744</td>
      <td class="gt_row gt_left">N523MQ</td>
      <td class="gt_row gt_left">EWR</td>
      <td class="gt_row gt_left">ORD</td>
      <td class="gt_row gt_right">112</td>
      <td class="gt_row gt_right">719</td>
      <td class="gt_row gt_right">20</td>
      <td class="gt_row gt_right">55</td>
      <td class="gt_row gt_left">2013-05-03 20:00:00</td>
    </tr>
  </tbody>
  
  
</table></div> <br></p>
<div id="exercises-1" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>How could you use <code>arrange()</code> to sort all missing values to the start? Answer found <a href="https://stackoverflow.com/questions/37760580/dplyr-arrange-function-sort-by-missing-values">here</a>. (Hint: use <code>is.na()</code>).</p>
<pre class="r"><code>flights %&gt;% 
  # arrange by highest row sum of NA&#39;s
  # observations with most NAs float to the
  # top of the df returned
  arrange(desc(rowSums(is.na(.))))</code></pre>
<pre><code># A tibble: 336,776 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     2       NA           1545        NA       NA           1910
 2  2013     1     2       NA           1601        NA       NA           1735
 3  2013     1     3       NA            857        NA       NA           1209
 4  2013     1     3       NA            645        NA       NA            952
 5  2013     1     4       NA            845        NA       NA           1015
 6  2013     1     4       NA           1830        NA       NA           2044
 7  2013     1     5       NA            840        NA       NA           1001
 8  2013     1     7       NA            820        NA       NA            958
 9  2013     1     8       NA           1645        NA       NA           1838
10  2013     1     9       NA            755        NA       NA           1012
# ... with 336,766 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre></li>
<li><p>Sort <code>flights</code> to find the most delayed flights. Find the flights that left earliest.</p>
<pre class="r"><code>arrange(flights, -dep_delay,
        dep_time)</code></pre>
<pre><code># A tibble: 336,776 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     9      641            900      1301     1242           1530
 2  2013     6    15     1432           1935      1137     1607           2120
 3  2013     1    10     1121           1635      1126     1239           1810
 4  2013     9    20     1139           1845      1014     1457           2210
 5  2013     7    22      845           1600      1005     1044           1815
 6  2013     4    10     1100           1900       960     1342           2211
 7  2013     3    17     2321            810       911      135           1020
 8  2013     6    27      959           1900       899     1236           2226
 9  2013     7    22     2257            759       898      121           1026
10  2013    12     5      756           1700       896     1058           2020
# ... with 336,766 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre></li>
<li><p>Sort <code>flights</code> to find the fastest (highest speed) flights.</p>
<pre class="r"><code>arrange(flights, desc(distance/air_time))</code></pre>
<pre><code># A tibble: 336,776 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     5    25     1709           1700         9     1923           1937
 2  2013     7     2     1558           1513        45     1745           1719
 3  2013     5    13     2040           2025        15     2225           2226
 4  2013     3    23     1914           1910         4     2045           2043
 5  2013     1    12     1559           1600        -1     1849           1917
 6  2013    11    17      650            655        -5     1059           1150
 7  2013     2    21     2355           2358        -3      412            438
 8  2013    11    17      759            800        -1     1212           1255
 9  2013    11    16     2003           1925        38       17             36
10  2013    11    16     2349           2359       -10      402            440
# ... with 336,766 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre></li>
<li><p>Which flights travelled the farthest? Which travelled the shortest?</p></li>
</ol>
<ul>
<li>farthest</li>
</ul>
<pre class="r"><code># farthest
arrange(flights, desc(distance))</code></pre>
<pre><code># A tibble: 336,776 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      857            900        -3     1516           1530
 2  2013     1     2      909            900         9     1525           1530
 3  2013     1     3      914            900        14     1504           1530
 4  2013     1     4      900            900         0     1516           1530
 5  2013     1     5      858            900        -2     1519           1530
 6  2013     1     6     1019            900        79     1558           1530
 7  2013     1     7     1042            900       102     1620           1530
 8  2013     1     8      901            900         1     1504           1530
 9  2013     1     9      641            900      1301     1242           1530
10  2013     1    10      859            900        -1     1449           1530
# ... with 336,766 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<ul>
<li>shortest (assuming shortest distance here in context above)</li>
</ul>
<pre class="r"><code>arrange(flights, distance)</code></pre>
<pre><code># A tibble: 336,776 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     7    27       NA            106        NA       NA            245
 2  2013     1     3     2127           2129        -2     2222           2224
 3  2013     1     4     1240           1200        40     1333           1306
 4  2013     1     4     1829           1615       134     1937           1721
 5  2013     1     4     2128           2129        -1     2218           2224
 6  2013     1     5     1155           1200        -5     1241           1306
 7  2013     1     6     2125           2129        -4     2224           2224
 8  2013     1     7     2124           2129        -5     2212           2224
 9  2013     1     8     2127           2130        -3     2304           2225
10  2013     1     9     2126           2129        -3     2217           2224
# ... with 336,766 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<div id="select-columns" class="section level2">
<h2>Select columns</h2>
<p><span style="color: #008080;background-color:#9FDDBA"><code>select()</code></span> allows you to choose a subset of <span style="color: #008080;background-color:#9FDDBA">columns / variables</span> in your data.</p>
<p>Letâ€™s try out some using the <code>penguins</code> data.</p>
<pre class="r"><code>as_tibble(names(penguins_raw) ) %&gt;% 
  gt() %&gt;% 
  tab_options(
    heading.title.font.size = &quot;small&quot;,
    table.font.size = &quot;small&quot;
  )</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#vjhlwqnigk .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: small;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vjhlwqnigk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vjhlwqnigk .gt_title {
  color: #333333;
  font-size: small;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vjhlwqnigk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vjhlwqnigk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vjhlwqnigk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vjhlwqnigk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vjhlwqnigk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vjhlwqnigk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vjhlwqnigk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vjhlwqnigk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vjhlwqnigk .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#vjhlwqnigk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vjhlwqnigk .gt_from_md > :first-child {
  margin-top: 0;
}

#vjhlwqnigk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vjhlwqnigk .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vjhlwqnigk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#vjhlwqnigk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vjhlwqnigk .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#vjhlwqnigk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vjhlwqnigk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vjhlwqnigk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vjhlwqnigk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vjhlwqnigk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vjhlwqnigk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#vjhlwqnigk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vjhlwqnigk .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#vjhlwqnigk .gt_left {
  text-align: left;
}

#vjhlwqnigk .gt_center {
  text-align: center;
}

#vjhlwqnigk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vjhlwqnigk .gt_font_normal {
  font-weight: normal;
}

#vjhlwqnigk .gt_font_bold {
  font-weight: bold;
}

#vjhlwqnigk .gt_font_italic {
  font-style: italic;
}

#vjhlwqnigk .gt_super {
  font-size: 65%;
}

#vjhlwqnigk .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="vjhlwqnigk" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">value</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">studyName</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Sample Number</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Species</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Region</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Island</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Stage</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Individual ID</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Clutch Completion</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Date Egg</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Culmen Length (mm)</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Culmen Depth (mm)</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Flipper Length (mm)</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Body Mass (g)</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Sex</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Delta 15 N (o/oo)</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Delta 13 C (o/oo)</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Comments</td>
    </tr>
  </tbody>
  
  
</table></div>
<p><br></p>
<ul>
<li>Select columns by <span style="color: #008080;background-color:#9FDDBA">name</span></li>
</ul>
<pre><code class='language-r'><code>select(penguins_raw, <span style='background-color:#9FDDBA;color:#008080'>"Sample Number"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>Island, Sex</span>)</code></code></pre>
<pre><code>
# A tibble: 344 x 3
   `Sample Number` Island    Sex   
             &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt; 
 1               1 Torgersen MALE  
 2               2 Torgersen FEMALE
 3               3 Torgersen FEMALE
 4               4 Torgersen &lt;NA&gt;  
 5               5 Torgersen FEMALE
 6               6 Torgersen MALE  
 7               7 Torgersen FEMALE
 8               8 Torgersen MALE  
 9               9 Torgersen &lt;NA&gt;  
10              10 Torgersen &lt;NA&gt;  
# ... with 334 more rows
</code></pre>
<ul>
<li>Select columns in a <span style="color: #008080;background-color:#9FDDBA">range</span></li>
</ul>
<pre><code class='language-r'><code>select(penguins_raw, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Sample Number"<span style='background-color:#9FDDBA;color:#008080'>:</span>"Individual ID")</code></code></pre>
<pre><code>
# A tibble: 344 x 6
   `Sample Number` Species             Region Island  Stage      `Individual ID`
             &lt;dbl&gt; &lt;chr&gt;               &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;          
 1               1 Adelie Penguin (Py~ Anvers Torger~ Adult, 1 ~ N1A1           
 2               2 Adelie Penguin (Py~ Anvers Torger~ Adult, 1 ~ N1A2           
 3               3 Adelie Penguin (Py~ Anvers Torger~ Adult, 1 ~ N2A1           
 4               4 Adelie Penguin (Py~ Anvers Torger~ Adult, 1 ~ N2A2           
 5               5 Adelie Penguin (Py~ Anvers Torger~ Adult, 1 ~ N3A1           
 6               6 Adelie Penguin (Py~ Anvers Torger~ Adult, 1 ~ N3A2           
 7               7 Adelie Penguin (Py~ Anvers Torger~ Adult, 1 ~ N4A1           
 8               8 Adelie Penguin (Py~ Anvers Torger~ Adult, 1 ~ N4A2           
 9               9 Adelie Penguin (Py~ Anvers Torger~ Adult, 1 ~ N5A1           
10              10 Adelie Penguin (Py~ Anvers Torger~ Adult, 1 ~ N5A2           
# ... with 334 more rows
</code></pre>
<ul>
<li>Select everything <span style="color: #008080;background-color:#9FDDBA">except for</span></li>
</ul>
<pre><code class='language-r'><code>select(penguins_raw, <span style='background-color:#9FDDBA;color:#008080'>-</span>Comments, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>-</span>(Region:"Date Egg"),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>-</span>ends_with("(o/oo)"))</code></code></pre>
<pre><code>
# A tibble: 344 x 8
   studyName `Sample Number` Species `Culmen Length ~ `Culmen Depth (~
   &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;              &lt;dbl&gt;            &lt;dbl&gt;
 1 PAL0708                 1 Adelie~             39.1             18.7
 2 PAL0708                 2 Adelie~             39.5             17.4
 3 PAL0708                 3 Adelie~             40.3             18  
 4 PAL0708                 4 Adelie~             NA               NA  
 5 PAL0708                 5 Adelie~             36.7             19.3
 6 PAL0708                 6 Adelie~             39.3             20.6
 7 PAL0708                 7 Adelie~             38.9             17.8
 8 PAL0708                 8 Adelie~             39.2             19.6
 9 PAL0708                 9 Adelie~             34.1             18.1
10 PAL0708                10 Adelie~             42               20.2
# ... with 334 more rows, and 3 more variables: `Flipper Length (mm)` &lt;dbl&gt;,
#   `Body Mass (g)` &lt;dbl&gt;, Sex &lt;chr&gt;
</code></pre>
<ul>
<li><p>Select using helper functions (we saw one above)</p>
<ul>
<li><p><span style="color: #008080;background-color:#9FDDBA"><code>starts_with("abc")</code></span> : matches names that begin with â€œabcâ€.</p></li>
<li><p><span style="color: #008080;background-color:#9FDDBA"><code>ends_with("xyz")</code></span>: matches names that end with â€œxyzâ€.</p></li>
<li><p><span style="color: #008080;background-color:#9FDDBA"><code>contains("ijk")</code></span>: matches names that contain â€œijkâ€.</p></li>
<li><p><span style="color: #008080;background-color:#9FDDBA"><code>matches("(.)\\1")</code></span>: selects variables that match a regular expression. This one matches any variables that contain repeated characters. Youâ€™ll learn more about regular expressions in [strings].</p></li>
<li><p><span style="color: #008080;background-color:#9FDDBA"><code>num_range("x", 1:3)</code></span>: matches <code>x1</code>, <code>x2</code> and <code>x3</code>.</p></li>
</ul></li>
</ul>
<pre><code class='language-r'><code>select(penguins_raw, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# cols starting with "Delta"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>starts_with</span>("Delta"))</code></code></pre>
<pre><code>
# A tibble: 344 x 2
   `Delta 15 N (o/oo)` `Delta 13 C (o/oo)`
                 &lt;dbl&gt;               &lt;dbl&gt;
 1               NA                   NA  
 2                8.95               -24.7
 3                8.37               -25.3
 4               NA                   NA  
 5                8.77               -25.3
 6                8.66               -25.3
 7                9.19               -25.2
 8                9.46               -24.9
 9               NA                   NA  
10                9.13               -25.1
# ... with 334 more rows
</code></pre>
<pre><code class='language-r'><code>select(penguins_raw, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# all cols except those ending with "(o/oo)"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-<span style='background-color:#9FDDBA;color:#008080'>ends_with</span>("(o/oo)"))</code></code></pre>
<pre><code>
# A tibble: 344 x 15
   studyName `Sample Number` Species Region Island Stage `Individual ID`
   &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;          
 1 PAL0708                 1 Adelie~ Anvers Torge~ Adul~ N1A1           
 2 PAL0708                 2 Adelie~ Anvers Torge~ Adul~ N1A2           
 3 PAL0708                 3 Adelie~ Anvers Torge~ Adul~ N2A1           
 4 PAL0708                 4 Adelie~ Anvers Torge~ Adul~ N2A2           
 5 PAL0708                 5 Adelie~ Anvers Torge~ Adul~ N3A1           
 6 PAL0708                 6 Adelie~ Anvers Torge~ Adul~ N3A2           
 7 PAL0708                 7 Adelie~ Anvers Torge~ Adul~ N4A1           
 8 PAL0708                 8 Adelie~ Anvers Torge~ Adul~ N4A2           
 9 PAL0708                 9 Adelie~ Anvers Torge~ Adul~ N5A1           
10 PAL0708                10 Adelie~ Anvers Torge~ Adul~ N5A2           
# ... with 334 more rows, and 8 more variables: `Clutch Completion` &lt;chr&gt;,
#   `Date Egg` &lt;date&gt;, `Culmen Length (mm)` &lt;dbl&gt;, `Culmen Depth (mm)` &lt;dbl&gt;,
#   `Flipper Length (mm)` &lt;dbl&gt;, `Body Mass (g)` &lt;dbl&gt;, Sex &lt;chr&gt;,
#   Comments &lt;chr&gt;
</code></pre>
<pre><code class='language-r'><code>select(penguins_raw, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# all columns except those with mm<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-<span style='background-color:#9FDDBA;color:#008080'>contains</span>("(mm)"))</code></code></pre>
<pre><code>
# A tibble: 344 x 14
   studyName `Sample Number` Species Region Island Stage `Individual ID`
   &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;          
 1 PAL0708                 1 Adelie~ Anvers Torge~ Adul~ N1A1           
 2 PAL0708                 2 Adelie~ Anvers Torge~ Adul~ N1A2           
 3 PAL0708                 3 Adelie~ Anvers Torge~ Adul~ N2A1           
 4 PAL0708                 4 Adelie~ Anvers Torge~ Adul~ N2A2           
 5 PAL0708                 5 Adelie~ Anvers Torge~ Adul~ N3A1           
 6 PAL0708                 6 Adelie~ Anvers Torge~ Adul~ N3A2           
 7 PAL0708                 7 Adelie~ Anvers Torge~ Adul~ N4A1           
 8 PAL0708                 8 Adelie~ Anvers Torge~ Adul~ N4A2           
 9 PAL0708                 9 Adelie~ Anvers Torge~ Adul~ N5A1           
10 PAL0708                10 Adelie~ Anvers Torge~ Adul~ N5A2           
# ... with 334 more rows, and 7 more variables: `Clutch Completion` &lt;chr&gt;,
#   `Date Egg` &lt;date&gt;, `Body Mass (g)` &lt;dbl&gt;, Sex &lt;chr&gt;, `Delta 15 N
#   (o/oo)` &lt;dbl&gt;, `Delta 13 C (o/oo)` &lt;dbl&gt;, Comments &lt;chr&gt;
</code></pre>
<pre><code class='language-r'><code>select(penguins_raw, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# any cols having brackets <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# with letters &nbsp;or / inside<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>matches</span>("\\([a-zA-Z/]+\\)"))</code></code></pre>
<pre><code>
# A tibble: 344 x 6
   `Culmen Length ~ `Culmen Depth (~ `Flipper Length~ `Body Mass (g)`
              &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;           &lt;dbl&gt;
 1             39.1             18.7              181            3750
 2             39.5             17.4              186            3800
 3             40.3             18                195            3250
 4             NA               NA                 NA              NA
 5             36.7             19.3              193            3450
 6             39.3             20.6              190            3650
 7             38.9             17.8              181            3625
 8             39.2             19.6              195            4675
 9             34.1             18.1              193            3475
10             42               20.2              190            4250
# ... with 334 more rows, and 2 more variables: `Delta 15 N (o/oo)` &lt;dbl&gt;,
#   `Delta 13 C (o/oo)` &lt;dbl&gt;
</code></pre>
<ul>
<li>Use <code>select()</code> to <span style="color: #008080;background-color:#9FDDBA">reorder columns</span>.</li>
</ul>
<pre><code class='language-r'><code># move Species, Region, Island upfront them put<br># in the rest<br>select(penguins_raw, Species, Region, Island,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>everything()</span>)</code></code></pre>
<pre><code>
# A tibble: 344 x 17
   Species Region Island studyName `Sample Number` Stage `Individual ID`
   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;          
 1 Adelie~ Anvers Torge~ PAL0708                 1 Adul~ N1A1           
 2 Adelie~ Anvers Torge~ PAL0708                 2 Adul~ N1A2           
 3 Adelie~ Anvers Torge~ PAL0708                 3 Adul~ N2A1           
 4 Adelie~ Anvers Torge~ PAL0708                 4 Adul~ N2A2           
 5 Adelie~ Anvers Torge~ PAL0708                 5 Adul~ N3A1           
 6 Adelie~ Anvers Torge~ PAL0708                 6 Adul~ N3A2           
 7 Adelie~ Anvers Torge~ PAL0708                 7 Adul~ N4A1           
 8 Adelie~ Anvers Torge~ PAL0708                 8 Adul~ N4A2           
 9 Adelie~ Anvers Torge~ PAL0708                 9 Adul~ N5A1           
10 Adelie~ Anvers Torge~ PAL0708                10 Adul~ N5A2           
# ... with 334 more rows, and 10 more variables: `Clutch Completion` &lt;chr&gt;,
#   `Date Egg` &lt;date&gt;, `Culmen Length (mm)` &lt;dbl&gt;, `Culmen Depth (mm)` &lt;dbl&gt;,
#   `Flipper Length (mm)` &lt;dbl&gt;, `Body Mass (g)` &lt;dbl&gt;, Sex &lt;chr&gt;, `Delta 15 N
#   (o/oo)` &lt;dbl&gt;, `Delta 13 C (o/oo)` &lt;dbl&gt;, Comments &lt;chr&gt;
</code></pre>
<div id="exercises-2" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>Brainstorm as many ways as possible to select <code>dep_time</code>, <code>dep_delay</code>, <code>arr_time</code>, and <code>arr_delay</code> from <code>flights</code>.</p>
<pre class="r"><code># by name
select(flights, dep_time, dep_delay,
       arr_time, arr_delay)</code></pre>
<pre><code># A tibble: 336,776 x 4
   dep_time dep_delay arr_time arr_delay
      &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1      517         2      830        11
 2      533         4      850        20
 3      542         2      923        33
 4      544        -1     1004       -18
 5      554        -6      812       -25
 6      554        -4      740        12
 7      555        -5      913        19
 8      557        -3      709       -14
 9      557        -3      838        -8
10      558        -2      753         8
# ... with 336,766 more rows</code></pre>
<pre class="r"><code># range
select(flights, dep_time:arr_delay,
       -sched_dep_time,
       -sched_arr_time)</code></pre>
<pre><code># A tibble: 336,776 x 4
   dep_time dep_delay arr_time arr_delay
      &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1      517         2      830        11
 2      533         4      850        20
 3      542         2      923        33
 4      544        -1     1004       -18
 5      554        -6      812       -25
 6      554        -4      740        12
 7      555        -5      913        19
 8      557        -3      709       -14
 9      557        -3      838        -8
10      558        -2      753         8
# ... with 336,766 more rows</code></pre>
<pre class="r"><code># except for
select(flights, -(year:day),
       -sched_dep_time,
       -sched_arr_time,
       -(carrier:time_hour))</code></pre>
<pre><code># A tibble: 336,776 x 4
   dep_time dep_delay arr_time arr_delay
      &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1      517         2      830        11
 2      533         4      850        20
 3      542         2      923        33
 4      544        -1     1004       -18
 5      554        -6      812       -25
 6      554        -4      740        12
 7      555        -5      913        19
 8      557        -3      709       -14
 9      557        -3      838        -8
10      558        -2      753         8
# ... with 336,766 more rows</code></pre>
<pre class="r"><code># starts with
select(flights, 
       starts_with(&quot;dep&quot;),
       starts_with(&quot;arr&quot;))</code></pre>
<pre><code># A tibble: 336,776 x 4
   dep_time dep_delay arr_time arr_delay
      &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1      517         2      830        11
 2      533         4      850        20
 3      542         2      923        33
 4      544        -1     1004       -18
 5      554        -6      812       -25
 6      554        -4      740        12
 7      555        -5      913        19
 8      557        -3      709       -14
 9      557        -3      838        -8
10      558        -2      753         8
# ... with 336,766 more rows</code></pre>
<pre class="r"><code># ends with
select(flights, 
       ends_with(&quot;time&quot;),
       ends_with(&quot;delay&quot;),
       -sched_dep_time,
       -sched_arr_time,
       -air_time)</code></pre>
<pre><code># A tibble: 336,776 x 4
   dep_time arr_time dep_delay arr_delay
      &lt;int&gt;    &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1      517      830         2        11
 2      533      850         4        20
 3      542      923         2        33
 4      544     1004        -1       -18
 5      554      812        -6       -25
 6      554      740        -4        12
 7      555      913        -5        19
 8      557      709        -3       -14
 9      557      838        -3        -8
10      558      753        -2         8
# ... with 336,766 more rows</code></pre>
<pre class="r"><code># contains
select(flights, 
       contains(&quot;dep_&quot;),
       contains(&quot;arr_&quot;), 
       -sched_dep_time,
       -sched_arr_time)</code></pre>
<pre><code># A tibble: 336,776 x 4
   dep_time dep_delay arr_time arr_delay
      &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1      517         2      830        11
 2      533         4      850        20
 3      542         2      923        33
 4      544        -1     1004       -18
 5      554        -6      812       -25
 6      554        -4      740        12
 7      555        -5      913        19
 8      557        -3      709       -14
 9      557        -3      838        -8
10      558        -2      753         8
# ... with 336,766 more rows</code></pre>
<pre class="r"><code># matches
select(flights, 
       matches(&quot;^(dep|arr)_(delay|time)&quot;))</code></pre>
<pre><code># A tibble: 336,776 x 4
   dep_time dep_delay arr_time arr_delay
      &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1      517         2      830        11
 2      533         4      850        20
 3      542         2      923        33
 4      544        -1     1004       -18
 5      554        -6      812       -25
 6      554        -4      740        12
 7      555        -5      913        19
 8      557        -3      709       -14
 9      557        -3      838        -8
10      558        -2      753         8
# ... with 336,766 more rows</code></pre></li>
<li><p>What happens if you include the name of a variable multiple times in a <code>select()</code> call?</p>
<p>Only one instance is included. If you want both variables you have to rename both variables.</p>
<pre><code class='language-r'><code>select(penguins, species, island,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ends_with("mm"),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;species,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body_mass_g:year)</code></code></pre>
<pre><code>
    # A tibble: 344 x 8
       species island bill_length_mm bill_depth_mm flipper_length_~ body_mass_g
       &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt;       &lt;int&gt;
     1 Adelie  Torge~           39.1          18.7              181        3750
     2 Adelie  Torge~           39.5          17.4              186        3800
     3 Adelie  Torge~           40.3          18                195        3250
     4 Adelie  Torge~           NA            NA                 NA          NA
     5 Adelie  Torge~           36.7          19.3              193        3450
     6 Adelie  Torge~           39.3          20.6              190        3650
     7 Adelie  Torge~           38.9          17.8              181        3625
     8 Adelie  Torge~           39.2          19.6              195        4675
     9 Adelie  Torge~           34.1          18.1              193        3475
    10 Adelie  Torge~           42            20.2              190        4250
    # ... with 334 more rows, and 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;
</code></pre>
<pre><code class='language-r'><code>select(penguins, <span style='background-color:#9FDDBA;color:#008080'>species = species</span>, island,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ends_with("mm"),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>rep_</span><span style='background-color:#9FDDBA;color:#008080'>species = species</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body_mass_g:year)</code></code></pre>
<pre><code>
    # A tibble: 344 x 9
       species island bill_length_mm bill_depth_mm flipper_length_~ rep_species
       &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt; &lt;fct&gt;      
     1 Adelie  Torge~           39.1          18.7              181 Adelie     
     2 Adelie  Torge~           39.5          17.4              186 Adelie     
     3 Adelie  Torge~           40.3          18                195 Adelie     
     4 Adelie  Torge~           NA            NA                 NA Adelie     
     5 Adelie  Torge~           36.7          19.3              193 Adelie     
     6 Adelie  Torge~           39.3          20.6              190 Adelie     
     7 Adelie  Torge~           38.9          17.8              181 Adelie     
     8 Adelie  Torge~           39.2          19.6              195 Adelie     
     9 Adelie  Torge~           34.1          18.1              193 Adelie     
    10 Adelie  Torge~           42            20.2              190 Adelie     
    # ... with 334 more rows, and 3 more variables: body_mass_g &lt;int&gt;, sex &lt;fct&gt;,
    #   year &lt;int&gt;
</code></pre></li>
<li><p>What does the <code>one_of()</code> function do? Why might it be helpful in conjunction with this vector?</p>
<pre class="r"><code>vars &lt;- c(&quot;year&quot;, &quot;month&quot;, &quot;day&quot;, &quot;dep_delay&quot;, &quot;arr_delay&quot;)</code></pre>
<p>It selects a column if it forms a part of the vector.</p>
<pre class="r"><code>select(flights,
       one_of(vars))</code></pre>
<pre><code># A tibble: 336,776 x 5
    year month   day dep_delay arr_delay
   &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1  2013     1     1         2        11
 2  2013     1     1         4        20
 3  2013     1     1         2        33
 4  2013     1     1        -1       -18
 5  2013     1     1        -6       -25
 6  2013     1     1        -4        12
 7  2013     1     1        -5        19
 8  2013     1     1        -3       -14
 9  2013     1     1        -3        -8
10  2013     1     1        -2         8
# ... with 336,766 more rows</code></pre></li>
<li><p>Does the result of running the following code surprise you? How do the select helpers deal with case by default? How can you change that default?</p>
<pre class="r"><code>select(flights, contains(&quot;TIME&quot;))</code></pre>
<p>The default is <code>ignore.case = TRUE</code> hence this behaviour. If you want to find the precise thing youâ€™re looking for add <span style="color: #008080;background-color:#9FDDBA"><code>ignore.case = FALSE</code></span> in your helper function.</p>
<pre class="r"><code>select(flights, contains(&quot;TIME&quot;))</code></pre>
<pre><code># A tibble: 336,776 x 6
   dep_time sched_dep_time arr_time sched_arr_time air_time time_hour          
      &lt;int&gt;          &lt;int&gt;    &lt;int&gt;          &lt;int&gt;    &lt;dbl&gt; &lt;dttm&gt;             
 1      517            515      830            819      227 2013-01-01 05:00:00
 2      533            529      850            830      227 2013-01-01 05:00:00
 3      542            540      923            850      160 2013-01-01 05:00:00
 4      544            545     1004           1022      183 2013-01-01 05:00:00
 5      554            600      812            837      116 2013-01-01 06:00:00
 6      554            558      740            728      150 2013-01-01 05:00:00
 7      555            600      913            854      158 2013-01-01 06:00:00
 8      557            600      709            723       53 2013-01-01 06:00:00
 9      557            600      838            846      140 2013-01-01 06:00:00
10      558            600      753            745      138 2013-01-01 06:00:00
# ... with 336,766 more rows</code></pre>
<pre><code class='language-r'><code>select(flights, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contains("TIME", <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>ignore.case = FALSE</span>))</code></code></pre>
<pre><code>
    # A tibble: 336,776 x 0
</code></pre></li>
</ol>
</div>
</div>
<div id="mutate" class="section level2">
<h2>Mutate</h2>
<p><span style="color: #008080;background-color:#9FDDBA"><code>mutate()</code></span> is the verb used to create new variables in your dataframe based on other variables in your dataset.</p>
<pre><code class='language-r'><code>flights_sml <- select(flights, <br>&nbsp;&nbsp;year:day, <br>&nbsp;&nbsp;ends_with("delay"), <br>&nbsp;&nbsp;distance, <br>&nbsp;&nbsp;air_time<br>)<br><span style='background-color:#9FDDBA;color:#008080'>mutate</span>(flights_sml,<br>&nbsp;&nbsp;gain = dep_delay - arr_delay,<br>&nbsp;&nbsp;speed = distance / air_time * 60,<br>&nbsp;&nbsp;hours = air_time / 60,<br>&nbsp;&nbsp;gain_per_hour = gain / hours<br>)</code></code></pre>
<pre><code>
# A tibble: 336,776 x 11
    year month   day dep_delay arr_delay distance air_time  gain speed hours
   &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  2013     1     1         2        11     1400      227    -9  370. 3.78 
 2  2013     1     1         4        20     1416      227   -16  374. 3.78 
 3  2013     1     1         2        33     1089      160   -31  408. 2.67 
 4  2013     1     1        -1       -18     1576      183    17  517. 3.05 
 5  2013     1     1        -6       -25      762      116    19  394. 1.93 
 6  2013     1     1        -4        12      719      150   -16  288. 2.5  
 7  2013     1     1        -5        19     1065      158   -24  404. 2.63 
 8  2013     1     1        -3       -14      229       53    11  259. 0.883
 9  2013     1     1        -3        -8      944      140     5  405. 2.33 
10  2013     1     1        -2         8      733      138   -10  319. 2.3  
# ... with 336,766 more rows, and 1 more variable: gain_per_hour &lt;dbl&gt;
</code></pre>
<p>To keep the new variables only, use <span style="color: #008080;background-color:#9FDDBA"><code>transmute()</code></span>.</p>
<pre><code class='language-r'><code><span style='background-color:#9FDDBA;color:#008080'>transmute</span>(flights,<br>&nbsp;&nbsp;gain = dep_delay - arr_delay,<br>&nbsp;&nbsp;speed = distance / air_time * 60,<br>&nbsp;&nbsp;hours = air_time / 60,<br>&nbsp;&nbsp;gain_per_hour = gain / hours<br>)</code></code></pre>
<pre><code>
# A tibble: 336,776 x 4
    gain speed hours gain_per_hour
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt;
 1    -9  370. 3.78          -2.38
 2   -16  374. 3.78          -4.23
 3   -31  408. 2.67         -11.6 
 4    17  517. 3.05           5.57
 5    19  394. 1.93           9.83
 6   -16  288. 2.5           -6.4 
 7   -24  404. 2.63          -9.11
 8    11  259. 0.883         12.5 
 9     5  405. 2.33           2.14
10   -10  319. 2.3           -4.35
# ... with 336,766 more rows
</code></pre>
<p>There are many operations you can use inside <code>mutate()</code> and <code>transmute()</code>, the key is that the function is vectorisable.</p>
<p>Modular arithmetic: <code>%/%</code> (integer division) and <code>%%</code> (remainder) are handy tools because it allows you to break integers up into pieces. For example we can compute <code>hour</code> and <code>minute</code> from <code>dep_time</code> using:</p>
<pre class="r"><code>transmute(flights,
  dep_time,
  hour = dep_time %/% 100,
  minute = dep_time %% 100
)</code></pre>
<pre><code># A tibble: 336,776 x 3
   dep_time  hour minute
      &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1      517     5     17
 2      533     5     33
 3      542     5     42
 4      544     5     44
 5      554     5     54
 6      554     5     54
 7      555     5     55
 8      557     5     57
 9      557     5     57
10      558     5     58
# ... with 336,766 more rows</code></pre>
<div id="exercises-3" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>Currently <code>dep_time</code> and <code>sched_dep_time</code> are convenient to look at, but hard to compute with because theyâ€™re not really continuous numbers. Convert them to a more convenient representation of number of minutes since midnight.</p>
<pre><code class='language-r'><code>flights %>% <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select(dep_time, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sched_dep_time, time_hour)</code></code></pre>
<pre><code>
    # A tibble: 336,776 x 3
       dep_time sched_dep_time time_hour          
          &lt;int&gt;          &lt;int&gt; &lt;dttm&gt;             
     1      517            515 2013-01-01 05:00:00
     2      533            529 2013-01-01 05:00:00
     3      542            540 2013-01-01 05:00:00
     4      544            545 2013-01-01 05:00:00
     5      554            600 2013-01-01 06:00:00
     6      554            558 2013-01-01 05:00:00
     7      555            600 2013-01-01 06:00:00
     8      557            600 2013-01-01 06:00:00
     9      557            600 2013-01-01 06:00:00
    10      558            600 2013-01-01 06:00:00
    # ... with 336,766 more rows
</code></pre>
<pre><code class='language-r'><code><span style='background-color:#9FDDBA;color:#008080'>mutate</span>(flights,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>minutes_since_00 = </span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# get int hr and mult by 60 to <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# get hours converted to minutes.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dep_time %/% 100) * 60 + <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dep_time %% 100)) # add minutes</code></code></pre>
<pre><code>
    # A tibble: 336,776 x 20
        year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
       &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
     1  2013     1     1      517            515         2      830            819
     2  2013     1     1      533            529         4      850            830
     3  2013     1     1      542            540         2      923            850
     4  2013     1     1      544            545        -1     1004           1022
     5  2013     1     1      554            600        -6      812            837
     6  2013     1     1      554            558        -4      740            728
     7  2013     1     1      555            600        -5      913            854
     8  2013     1     1      557            600        -3      709            723
     9  2013     1     1      557            600        -3      838            846
    10  2013     1     1      558            600        -2      753            745
    # ... with 336,766 more rows, and 12 more variables: arr_delay &lt;dbl&gt;,
    #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
    #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;,
    #   minutes_since_00 &lt;dbl&gt;
</code></pre>
<pre><code class='language-r'><code>flights %>% <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select(dep_time, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sched_dep_time, time_hour) %>% <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter(dep_time == 2400 | dep_time == 0) %>% <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>mutate</span>(<span style='background-color:#9FDDBA;color:#008080'>minutes_since_00 = </span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# get int hr and mult by 60 to <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# get hours converted to minutes.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dep_time %/% 100) * 60 + <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dep_time %% 100)) # add minutes</code></code></pre>
<pre><code>
    # A tibble: 29 x 4
       dep_time sched_dep_time time_hour           minutes_since_00
          &lt;int&gt;          &lt;int&gt; &lt;dttm&gt;                         &lt;dbl&gt;
     1     2400           2359 2013-10-30 23:00:00             1440
     2     2400           2359 2013-11-27 23:00:00             1440
     3     2400           2359 2013-12-05 23:00:00             1440
     4     2400           2359 2013-12-09 23:00:00             1440
     5     2400           2250 2013-12-09 22:00:00             1440
     6     2400           2359 2013-12-13 23:00:00             1440
     7     2400           2359 2013-12-19 23:00:00             1440
     8     2400           1700 2013-12-29 17:00:00             1440
     9     2400           2359 2013-02-07 23:00:00             1440
    10     2400           2359 2013-02-07 23:00:00             1440
    # ... with 19 more rows
</code></pre>
<p>We see that the flights have midnight flights as 2400 and thereâ€™s none that are marked as 0. So we can change all 2400 to 0. We will learn the <code>if_else()</code> construct later on, for now it follows the syntax</p>
<pre>
  if_else(condition,
          do_this_if_condition_met_true,
          do_this_otherwise)
</pre>
<pre><code class='language-r'><code>flights_mut2 <- mutate(flights, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# if dep_time == 2400 (i.e. midnights)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# convert it to 0, else we keep the orig<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# dep_time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dep_time = <span style='background-color:#9FDDBA;color:#008080'>if_else</span>(dep_time == 2400, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as.integer(0),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as.integer(dep_time)),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sched_dep_time = <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>if_else</span>(sched_dep_time == 2400,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as.integer(0),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as.integer(sched_dep_time)),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>minutes_dep_time = </span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dep_time %/% 100) * 60 + <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dep_time %% 100),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>minutes_sched_dep_time = </span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sched_dep_time %/% 100) * 60 + <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sched_dep_time %% 100))<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;flights_mut2 %>% <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select(dep_time, sched_dep_time,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minutes_dep_time,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minutes_sched_dep_time) %>% <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;head(10)</code></code></pre>
<pre><code>
    # A tibble: 10 x 4
       dep_time sched_dep_time minutes_dep_time minutes_sched_dep_time
          &lt;int&gt;          &lt;int&gt;            &lt;dbl&gt;                  &lt;dbl&gt;
     1      517            515              317                    315
     2      533            529              333                    329
     3      542            540              342                    340
     4      544            545              344                    345
     5      554            600              354                    360
     6      554            558              354                    358
     7      555            600              355                    360
     8      557            600              357                    360
     9      557            600              357                    360
    10      558            600              358                    360
</code></pre>
<pre><code class='language-r'><code>flights_mut2 %>% <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select(dep_time, sched_dep_time,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minutes_dep_time,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minutes_sched_dep_time) %>% <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter(dep_time == 0 | <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sched_dep_time == 0) %>% <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;head(10)</code></code></pre>
<pre><code>
    # A tibble: 10 x 4
       dep_time sched_dep_time minutes_dep_time minutes_sched_dep_time
          &lt;int&gt;          &lt;int&gt;            &lt;dbl&gt;                  &lt;dbl&gt;
     1        0           2359                0                   1439
     2        0           2359                0                   1439
     3        0           2359                0                   1439
     4        0           2359                0                   1439
     5        0           2250                0                   1370
     6        0           2359                0                   1439
     7        0           2359                0                   1439
     8        0           1700                0                   1020
     9        0           2359                0                   1439
    10        0           2359                0                   1439
</code></pre></li>
<li><p>Compare <code>air_time</code> with <code>arr_time - dep_time</code>. What do you expect to see? What do you see? What do you need to do to fix it?</p>
<pre class="r"><code>flights %&gt;% 
  select(air_time,
         arr_time,
         dep_time) %&gt;% 
  mutate(diff_time = arr_time - dep_time)</code></pre>
<pre><code># A tibble: 336,776 x 4
   air_time arr_time dep_time diff_time
      &lt;dbl&gt;    &lt;int&gt;    &lt;int&gt;     &lt;int&gt;
 1      227      830      517       313
 2      227      850      533       317
 3      160      923      542       381
 4      183     1004      544       460
 5      116      812      554       258
 6      150      740      554       186
 7      158      913      555       358
 8       53      709      557       152
 9      140      838      557       281
10      138      753      558       195
# ... with 336,766 more rows</code></pre>
<p>We see that just taking the difference between these times is misleading. Maybe we need to do the same as before, convert these to minutes since midnight before taking the difference? ðŸ¤·</p>
<pre class="r"><code>flights_mut2 &lt;- mutate(flights_mut2,
                       arr_time = 
                         if_else(arr_time == 2400, 
                              as.integer(0),
                              as.integer(arr_time)),
                 minutes_arr_time = 
                   (arr_time %/% 100) * 60 + 
                   (arr_time %% 100),
                 diff_time = 
                   minutes_arr_time - 
                   minutes_dep_time,
                 diff_in_metrics =
                   air_time - diff_time
                 )
  flights_mut2 %&gt;% 
  select(origin,
         dest, 
         air_time,
         arr_time,
         dep_time,
         minutes_arr_time,
         minutes_dep_time,
         diff_time, 
         diff_in_metrics) %&gt;% 
  head(10) %&gt;% 
  gt()</code></pre>
<p><style>html {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
    }
    
    #alliqrsiff .gt_table {
      display: table;
      border-collapse: collapse;
      margin-left: auto;
      margin-right: auto;
      color: #333333;
      font-size: 16px;
      font-weight: normal;
      font-style: normal;
      background-color: #FFFFFF;
      width: auto;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #A8A8A8;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #A8A8A8;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
    }
    
    #alliqrsiff .gt_heading {
      background-color: #FFFFFF;
      text-align: center;
      border-bottom-color: #FFFFFF;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
    }
    
    #alliqrsiff .gt_title {
      color: #333333;
      font-size: 125%;
      font-weight: initial;
      padding-top: 4px;
      padding-bottom: 4px;
      border-bottom-color: #FFFFFF;
      border-bottom-width: 0;
    }
    
    #alliqrsiff .gt_subtitle {
      color: #333333;
      font-size: 85%;
      font-weight: initial;
      padding-top: 0;
      padding-bottom: 4px;
      border-top-color: #FFFFFF;
      border-top-width: 0;
    }
    
    #alliqrsiff .gt_bottom_border {
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
    }
    
    #alliqrsiff .gt_col_headings {
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
    }
    
    #alliqrsiff .gt_col_heading {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: normal;
      text-transform: inherit;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: bottom;
      padding-top: 5px;
      padding-bottom: 6px;
      padding-left: 5px;
      padding-right: 5px;
      overflow-x: hidden;
    }
    
    #alliqrsiff .gt_column_spanner_outer {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: normal;
      text-transform: inherit;
      padding-top: 0;
      padding-bottom: 0;
      padding-left: 4px;
      padding-right: 4px;
    }
    
    #alliqrsiff .gt_column_spanner_outer:first-child {
      padding-left: 0;
    }
    
    #alliqrsiff .gt_column_spanner_outer:last-child {
      padding-right: 0;
    }
    
    #alliqrsiff .gt_column_spanner {
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      vertical-align: bottom;
      padding-top: 5px;
      padding-bottom: 6px;
      overflow-x: hidden;
      display: inline-block;
      width: 100%;
    }
    
    #alliqrsiff .gt_group_heading {
      padding: 8px;
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      text-transform: inherit;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: middle;
    }
    
    #alliqrsiff .gt_empty_group_heading {
      padding: 0.5px;
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      vertical-align: middle;
    }
    
    #alliqrsiff .gt_from_md > :first-child {
      margin-top: 0;
    }
    
    #alliqrsiff .gt_from_md > :last-child {
      margin-bottom: 0;
    }
    
    #alliqrsiff .gt_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      margin: 10px;
      border-top-style: solid;
      border-top-width: 1px;
      border-top-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: middle;
      overflow-x: hidden;
    }
    
    #alliqrsiff .gt_stub {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      text-transform: inherit;
      border-right-style: solid;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
      padding-left: 12px;
    }
    
    #alliqrsiff .gt_summary_row {
      color: #333333;
      background-color: #FFFFFF;
      text-transform: inherit;
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
    }
    
    #alliqrsiff .gt_first_summary_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
    }
    
    #alliqrsiff .gt_grand_summary_row {
      color: #333333;
      background-color: #FFFFFF;
      text-transform: inherit;
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
    }
    
    #alliqrsiff .gt_first_grand_summary_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      border-top-style: double;
      border-top-width: 6px;
      border-top-color: #D3D3D3;
    }
    
    #alliqrsiff .gt_striped {
      background-color: rgba(128, 128, 128, 0.05);
    }
    
    #alliqrsiff .gt_table_body {
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
    }
    
    #alliqrsiff .gt_footnotes {
      color: #333333;
      background-color: #FFFFFF;
      border-bottom-style: none;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
    }
    
    #alliqrsiff .gt_footnote {
      margin: 0px;
      font-size: 90%;
      padding: 4px;
    }
    
    #alliqrsiff .gt_sourcenotes {
      color: #333333;
      background-color: #FFFFFF;
      border-bottom-style: none;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
    }
    
    #alliqrsiff .gt_sourcenote {
      font-size: 90%;
      padding: 4px;
    }
    
    #alliqrsiff .gt_left {
      text-align: left;
    }
    
    #alliqrsiff .gt_center {
      text-align: center;
    }
    
    #alliqrsiff .gt_right {
      text-align: right;
      font-variant-numeric: tabular-nums;
    }
    
    #alliqrsiff .gt_font_normal {
      font-weight: normal;
    }
    
    #alliqrsiff .gt_font_bold {
      font-weight: bold;
    }
    
    #alliqrsiff .gt_font_italic {
      font-style: italic;
    }
    
    #alliqrsiff .gt_super {
      font-size: 65%;
    }
    
    #alliqrsiff .gt_footnote_marks {
      font-style: italic;
      font-size: 65%;
    }
    </style>
    <div id="alliqrsiff" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
      
      <thead class="gt_col_headings">
        <tr>
          <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">origin</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">dest</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">air_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">arr_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">dep_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">minutes_arr_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">minutes_dep_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">diff_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">diff_in_metrics</th>
        </tr>
      </thead>
      <tbody class="gt_table_body">
        <tr>
          <td class="gt_row gt_left">EWR</td>
          <td class="gt_row gt_left">IAH</td>
          <td class="gt_row gt_right">227</td>
          <td class="gt_row gt_center">830</td>
          <td class="gt_row gt_center">517</td>
          <td class="gt_row gt_right">510</td>
          <td class="gt_row gt_right">317</td>
          <td class="gt_row gt_right">193</td>
          <td class="gt_row gt_right">34</td>
        </tr>
        <tr>
          <td class="gt_row gt_left">LGA</td>
          <td class="gt_row gt_left">IAH</td>
          <td class="gt_row gt_right">227</td>
          <td class="gt_row gt_center">850</td>
          <td class="gt_row gt_center">533</td>
          <td class="gt_row gt_right">530</td>
          <td class="gt_row gt_right">333</td>
          <td class="gt_row gt_right">197</td>
          <td class="gt_row gt_right">30</td>
        </tr>
        <tr>
          <td class="gt_row gt_left">JFK</td>
          <td class="gt_row gt_left">MIA</td>
          <td class="gt_row gt_right">160</td>
          <td class="gt_row gt_center">923</td>
          <td class="gt_row gt_center">542</td>
          <td class="gt_row gt_right">563</td>
          <td class="gt_row gt_right">342</td>
          <td class="gt_row gt_right">221</td>
          <td class="gt_row gt_right">-61</td>
        </tr>
        <tr>
          <td class="gt_row gt_left">JFK</td>
          <td class="gt_row gt_left">BQN</td>
          <td class="gt_row gt_right">183</td>
          <td class="gt_row gt_center">1004</td>
          <td class="gt_row gt_center">544</td>
          <td class="gt_row gt_right">604</td>
          <td class="gt_row gt_right">344</td>
          <td class="gt_row gt_right">260</td>
          <td class="gt_row gt_right">-77</td>
        </tr>
        <tr>
          <td class="gt_row gt_left">LGA</td>
          <td class="gt_row gt_left">ATL</td>
          <td class="gt_row gt_right">116</td>
          <td class="gt_row gt_center">812</td>
          <td class="gt_row gt_center">554</td>
          <td class="gt_row gt_right">492</td>
          <td class="gt_row gt_right">354</td>
          <td class="gt_row gt_right">138</td>
          <td class="gt_row gt_right">-22</td>
        </tr>
        <tr>
          <td class="gt_row gt_left">EWR</td>
          <td class="gt_row gt_left">ORD</td>
          <td class="gt_row gt_right">150</td>
          <td class="gt_row gt_center">740</td>
          <td class="gt_row gt_center">554</td>
          <td class="gt_row gt_right">460</td>
          <td class="gt_row gt_right">354</td>
          <td class="gt_row gt_right">106</td>
          <td class="gt_row gt_right">44</td>
        </tr>
        <tr>
          <td class="gt_row gt_left">EWR</td>
          <td class="gt_row gt_left">FLL</td>
          <td class="gt_row gt_right">158</td>
          <td class="gt_row gt_center">913</td>
          <td class="gt_row gt_center">555</td>
          <td class="gt_row gt_right">553</td>
          <td class="gt_row gt_right">355</td>
          <td class="gt_row gt_right">198</td>
          <td class="gt_row gt_right">-40</td>
        </tr>
        <tr>
          <td class="gt_row gt_left">LGA</td>
          <td class="gt_row gt_left">IAD</td>
          <td class="gt_row gt_right">53</td>
          <td class="gt_row gt_center">709</td>
          <td class="gt_row gt_center">557</td>
          <td class="gt_row gt_right">429</td>
          <td class="gt_row gt_right">357</td>
          <td class="gt_row gt_right">72</td>
          <td class="gt_row gt_right">-19</td>
        </tr>
        <tr>
          <td class="gt_row gt_left">JFK</td>
          <td class="gt_row gt_left">MCO</td>
          <td class="gt_row gt_right">140</td>
          <td class="gt_row gt_center">838</td>
          <td class="gt_row gt_center">557</td>
          <td class="gt_row gt_right">518</td>
          <td class="gt_row gt_right">357</td>
          <td class="gt_row gt_right">161</td>
          <td class="gt_row gt_right">-21</td>
        </tr>
        <tr>
          <td class="gt_row gt_left">LGA</td>
          <td class="gt_row gt_left">ORD</td>
          <td class="gt_row gt_right">138</td>
          <td class="gt_row gt_center">753</td>
          <td class="gt_row gt_center">558</td>
          <td class="gt_row gt_right">473</td>
          <td class="gt_row gt_right">358</td>
          <td class="gt_row gt_right">115</td>
          <td class="gt_row gt_right">23</td>
        </tr>
      </tbody>
      
      
    </table></div> <br></p>
<p>Not quite, we see. So what else could be the difference? It could be that the arrival time is the local time at the destination. For example the time difference between New York and Houston is 1 hour. Houston is 1 hour behind New York. But upon checking the first couple some airports share the same timezone so I am a bit perplexed to tell the truth. E.g. the 3rd entry and the 4th entry, upon googling, suggests these are the same timezones? ðŸ˜•</p></li>
<li><p>Compare <code>dep_time</code>, <code>sched_dep_time</code>, and <code>dep_delay</code>. How would you expect those three numbers to be related?</p>
<p>I would expect that:</p>
<blockquote>
<p>dep_delay = dep_time - sched_dep_time</p>
</blockquote>
<pre class="r"><code>flights_mut3 &lt;- mutate(flights_mut2,
       dep_delay_test = minutes_dep_time - 
         minutes_sched_dep_time) %&gt;% 
  select(dep_time,
         sched_dep_time,
         minutes_dep_time,
         minutes_sched_dep_time,
         dep_delay, dep_delay_test)

flights_mut3</code></pre>
<pre><code># A tibble: 336,776 x 6
   dep_time sched_dep_time minutes_dep_time minutes_sched_d~ dep_delay
      &lt;int&gt;          &lt;int&gt;            &lt;dbl&gt;            &lt;dbl&gt;     &lt;dbl&gt;
 1      517            515              317              315         2
 2      533            529              333              329         4
 3      542            540              342              340         2
 4      544            545              344              345        -1
 5      554            600              354              360        -6
 6      554            558              354              358        -4
 7      555            600              355              360        -5
 8      557            600              357              360        -3
 9      557            600              357              360        -3
10      558            600              358              360        -2
# ... with 336,766 more rows, and 1 more variable: dep_delay_test &lt;dbl&gt;</code></pre>
<pre class="r"><code>flights_mut3 %&gt;% 
  filter(dep_delay != dep_delay_test)</code></pre>
<pre><code># A tibble: 1,236 x 6
   dep_time sched_dep_time minutes_dep_time minutes_sched_d~ dep_delay
      &lt;int&gt;          &lt;int&gt;            &lt;dbl&gt;            &lt;dbl&gt;     &lt;dbl&gt;
 1      848           1835              528             1115       853
 2       42           2359               42             1439        43
 3      126           2250               86             1370       156
 4       32           2359               32             1439        33
 5       50           2145               50             1305       185
 6      235           2359              155             1439       156
 7       25           2359               25             1439        26
 8      106           2245               66             1365       141
 9       14           2359               14             1439        15
10       37           2230               37             1350       127
# ... with 1,226 more rows, and 1 more variable: dep_delay_test &lt;dbl&gt;</code></pre>
<p>This does seem to be the case for most flights except for flights that were delayed overnight. To cater for these weâ€™d need to work out whether the flight departed on the same day. If they departed on different days we would find how many minutes left to midnight, and then subtract the scheduled dep time from this and add to the departure time to get the delay.</p>
<pre class="r"><code>flights_mut2 %&gt;% 
  filter(dep_delay &lt; 0) %&gt;% 
  arrange((dep_delay)) %&gt;% 
  head(4) %&gt;% 
  gt()</code></pre>
<style>html {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
    }
    
    #yjecmhtrwt .gt_table {
      display: table;
      border-collapse: collapse;
      margin-left: auto;
      margin-right: auto;
      color: #333333;
      font-size: 16px;
      font-weight: normal;
      font-style: normal;
      background-color: #FFFFFF;
      width: auto;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #A8A8A8;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #A8A8A8;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
    }
    
    #yjecmhtrwt .gt_heading {
      background-color: #FFFFFF;
      text-align: center;
      border-bottom-color: #FFFFFF;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
    }
    
    #yjecmhtrwt .gt_title {
      color: #333333;
      font-size: 125%;
      font-weight: initial;
      padding-top: 4px;
      padding-bottom: 4px;
      border-bottom-color: #FFFFFF;
      border-bottom-width: 0;
    }
    
    #yjecmhtrwt .gt_subtitle {
      color: #333333;
      font-size: 85%;
      font-weight: initial;
      padding-top: 0;
      padding-bottom: 4px;
      border-top-color: #FFFFFF;
      border-top-width: 0;
    }
    
    #yjecmhtrwt .gt_bottom_border {
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
    }
    
    #yjecmhtrwt .gt_col_headings {
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
    }
    
    #yjecmhtrwt .gt_col_heading {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: normal;
      text-transform: inherit;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: bottom;
      padding-top: 5px;
      padding-bottom: 6px;
      padding-left: 5px;
      padding-right: 5px;
      overflow-x: hidden;
    }
    
    #yjecmhtrwt .gt_column_spanner_outer {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: normal;
      text-transform: inherit;
      padding-top: 0;
      padding-bottom: 0;
      padding-left: 4px;
      padding-right: 4px;
    }
    
    #yjecmhtrwt .gt_column_spanner_outer:first-child {
      padding-left: 0;
    }
    
    #yjecmhtrwt .gt_column_spanner_outer:last-child {
      padding-right: 0;
    }
    
    #yjecmhtrwt .gt_column_spanner {
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      vertical-align: bottom;
      padding-top: 5px;
      padding-bottom: 6px;
      overflow-x: hidden;
      display: inline-block;
      width: 100%;
    }
    
    #yjecmhtrwt .gt_group_heading {
      padding: 8px;
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      text-transform: inherit;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: middle;
    }
    
    #yjecmhtrwt .gt_empty_group_heading {
      padding: 0.5px;
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      vertical-align: middle;
    }
    
    #yjecmhtrwt .gt_from_md > :first-child {
      margin-top: 0;
    }
    
    #yjecmhtrwt .gt_from_md > :last-child {
      margin-bottom: 0;
    }
    
    #yjecmhtrwt .gt_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      margin: 10px;
      border-top-style: solid;
      border-top-width: 1px;
      border-top-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: middle;
      overflow-x: hidden;
    }
    
    #yjecmhtrwt .gt_stub {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      text-transform: inherit;
      border-right-style: solid;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
      padding-left: 12px;
    }
    
    #yjecmhtrwt .gt_summary_row {
      color: #333333;
      background-color: #FFFFFF;
      text-transform: inherit;
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
    }
    
    #yjecmhtrwt .gt_first_summary_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
    }
    
    #yjecmhtrwt .gt_grand_summary_row {
      color: #333333;
      background-color: #FFFFFF;
      text-transform: inherit;
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
    }
    
    #yjecmhtrwt .gt_first_grand_summary_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      border-top-style: double;
      border-top-width: 6px;
      border-top-color: #D3D3D3;
    }
    
    #yjecmhtrwt .gt_striped {
      background-color: rgba(128, 128, 128, 0.05);
    }
    
    #yjecmhtrwt .gt_table_body {
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
    }
    
    #yjecmhtrwt .gt_footnotes {
      color: #333333;
      background-color: #FFFFFF;
      border-bottom-style: none;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
    }
    
    #yjecmhtrwt .gt_footnote {
      margin: 0px;
      font-size: 90%;
      padding: 4px;
    }
    
    #yjecmhtrwt .gt_sourcenotes {
      color: #333333;
      background-color: #FFFFFF;
      border-bottom-style: none;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
    }
    
    #yjecmhtrwt .gt_sourcenote {
      font-size: 90%;
      padding: 4px;
    }
    
    #yjecmhtrwt .gt_left {
      text-align: left;
    }
    
    #yjecmhtrwt .gt_center {
      text-align: center;
    }
    
    #yjecmhtrwt .gt_right {
      text-align: right;
      font-variant-numeric: tabular-nums;
    }
    
    #yjecmhtrwt .gt_font_normal {
      font-weight: normal;
    }
    
    #yjecmhtrwt .gt_font_bold {
      font-weight: bold;
    }
    
    #yjecmhtrwt .gt_font_italic {
      font-style: italic;
    }
    
    #yjecmhtrwt .gt_super {
      font-size: 65%;
    }
    
    #yjecmhtrwt .gt_footnote_marks {
      font-style: italic;
      font-size: 65%;
    }
    </style>
    <div id="yjecmhtrwt" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
      
      <thead class="gt_col_headings">
        <tr>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">year</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">month</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">day</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">dep_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">sched_dep_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">dep_delay</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">arr_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">sched_arr_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">arr_delay</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">carrier</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">flight</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">tailnum</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">origin</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">dest</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">air_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">distance</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hour</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">minute</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">time_hour</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">minutes_dep_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">minutes_sched_dep_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">minutes_arr_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">diff_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">diff_in_metrics</th>
        </tr>
      </thead>
      <tbody class="gt_table_body">
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">12</td>
          <td class="gt_row gt_center">7</td>
          <td class="gt_row gt_center">2040</td>
          <td class="gt_row gt_center">2123</td>
          <td class="gt_row gt_right">-43</td>
          <td class="gt_row gt_center">40</td>
          <td class="gt_row gt_center">2352</td>
          <td class="gt_row gt_right">48</td>
          <td class="gt_row gt_left">B6</td>
          <td class="gt_row gt_center">97</td>
          <td class="gt_row gt_left">N592JB</td>
          <td class="gt_row gt_left">JFK</td>
          <td class="gt_row gt_left">DEN</td>
          <td class="gt_row gt_right">265</td>
          <td class="gt_row gt_right">1626</td>
          <td class="gt_row gt_right">21</td>
          <td class="gt_row gt_right">23</td>
          <td class="gt_row gt_left">2013-12-07 21:00:00</td>
          <td class="gt_row gt_right">1240</td>
          <td class="gt_row gt_right">1283</td>
          <td class="gt_row gt_right">40</td>
          <td class="gt_row gt_right">-1200</td>
          <td class="gt_row gt_right">1465</td>
        </tr>
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">2</td>
          <td class="gt_row gt_center">3</td>
          <td class="gt_row gt_center">2022</td>
          <td class="gt_row gt_center">2055</td>
          <td class="gt_row gt_right">-33</td>
          <td class="gt_row gt_center">2240</td>
          <td class="gt_row gt_center">2338</td>
          <td class="gt_row gt_right">-58</td>
          <td class="gt_row gt_left">DL</td>
          <td class="gt_row gt_center">1715</td>
          <td class="gt_row gt_left">N612DL</td>
          <td class="gt_row gt_left">LGA</td>
          <td class="gt_row gt_left">MSY</td>
          <td class="gt_row gt_right">162</td>
          <td class="gt_row gt_right">1183</td>
          <td class="gt_row gt_right">20</td>
          <td class="gt_row gt_right">55</td>
          <td class="gt_row gt_left">2013-02-03 20:00:00</td>
          <td class="gt_row gt_right">1222</td>
          <td class="gt_row gt_right">1255</td>
          <td class="gt_row gt_right">1360</td>
          <td class="gt_row gt_right">138</td>
          <td class="gt_row gt_right">24</td>
        </tr>
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">11</td>
          <td class="gt_row gt_center">10</td>
          <td class="gt_row gt_center">1408</td>
          <td class="gt_row gt_center">1440</td>
          <td class="gt_row gt_right">-32</td>
          <td class="gt_row gt_center">1549</td>
          <td class="gt_row gt_center">1559</td>
          <td class="gt_row gt_right">-10</td>
          <td class="gt_row gt_left">EV</td>
          <td class="gt_row gt_center">5713</td>
          <td class="gt_row gt_left">N825AS</td>
          <td class="gt_row gt_left">LGA</td>
          <td class="gt_row gt_left">IAD</td>
          <td class="gt_row gt_right">52</td>
          <td class="gt_row gt_right">229</td>
          <td class="gt_row gt_right">14</td>
          <td class="gt_row gt_right">40</td>
          <td class="gt_row gt_left">2013-11-10 14:00:00</td>
          <td class="gt_row gt_right">848</td>
          <td class="gt_row gt_right">880</td>
          <td class="gt_row gt_right">949</td>
          <td class="gt_row gt_right">101</td>
          <td class="gt_row gt_right">-49</td>
        </tr>
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">1</td>
          <td class="gt_row gt_center">11</td>
          <td class="gt_row gt_center">1900</td>
          <td class="gt_row gt_center">1930</td>
          <td class="gt_row gt_right">-30</td>
          <td class="gt_row gt_center">2233</td>
          <td class="gt_row gt_center">2243</td>
          <td class="gt_row gt_right">-10</td>
          <td class="gt_row gt_left">DL</td>
          <td class="gt_row gt_center">1435</td>
          <td class="gt_row gt_left">N934DL</td>
          <td class="gt_row gt_left">LGA</td>
          <td class="gt_row gt_left">TPA</td>
          <td class="gt_row gt_right">139</td>
          <td class="gt_row gt_right">1010</td>
          <td class="gt_row gt_right">19</td>
          <td class="gt_row gt_right">30</td>
          <td class="gt_row gt_left">2013-01-11 19:00:00</td>
          <td class="gt_row gt_right">1140</td>
          <td class="gt_row gt_right">1170</td>
          <td class="gt_row gt_right">1353</td>
          <td class="gt_row gt_right">213</td>
          <td class="gt_row gt_right">-74</td>
        </tr>
      </tbody>
      
      
    </table></div>
<pre class="r"><code>flights_mut3 &lt;- mutate(flights_mut2,
           dep_delay_test = 
             if_else(
               (minutes_dep_time &gt;=
                minutes_sched_dep_time) |
               (minutes_dep_time -
                 minutes_sched_dep_time ) &gt; -45,
             minutes_dep_time - 
              minutes_sched_dep_time,
             24*60 - minutes_sched_dep_time +
               minutes_dep_time)) %&gt;% 
      select(dep_time,
             sched_dep_time,
             minutes_dep_time,
             minutes_sched_dep_time,
             dep_delay, dep_delay_test)

flights_mut3</code></pre>
<pre><code># A tibble: 336,776 x 6
   dep_time sched_dep_time minutes_dep_time minutes_sched_d~ dep_delay
      &lt;int&gt;          &lt;int&gt;            &lt;dbl&gt;            &lt;dbl&gt;     &lt;dbl&gt;
 1      517            515              317              315         2
 2      533            529              333              329         4
 3      542            540              342              340         2
 4      544            545              344              345        -1
 5      554            600              354              360        -6
 6      554            558              354              358        -4
 7      555            600              355              360        -5
 8      557            600              357              360        -3
 9      557            600              357              360        -3
10      558            600              358              360        -2
# ... with 336,766 more rows, and 1 more variable: dep_delay_test &lt;dbl&gt;</code></pre>
<pre class="r"><code>flights_mut3 %&gt;% 
    filter(dep_delay != dep_delay_test) %&gt;% 
  head(10) %&gt;% 
  gt()</code></pre>
<p><style>html {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
    }
    
    #gjuvcztkdf .gt_table {
      display: table;
      border-collapse: collapse;
      margin-left: auto;
      margin-right: auto;
      color: #333333;
      font-size: 16px;
      font-weight: normal;
      font-style: normal;
      background-color: #FFFFFF;
      width: auto;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #A8A8A8;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #A8A8A8;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
    }
    
    #gjuvcztkdf .gt_heading {
      background-color: #FFFFFF;
      text-align: center;
      border-bottom-color: #FFFFFF;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
    }
    
    #gjuvcztkdf .gt_title {
      color: #333333;
      font-size: 125%;
      font-weight: initial;
      padding-top: 4px;
      padding-bottom: 4px;
      border-bottom-color: #FFFFFF;
      border-bottom-width: 0;
    }
    
    #gjuvcztkdf .gt_subtitle {
      color: #333333;
      font-size: 85%;
      font-weight: initial;
      padding-top: 0;
      padding-bottom: 4px;
      border-top-color: #FFFFFF;
      border-top-width: 0;
    }
    
    #gjuvcztkdf .gt_bottom_border {
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
    }
    
    #gjuvcztkdf .gt_col_headings {
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
    }
    
    #gjuvcztkdf .gt_col_heading {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: normal;
      text-transform: inherit;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: bottom;
      padding-top: 5px;
      padding-bottom: 6px;
      padding-left: 5px;
      padding-right: 5px;
      overflow-x: hidden;
    }
    
    #gjuvcztkdf .gt_column_spanner_outer {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: normal;
      text-transform: inherit;
      padding-top: 0;
      padding-bottom: 0;
      padding-left: 4px;
      padding-right: 4px;
    }
    
    #gjuvcztkdf .gt_column_spanner_outer:first-child {
      padding-left: 0;
    }
    
    #gjuvcztkdf .gt_column_spanner_outer:last-child {
      padding-right: 0;
    }
    
    #gjuvcztkdf .gt_column_spanner {
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      vertical-align: bottom;
      padding-top: 5px;
      padding-bottom: 6px;
      overflow-x: hidden;
      display: inline-block;
      width: 100%;
    }
    
    #gjuvcztkdf .gt_group_heading {
      padding: 8px;
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      text-transform: inherit;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: middle;
    }
    
    #gjuvcztkdf .gt_empty_group_heading {
      padding: 0.5px;
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      vertical-align: middle;
    }
    
    #gjuvcztkdf .gt_from_md > :first-child {
      margin-top: 0;
    }
    
    #gjuvcztkdf .gt_from_md > :last-child {
      margin-bottom: 0;
    }
    
    #gjuvcztkdf .gt_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      margin: 10px;
      border-top-style: solid;
      border-top-width: 1px;
      border-top-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: middle;
      overflow-x: hidden;
    }
    
    #gjuvcztkdf .gt_stub {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      text-transform: inherit;
      border-right-style: solid;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
      padding-left: 12px;
    }
    
    #gjuvcztkdf .gt_summary_row {
      color: #333333;
      background-color: #FFFFFF;
      text-transform: inherit;
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
    }
    
    #gjuvcztkdf .gt_first_summary_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
    }
    
    #gjuvcztkdf .gt_grand_summary_row {
      color: #333333;
      background-color: #FFFFFF;
      text-transform: inherit;
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
    }
    
    #gjuvcztkdf .gt_first_grand_summary_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      border-top-style: double;
      border-top-width: 6px;
      border-top-color: #D3D3D3;
    }
    
    #gjuvcztkdf .gt_striped {
      background-color: rgba(128, 128, 128, 0.05);
    }
    
    #gjuvcztkdf .gt_table_body {
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
    }
    
    #gjuvcztkdf .gt_footnotes {
      color: #333333;
      background-color: #FFFFFF;
      border-bottom-style: none;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
    }
    
    #gjuvcztkdf .gt_footnote {
      margin: 0px;
      font-size: 90%;
      padding: 4px;
    }
    
    #gjuvcztkdf .gt_sourcenotes {
      color: #333333;
      background-color: #FFFFFF;
      border-bottom-style: none;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
    }
    
    #gjuvcztkdf .gt_sourcenote {
      font-size: 90%;
      padding: 4px;
    }
    
    #gjuvcztkdf .gt_left {
      text-align: left;
    }
    
    #gjuvcztkdf .gt_center {
      text-align: center;
    }
    
    #gjuvcztkdf .gt_right {
      text-align: right;
      font-variant-numeric: tabular-nums;
    }
    
    #gjuvcztkdf .gt_font_normal {
      font-weight: normal;
    }
    
    #gjuvcztkdf .gt_font_bold {
      font-weight: bold;
    }
    
    #gjuvcztkdf .gt_font_italic {
      font-style: italic;
    }
    
    #gjuvcztkdf .gt_super {
      font-size: 65%;
    }
    
    #gjuvcztkdf .gt_footnote_marks {
      font-style: italic;
      font-size: 65%;
    }
    </style>
    <div id="gjuvcztkdf" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
      
      <thead class="gt_col_headings">
        <tr>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">dep_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">sched_dep_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">minutes_dep_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">minutes_sched_dep_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">dep_delay</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">dep_delay_test</th>
        </tr>
      </thead>
      <tbody class="gt_table_body"></tbody>
      
      
    </table></div> <br> The above checks the biggest difference for those flights that had dep_delay &lt; 0. <em>Note: This is a bit hacky. Best approach is to compare dates but both the year-month-day and time_hour reflect the same date.</em></p></li>
<li><p>Find the 10 most delayed flights using a ranking function. How do you want to handle ties? Carefully read the documentation for <code>min_rank()</code>.</p>
<pre class="r"><code>mutate(flights,
       rank = min_rank(desc(dep_delay))) %&gt;% 
  arrange(rank) %&gt;% 
  head(10) %&gt;% 
  gt()</code></pre>
<p><style>html {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
    }
    
    #nkqumrncwk .gt_table {
      display: table;
      border-collapse: collapse;
      margin-left: auto;
      margin-right: auto;
      color: #333333;
      font-size: 16px;
      font-weight: normal;
      font-style: normal;
      background-color: #FFFFFF;
      width: auto;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #A8A8A8;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #A8A8A8;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
    }
    
    #nkqumrncwk .gt_heading {
      background-color: #FFFFFF;
      text-align: center;
      border-bottom-color: #FFFFFF;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
    }
    
    #nkqumrncwk .gt_title {
      color: #333333;
      font-size: 125%;
      font-weight: initial;
      padding-top: 4px;
      padding-bottom: 4px;
      border-bottom-color: #FFFFFF;
      border-bottom-width: 0;
    }
    
    #nkqumrncwk .gt_subtitle {
      color: #333333;
      font-size: 85%;
      font-weight: initial;
      padding-top: 0;
      padding-bottom: 4px;
      border-top-color: #FFFFFF;
      border-top-width: 0;
    }
    
    #nkqumrncwk .gt_bottom_border {
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
    }
    
    #nkqumrncwk .gt_col_headings {
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
    }
    
    #nkqumrncwk .gt_col_heading {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: normal;
      text-transform: inherit;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: bottom;
      padding-top: 5px;
      padding-bottom: 6px;
      padding-left: 5px;
      padding-right: 5px;
      overflow-x: hidden;
    }
    
    #nkqumrncwk .gt_column_spanner_outer {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: normal;
      text-transform: inherit;
      padding-top: 0;
      padding-bottom: 0;
      padding-left: 4px;
      padding-right: 4px;
    }
    
    #nkqumrncwk .gt_column_spanner_outer:first-child {
      padding-left: 0;
    }
    
    #nkqumrncwk .gt_column_spanner_outer:last-child {
      padding-right: 0;
    }
    
    #nkqumrncwk .gt_column_spanner {
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      vertical-align: bottom;
      padding-top: 5px;
      padding-bottom: 6px;
      overflow-x: hidden;
      display: inline-block;
      width: 100%;
    }
    
    #nkqumrncwk .gt_group_heading {
      padding: 8px;
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      text-transform: inherit;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: middle;
    }
    
    #nkqumrncwk .gt_empty_group_heading {
      padding: 0.5px;
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      vertical-align: middle;
    }
    
    #nkqumrncwk .gt_from_md > :first-child {
      margin-top: 0;
    }
    
    #nkqumrncwk .gt_from_md > :last-child {
      margin-bottom: 0;
    }
    
    #nkqumrncwk .gt_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      margin: 10px;
      border-top-style: solid;
      border-top-width: 1px;
      border-top-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: middle;
      overflow-x: hidden;
    }
    
    #nkqumrncwk .gt_stub {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      text-transform: inherit;
      border-right-style: solid;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
      padding-left: 12px;
    }
    
    #nkqumrncwk .gt_summary_row {
      color: #333333;
      background-color: #FFFFFF;
      text-transform: inherit;
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
    }
    
    #nkqumrncwk .gt_first_summary_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
    }
    
    #nkqumrncwk .gt_grand_summary_row {
      color: #333333;
      background-color: #FFFFFF;
      text-transform: inherit;
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
    }
    
    #nkqumrncwk .gt_first_grand_summary_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      border-top-style: double;
      border-top-width: 6px;
      border-top-color: #D3D3D3;
    }
    
    #nkqumrncwk .gt_striped {
      background-color: rgba(128, 128, 128, 0.05);
    }
    
    #nkqumrncwk .gt_table_body {
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
    }
    
    #nkqumrncwk .gt_footnotes {
      color: #333333;
      background-color: #FFFFFF;
      border-bottom-style: none;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
    }
    
    #nkqumrncwk .gt_footnote {
      margin: 0px;
      font-size: 90%;
      padding: 4px;
    }
    
    #nkqumrncwk .gt_sourcenotes {
      color: #333333;
      background-color: #FFFFFF;
      border-bottom-style: none;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
    }
    
    #nkqumrncwk .gt_sourcenote {
      font-size: 90%;
      padding: 4px;
    }
    
    #nkqumrncwk .gt_left {
      text-align: left;
    }
    
    #nkqumrncwk .gt_center {
      text-align: center;
    }
    
    #nkqumrncwk .gt_right {
      text-align: right;
      font-variant-numeric: tabular-nums;
    }
    
    #nkqumrncwk .gt_font_normal {
      font-weight: normal;
    }
    
    #nkqumrncwk .gt_font_bold {
      font-weight: bold;
    }
    
    #nkqumrncwk .gt_font_italic {
      font-style: italic;
    }
    
    #nkqumrncwk .gt_super {
      font-size: 65%;
    }
    
    #nkqumrncwk .gt_footnote_marks {
      font-style: italic;
      font-size: 65%;
    }
    </style>
    <div id="nkqumrncwk" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
      
      <thead class="gt_col_headings">
        <tr>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">year</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">month</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">day</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">dep_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">sched_dep_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">dep_delay</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">arr_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">sched_arr_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">arr_delay</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">carrier</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">flight</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">tailnum</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">origin</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">dest</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">air_time</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">distance</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hour</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">minute</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">time_hour</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">rank</th>
        </tr>
      </thead>
      <tbody class="gt_table_body">
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">1</td>
          <td class="gt_row gt_center">9</td>
          <td class="gt_row gt_center">641</td>
          <td class="gt_row gt_center">900</td>
          <td class="gt_row gt_right">1301</td>
          <td class="gt_row gt_center">1242</td>
          <td class="gt_row gt_center">1530</td>
          <td class="gt_row gt_right">1272</td>
          <td class="gt_row gt_left">HA</td>
          <td class="gt_row gt_center">51</td>
          <td class="gt_row gt_left">N384HA</td>
          <td class="gt_row gt_left">JFK</td>
          <td class="gt_row gt_left">HNL</td>
          <td class="gt_row gt_right">640</td>
          <td class="gt_row gt_right">4983</td>
          <td class="gt_row gt_right">9</td>
          <td class="gt_row gt_right">0</td>
          <td class="gt_row gt_left">2013-01-09 09:00:00</td>
          <td class="gt_row gt_center">1</td>
        </tr>
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">6</td>
          <td class="gt_row gt_center">15</td>
          <td class="gt_row gt_center">1432</td>
          <td class="gt_row gt_center">1935</td>
          <td class="gt_row gt_right">1137</td>
          <td class="gt_row gt_center">1607</td>
          <td class="gt_row gt_center">2120</td>
          <td class="gt_row gt_right">1127</td>
          <td class="gt_row gt_left">MQ</td>
          <td class="gt_row gt_center">3535</td>
          <td class="gt_row gt_left">N504MQ</td>
          <td class="gt_row gt_left">JFK</td>
          <td class="gt_row gt_left">CMH</td>
          <td class="gt_row gt_right">74</td>
          <td class="gt_row gt_right">483</td>
          <td class="gt_row gt_right">19</td>
          <td class="gt_row gt_right">35</td>
          <td class="gt_row gt_left">2013-06-15 19:00:00</td>
          <td class="gt_row gt_center">2</td>
        </tr>
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">1</td>
          <td class="gt_row gt_center">10</td>
          <td class="gt_row gt_center">1121</td>
          <td class="gt_row gt_center">1635</td>
          <td class="gt_row gt_right">1126</td>
          <td class="gt_row gt_center">1239</td>
          <td class="gt_row gt_center">1810</td>
          <td class="gt_row gt_right">1109</td>
          <td class="gt_row gt_left">MQ</td>
          <td class="gt_row gt_center">3695</td>
          <td class="gt_row gt_left">N517MQ</td>
          <td class="gt_row gt_left">EWR</td>
          <td class="gt_row gt_left">ORD</td>
          <td class="gt_row gt_right">111</td>
          <td class="gt_row gt_right">719</td>
          <td class="gt_row gt_right">16</td>
          <td class="gt_row gt_right">35</td>
          <td class="gt_row gt_left">2013-01-10 16:00:00</td>
          <td class="gt_row gt_center">3</td>
        </tr>
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">9</td>
          <td class="gt_row gt_center">20</td>
          <td class="gt_row gt_center">1139</td>
          <td class="gt_row gt_center">1845</td>
          <td class="gt_row gt_right">1014</td>
          <td class="gt_row gt_center">1457</td>
          <td class="gt_row gt_center">2210</td>
          <td class="gt_row gt_right">1007</td>
          <td class="gt_row gt_left">AA</td>
          <td class="gt_row gt_center">177</td>
          <td class="gt_row gt_left">N338AA</td>
          <td class="gt_row gt_left">JFK</td>
          <td class="gt_row gt_left">SFO</td>
          <td class="gt_row gt_right">354</td>
          <td class="gt_row gt_right">2586</td>
          <td class="gt_row gt_right">18</td>
          <td class="gt_row gt_right">45</td>
          <td class="gt_row gt_left">2013-09-20 18:00:00</td>
          <td class="gt_row gt_center">4</td>
        </tr>
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">7</td>
          <td class="gt_row gt_center">22</td>
          <td class="gt_row gt_center">845</td>
          <td class="gt_row gt_center">1600</td>
          <td class="gt_row gt_right">1005</td>
          <td class="gt_row gt_center">1044</td>
          <td class="gt_row gt_center">1815</td>
          <td class="gt_row gt_right">989</td>
          <td class="gt_row gt_left">MQ</td>
          <td class="gt_row gt_center">3075</td>
          <td class="gt_row gt_left">N665MQ</td>
          <td class="gt_row gt_left">JFK</td>
          <td class="gt_row gt_left">CVG</td>
          <td class="gt_row gt_right">96</td>
          <td class="gt_row gt_right">589</td>
          <td class="gt_row gt_right">16</td>
          <td class="gt_row gt_right">0</td>
          <td class="gt_row gt_left">2013-07-22 16:00:00</td>
          <td class="gt_row gt_center">5</td>
        </tr>
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">4</td>
          <td class="gt_row gt_center">10</td>
          <td class="gt_row gt_center">1100</td>
          <td class="gt_row gt_center">1900</td>
          <td class="gt_row gt_right">960</td>
          <td class="gt_row gt_center">1342</td>
          <td class="gt_row gt_center">2211</td>
          <td class="gt_row gt_right">931</td>
          <td class="gt_row gt_left">DL</td>
          <td class="gt_row gt_center">2391</td>
          <td class="gt_row gt_left">N959DL</td>
          <td class="gt_row gt_left">JFK</td>
          <td class="gt_row gt_left">TPA</td>
          <td class="gt_row gt_right">139</td>
          <td class="gt_row gt_right">1005</td>
          <td class="gt_row gt_right">19</td>
          <td class="gt_row gt_right">0</td>
          <td class="gt_row gt_left">2013-04-10 19:00:00</td>
          <td class="gt_row gt_center">6</td>
        </tr>
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">3</td>
          <td class="gt_row gt_center">17</td>
          <td class="gt_row gt_center">2321</td>
          <td class="gt_row gt_center">810</td>
          <td class="gt_row gt_right">911</td>
          <td class="gt_row gt_center">135</td>
          <td class="gt_row gt_center">1020</td>
          <td class="gt_row gt_right">915</td>
          <td class="gt_row gt_left">DL</td>
          <td class="gt_row gt_center">2119</td>
          <td class="gt_row gt_left">N927DA</td>
          <td class="gt_row gt_left">LGA</td>
          <td class="gt_row gt_left">MSP</td>
          <td class="gt_row gt_right">167</td>
          <td class="gt_row gt_right">1020</td>
          <td class="gt_row gt_right">8</td>
          <td class="gt_row gt_right">10</td>
          <td class="gt_row gt_left">2013-03-17 08:00:00</td>
          <td class="gt_row gt_center">7</td>
        </tr>
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">6</td>
          <td class="gt_row gt_center">27</td>
          <td class="gt_row gt_center">959</td>
          <td class="gt_row gt_center">1900</td>
          <td class="gt_row gt_right">899</td>
          <td class="gt_row gt_center">1236</td>
          <td class="gt_row gt_center">2226</td>
          <td class="gt_row gt_right">850</td>
          <td class="gt_row gt_left">DL</td>
          <td class="gt_row gt_center">2007</td>
          <td class="gt_row gt_left">N3762Y</td>
          <td class="gt_row gt_left">JFK</td>
          <td class="gt_row gt_left">PDX</td>
          <td class="gt_row gt_right">313</td>
          <td class="gt_row gt_right">2454</td>
          <td class="gt_row gt_right">19</td>
          <td class="gt_row gt_right">0</td>
          <td class="gt_row gt_left">2013-06-27 19:00:00</td>
          <td class="gt_row gt_center">8</td>
        </tr>
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">7</td>
          <td class="gt_row gt_center">22</td>
          <td class="gt_row gt_center">2257</td>
          <td class="gt_row gt_center">759</td>
          <td class="gt_row gt_right">898</td>
          <td class="gt_row gt_center">121</td>
          <td class="gt_row gt_center">1026</td>
          <td class="gt_row gt_right">895</td>
          <td class="gt_row gt_left">DL</td>
          <td class="gt_row gt_center">2047</td>
          <td class="gt_row gt_left">N6716C</td>
          <td class="gt_row gt_left">LGA</td>
          <td class="gt_row gt_left">ATL</td>
          <td class="gt_row gt_right">109</td>
          <td class="gt_row gt_right">762</td>
          <td class="gt_row gt_right">7</td>
          <td class="gt_row gt_right">59</td>
          <td class="gt_row gt_left">2013-07-22 07:00:00</td>
          <td class="gt_row gt_center">9</td>
        </tr>
        <tr>
          <td class="gt_row gt_center">2013</td>
          <td class="gt_row gt_center">12</td>
          <td class="gt_row gt_center">5</td>
          <td class="gt_row gt_center">756</td>
          <td class="gt_row gt_center">1700</td>
          <td class="gt_row gt_right">896</td>
          <td class="gt_row gt_center">1058</td>
          <td class="gt_row gt_center">2020</td>
          <td class="gt_row gt_right">878</td>
          <td class="gt_row gt_left">AA</td>
          <td class="gt_row gt_center">172</td>
          <td class="gt_row gt_left">N5DMAA</td>
          <td class="gt_row gt_left">EWR</td>
          <td class="gt_row gt_left">MIA</td>
          <td class="gt_row gt_right">149</td>
          <td class="gt_row gt_right">1085</td>
          <td class="gt_row gt_right">17</td>
          <td class="gt_row gt_right">0</td>
          <td class="gt_row gt_left">2013-12-05 17:00:00</td>
          <td class="gt_row gt_center">10</td>
        </tr>
      </tbody>
      
      
    </table></div> <br></p></li>
<li><p>What does <code>1:3 + 1:10</code> return? Why?</p>
<pre class="r"><code>1:3 + 1:10</code></pre>
<pre><code> [1]  2  4  6  5  7  9  8 10 12 11</code></pre>
<p>The vector that is shorter gets recycled.</p>
<p>So essentially it is outputting:</p>
<pre class="r"><code>df &lt;- data.frame(a = c(rep(1:3,3), 1),
                 b = 1:10)
df %&gt;% 
  mutate(c = a + b) %&gt;% 
  gt()</code></pre>
<style>html {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
    }
    
    #vkdypjpunz .gt_table {
      display: table;
      border-collapse: collapse;
      margin-left: auto;
      margin-right: auto;
      color: #333333;
      font-size: 16px;
      font-weight: normal;
      font-style: normal;
      background-color: #FFFFFF;
      width: auto;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #A8A8A8;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #A8A8A8;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
    }
    
    #vkdypjpunz .gt_heading {
      background-color: #FFFFFF;
      text-align: center;
      border-bottom-color: #FFFFFF;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
    }
    
    #vkdypjpunz .gt_title {
      color: #333333;
      font-size: 125%;
      font-weight: initial;
      padding-top: 4px;
      padding-bottom: 4px;
      border-bottom-color: #FFFFFF;
      border-bottom-width: 0;
    }
    
    #vkdypjpunz .gt_subtitle {
      color: #333333;
      font-size: 85%;
      font-weight: initial;
      padding-top: 0;
      padding-bottom: 4px;
      border-top-color: #FFFFFF;
      border-top-width: 0;
    }
    
    #vkdypjpunz .gt_bottom_border {
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
    }
    
    #vkdypjpunz .gt_col_headings {
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
    }
    
    #vkdypjpunz .gt_col_heading {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: normal;
      text-transform: inherit;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: bottom;
      padding-top: 5px;
      padding-bottom: 6px;
      padding-left: 5px;
      padding-right: 5px;
      overflow-x: hidden;
    }
    
    #vkdypjpunz .gt_column_spanner_outer {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: normal;
      text-transform: inherit;
      padding-top: 0;
      padding-bottom: 0;
      padding-left: 4px;
      padding-right: 4px;
    }
    
    #vkdypjpunz .gt_column_spanner_outer:first-child {
      padding-left: 0;
    }
    
    #vkdypjpunz .gt_column_spanner_outer:last-child {
      padding-right: 0;
    }
    
    #vkdypjpunz .gt_column_spanner {
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      vertical-align: bottom;
      padding-top: 5px;
      padding-bottom: 6px;
      overflow-x: hidden;
      display: inline-block;
      width: 100%;
    }
    
    #vkdypjpunz .gt_group_heading {
      padding: 8px;
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      text-transform: inherit;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: middle;
    }
    
    #vkdypjpunz .gt_empty_group_heading {
      padding: 0.5px;
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      vertical-align: middle;
    }
    
    #vkdypjpunz .gt_from_md > :first-child {
      margin-top: 0;
    }
    
    #vkdypjpunz .gt_from_md > :last-child {
      margin-bottom: 0;
    }
    
    #vkdypjpunz .gt_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      margin: 10px;
      border-top-style: solid;
      border-top-width: 1px;
      border-top-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 1px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 1px;
      border-right-color: #D3D3D3;
      vertical-align: middle;
      overflow-x: hidden;
    }
    
    #vkdypjpunz .gt_stub {
      color: #333333;
      background-color: #FFFFFF;
      font-size: 100%;
      font-weight: initial;
      text-transform: inherit;
      border-right-style: solid;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
      padding-left: 12px;
    }
    
    #vkdypjpunz .gt_summary_row {
      color: #333333;
      background-color: #FFFFFF;
      text-transform: inherit;
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
    }
    
    #vkdypjpunz .gt_first_summary_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
    }
    
    #vkdypjpunz .gt_grand_summary_row {
      color: #333333;
      background-color: #FFFFFF;
      text-transform: inherit;
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
    }
    
    #vkdypjpunz .gt_first_grand_summary_row {
      padding-top: 8px;
      padding-bottom: 8px;
      padding-left: 5px;
      padding-right: 5px;
      border-top-style: double;
      border-top-width: 6px;
      border-top-color: #D3D3D3;
    }
    
    #vkdypjpunz .gt_striped {
      background-color: rgba(128, 128, 128, 0.05);
    }
    
    #vkdypjpunz .gt_table_body {
      border-top-style: solid;
      border-top-width: 2px;
      border-top-color: #D3D3D3;
      border-bottom-style: solid;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
    }
    
    #vkdypjpunz .gt_footnotes {
      color: #333333;
      background-color: #FFFFFF;
      border-bottom-style: none;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
    }
    
    #vkdypjpunz .gt_footnote {
      margin: 0px;
      font-size: 90%;
      padding: 4px;
    }
    
    #vkdypjpunz .gt_sourcenotes {
      color: #333333;
      background-color: #FFFFFF;
      border-bottom-style: none;
      border-bottom-width: 2px;
      border-bottom-color: #D3D3D3;
      border-left-style: none;
      border-left-width: 2px;
      border-left-color: #D3D3D3;
      border-right-style: none;
      border-right-width: 2px;
      border-right-color: #D3D3D3;
    }
    
    #vkdypjpunz .gt_sourcenote {
      font-size: 90%;
      padding: 4px;
    }
    
    #vkdypjpunz .gt_left {
      text-align: left;
    }
    
    #vkdypjpunz .gt_center {
      text-align: center;
    }
    
    #vkdypjpunz .gt_right {
      text-align: right;
      font-variant-numeric: tabular-nums;
    }
    
    #vkdypjpunz .gt_font_normal {
      font-weight: normal;
    }
    
    #vkdypjpunz .gt_font_bold {
      font-weight: bold;
    }
    
    #vkdypjpunz .gt_font_italic {
      font-style: italic;
    }
    
    #vkdypjpunz .gt_super {
      font-size: 65%;
    }
    
    #vkdypjpunz .gt_footnote_marks {
      font-style: italic;
      font-size: 65%;
    }
    </style>
    <div id="vkdypjpunz" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
      
      <thead class="gt_col_headings">
        <tr>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">a</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">b</th>
          <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">c</th>
        </tr>
      </thead>
      <tbody class="gt_table_body">
        <tr>
          <td class="gt_row gt_right">1</td>
          <td class="gt_row gt_center">1</td>
          <td class="gt_row gt_right">2</td>
        </tr>
        <tr>
          <td class="gt_row gt_right">2</td>
          <td class="gt_row gt_center">2</td>
          <td class="gt_row gt_right">4</td>
        </tr>
        <tr>
          <td class="gt_row gt_right">3</td>
          <td class="gt_row gt_center">3</td>
          <td class="gt_row gt_right">6</td>
        </tr>
        <tr>
          <td class="gt_row gt_right">1</td>
          <td class="gt_row gt_center">4</td>
          <td class="gt_row gt_right">5</td>
        </tr>
        <tr>
          <td class="gt_row gt_right">2</td>
          <td class="gt_row gt_center">5</td>
          <td class="gt_row gt_right">7</td>
        </tr>
        <tr>
          <td class="gt_row gt_right">3</td>
          <td class="gt_row gt_center">6</td>
          <td class="gt_row gt_right">9</td>
        </tr>
        <tr>
          <td class="gt_row gt_right">1</td>
          <td class="gt_row gt_center">7</td>
          <td class="gt_row gt_right">8</td>
        </tr>
        <tr>
          <td class="gt_row gt_right">2</td>
          <td class="gt_row gt_center">8</td>
          <td class="gt_row gt_right">10</td>
        </tr>
        <tr>
          <td class="gt_row gt_right">3</td>
          <td class="gt_row gt_center">9</td>
          <td class="gt_row gt_right">12</td>
        </tr>
        <tr>
          <td class="gt_row gt_right">1</td>
          <td class="gt_row gt_center">10</td>
          <td class="gt_row gt_right">11</td>
        </tr>
      </tbody>
      
      
    </table></div></li>
<li><p>What trigonometric functions does R provide?</p>
<p>It provides pretty much all the trig functions. <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/Trig.html">Here</a> is a list.</p></li>
</ol>
</div>
</div>
<div id="grouped-summaries-with-summarisesummarize" class="section level2">
<h2>Grouped summaries with <code>summarise()</code>/<code>summarize()</code></h2>
<p>If you need to find out the maximum of a certain variable, or the mean, median, minimum etc. you use <code>summarise()</code>. <code>na.rm = TRUE</code> means exclude the NA values then get the summary stat. I added a simple example in the code below. Notice that when we have NAs in our dataset and then we take a mean, the result is NA. If there are NAs in the input, there are NAs in the output. The <code>na.rm = TRUE</code> helps us by ignoring the NA values, and getting the summary stat for the non NA values here.</p>
<pre class="r"><code>summarise(flights, delay = mean(dep_delay, na.rm = TRUE))</code></pre>
<pre><code># A tibble: 1 x 1
  delay
  &lt;dbl&gt;
1  12.6</code></pre>
<pre class="r"><code>summarise(flights,
          n = n(),
          biggest_dep_delay = max(dep_delay, na.rm = TRUE),
          biggest_arr_delay = max(arr_delay, na.rm = TRUE))</code></pre>
<pre><code># A tibble: 1 x 3
       n biggest_dep_delay biggest_arr_delay
   &lt;int&gt;             &lt;dbl&gt;             &lt;dbl&gt;
1 336776              1301              1272</code></pre>
<pre class="r"><code># Why use na.rm?
test = c(3, 3, 6, 6, NA, NA)
mean(test)</code></pre>
<pre><code>[1] NA</code></pre>
<pre class="r"><code>mean(test, na.rm = TRUE)</code></pre>
<pre><code>[1] 4.5</code></pre>
<p>Did you see that when we used <code>mean(test, na.rm = TRUE)</code> we got a result of 4.5, which is <span class="math inline">\((3 + 3+ 6 + 6)/4\)</span>. I.e. the NA values are removed and the count that forms the denominator is also updated.</p>
<p>Summary stats are most often valuable when we look across groups. For example, letâ€™s say we wanted to know the median bill length of penguins based on species and sex. We first group by species and sex since weâ€™re interested to see how the stats change based on species and whether the penguin is male/female. When I ran it the first time there were some species that had sex == NA, so I removed the NA values from the penguin dataset before grouping it.</p>
<pre><code class='language-r'><code>by_species_sex <- <span style='background-color:#9FDDBA;color:#008080'>group_by</span>(drop_na(penguins),<span style='background-color:#9FDDBA;color:#008080'> species</span>,<span style='background-color:#9FDDBA;color:#008080'> sex</span>)<br><span style='background-color:#9FDDBA;color:#008080'>summarise</span>(by_species_sex,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;med_bill_length_mm = <span style='background-color:#9FDDBA;color:#008080'>median</span>(bill_length_mm, na.rm = TRUE),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;med_bill_depth_mm = <span style='background-color:#9FDDBA;color:#008080'>median</span>(bill_depth_mm, na.rm = TRUE),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;med_flipper_length_mm = <span style='background-color:#9FDDBA;color:#008080'>median</span>(flipper_length_mm, na.rm = TRUE),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;med_body_mass_g = <span style='background-color:#9FDDBA;color:#008080'>median</span>(body_mass_g, na.rm = TRUE)) %>% <br>gt()</code></code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#rgfpmqatpo .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rgfpmqatpo .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rgfpmqatpo .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rgfpmqatpo .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rgfpmqatpo .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rgfpmqatpo .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rgfpmqatpo .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rgfpmqatpo .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rgfpmqatpo .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rgfpmqatpo .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rgfpmqatpo .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rgfpmqatpo .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#rgfpmqatpo .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rgfpmqatpo .gt_from_md > :first-child {
  margin-top: 0;
}

#rgfpmqatpo .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rgfpmqatpo .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rgfpmqatpo .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#rgfpmqatpo .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rgfpmqatpo .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#rgfpmqatpo .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rgfpmqatpo .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rgfpmqatpo .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rgfpmqatpo .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rgfpmqatpo .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rgfpmqatpo .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#rgfpmqatpo .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rgfpmqatpo .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#rgfpmqatpo .gt_left {
  text-align: left;
}

#rgfpmqatpo .gt_center {
  text-align: center;
}

#rgfpmqatpo .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rgfpmqatpo .gt_font_normal {
  font-weight: normal;
}

#rgfpmqatpo .gt_font_bold {
  font-weight: bold;
}

#rgfpmqatpo .gt_font_italic {
  font-style: italic;
}

#rgfpmqatpo .gt_super {
  font-size: 65%;
}

#rgfpmqatpo .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="rgfpmqatpo" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">sex</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">med_bill_length_mm</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">med_bill_depth_mm</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">med_flipper_length_mm</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">med_body_mass_g</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <td colspan="5" class="gt_group_heading">Adelie</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">female</td>
      <td class="gt_row gt_right">37.00</td>
      <td class="gt_row gt_right">17.60</td>
      <td class="gt_row gt_right">188.0</td>
      <td class="gt_row gt_right">3400</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">male</td>
      <td class="gt_row gt_right">40.60</td>
      <td class="gt_row gt_right">18.90</td>
      <td class="gt_row gt_right">193.0</td>
      <td class="gt_row gt_right">4000</td>
    </tr>
    <tr class="gt_group_heading_row">
      <td colspan="5" class="gt_group_heading">Chinstrap</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">female</td>
      <td class="gt_row gt_right">46.30</td>
      <td class="gt_row gt_right">17.65</td>
      <td class="gt_row gt_right">192.0</td>
      <td class="gt_row gt_right">3550</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">male</td>
      <td class="gt_row gt_right">50.95</td>
      <td class="gt_row gt_right">19.30</td>
      <td class="gt_row gt_right">200.5</td>
      <td class="gt_row gt_right">3950</td>
    </tr>
    <tr class="gt_group_heading_row">
      <td colspan="5" class="gt_group_heading">Gentoo</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">female</td>
      <td class="gt_row gt_right">45.50</td>
      <td class="gt_row gt_right">14.25</td>
      <td class="gt_row gt_right">212.0</td>
      <td class="gt_row gt_right">4700</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">male</td>
      <td class="gt_row gt_right">49.50</td>
      <td class="gt_row gt_right">15.70</td>
      <td class="gt_row gt_right">221.0</td>
      <td class="gt_row gt_right">5500</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
<div id="the-pipe" class="section level2">
<h2>The pipe: %&gt;%</h2>
<p>The book uses an example with flights, here we add a new example with the penguins data set. As pointed out in the book, it is a bit tedious, and arguably doesnâ€™t flow very well, or read particularly well the first way.</p>
<p>Hence the pipe! The pipe is more inuitive for me, and as discussed previously can be read as <em>as then</em>.</p>
<div id="more-onerous-way" class="section level3">
<h3>More onerous way</h3>
<pre class="r"><code>by_species &lt;- group_by(drop_na(penguins), species, sex)
measures &lt;- summarise(by_species,
  count = n(),
  med_bill_length_mm = median(bill_length_mm, na.rm = TRUE),
  med_bill_depth_mm = median(bill_depth_mm, na.rm = TRUE),
  med_flipper_length_mm = median(flipper_length_mm, na.rm = TRUE),
  med_body_mass_g = median(body_mass_g, na.rm = TRUE)
)

ggplot(data = measures, mapping = aes(x = med_body_mass_g, 
                                      y = med_flipper_length_mm)) +
  geom_point(aes(size = count), alpha = 1/3) </code></pre>
<p><img src="figure/ch3_dplyr.Rmd/unnamed-chunk-66-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<div id="using-the-pipe" class="section level3">
<h3>Using the pipe %&gt;%</h3>
<pre class="r"><code>penguins %&gt;% 
  drop_na() %&gt;% 
  group_by(species, sex) %&gt;% 
  summarise(count = n(),
  med_bill_length_mm = median(bill_length_mm, na.rm = TRUE),
  med_bill_depth_mm = median(bill_depth_mm, na.rm = TRUE),
  med_flipper_length_mm = median(flipper_length_mm, na.rm = TRUE),
  med_body_mass_g = median(body_mass_g, na.rm = TRUE)) %&gt;% 
  ggplot(mapping = aes(x = med_body_mass_g, 
                                      y = med_flipper_length_mm)) +
  geom_point(aes(size = count), alpha = 1/3) </code></pre>
<p><img src="figure/ch3_dplyr.Rmd/unnamed-chunk-67-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="counts" class="section level2">
<h2>Counts</h2>
<ul>
<li><code>n()</code> which produces a count and,</li>
<li><code>sum(is.na(some_variable))</code> gives you the NA sum of data.</li>
</ul>
<pre class="r"><code>penguins %&gt;% 
  group_by(species) %&gt;% 
  summarise(count = n())</code></pre>
<pre><code># A tibble: 3 x 2
  species   count
  &lt;fct&gt;     &lt;int&gt;
1 Adelie      152
2 Chinstrap    68
3 Gentoo      124</code></pre>
<pre class="r"><code># how many missing data in certain characteristics?
penguins %&gt;% 
  select(species, body_mass_g) %&gt;% 
  group_by(species) %&gt;% 
  summarise(count = sum(is.na(body_mass_g)))</code></pre>
<pre><code># A tibble: 3 x 2
  species   count
  &lt;fct&gt;     &lt;int&gt;
1 Adelie        1
2 Chinstrap     0
3 Gentoo        1</code></pre>
<pre class="r"><code># how many missing data in certain characteristics?
penguins %&gt;% 
  select(species, bill_length_mm) %&gt;% 
  group_by(species) %&gt;% 
  summarise(count = sum(is.na(bill_length_mm)))</code></pre>
<pre><code># A tibble: 3 x 2
  species   count
  &lt;fct&gt;     &lt;int&gt;
1 Adelie        1
2 Chinstrap     0
3 Gentoo        1</code></pre>
</div>
<div id="useful-summary-functions" class="section level2">
<h2>Useful summary Functions</h2>
<div id="measures-of-location-mean-median-etc." class="section level3">
<h3>Measures of Location (mean, median etc.)</h3>
<ul>
<li>Median: `median(x) is the value of x where 50% of the variable x lies above that value, and 50% of the variable x lies below that value.</li>
</ul>
<pre class="r"><code>not_cancelled &lt;- flights %&gt;% 
  filter(!is.na(dep_delay),
         !is.na(arr_delay))

not_cancelled %&gt;% 
  group_by(year, month, day) %&gt;% 
  summarise(
    # avg_delay
    avg_delay1 = mean(arr_delay),
    # avg positive delay - filter our only positive arrival delay
    avg_delay2 = mean(arr_delay[arr_delay &gt; 0])
  )</code></pre>
<pre><code># A tibble: 365 x 5
# Groups:   year, month [12]
    year month   day avg_delay1 avg_delay2
   &lt;int&gt; &lt;int&gt; &lt;int&gt;      &lt;dbl&gt;      &lt;dbl&gt;
 1  2013     1     1     12.7         32.5
 2  2013     1     2     12.7         32.0
 3  2013     1     3      5.73        27.7
 4  2013     1     4     -1.93        28.3
 5  2013     1     5     -1.53        22.6
 6  2013     1     6      4.24        24.4
 7  2013     1     7     -4.95        27.8
 8  2013     1     8     -3.23        20.8
 9  2013     1     9     -0.264       25.6
10  2013     1    10     -5.90        27.3
# ... with 355 more rows</code></pre>
</div>
<div id="measures-of-spread-sd-iqr-etc." class="section level3">
<h3>Measures of spread (sd, IQR etc.)</h3>
<ul>
<li>Standard deviation: sd() measures the spread of a variable, the larger the sd the more dispersed the data.</li>
<li>Inter Quartile Range: IQR() measures the spread in the middle - i.e.Â it measures the spread in the middle 50% of the variable. The measure is useful if there are outliers. <span class="math inline">\(IQR = Q{3} - Q{1}\)</span>.</li>
<li>Median Absolute Devaition: mad() measures how far each point is from the median of the variable in absolute terms.</li>
<li>Need the Mean Absolute Deviation: That can be found in the <a href="https://rdrr.io/cran/DescTools/man/MeanAD.html">DescTools</a> package.</li>
</ul>
<pre class="r"><code>not_cancelled %&gt;% 
  group_by(dest) %&gt;% 
  summarise(dist_sd = sd(distance),
            dist_iqr = IQR(distance),
            dist_mad = mad(distance)) %&gt;% 
  arrange(desc(dist_sd))</code></pre>
<pre><code># A tibble: 104 x 4
   dest  dist_sd dist_iqr dist_mad
   &lt;chr&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 EGE     10.5        21     1.48
 2 SAN     10.4        21     0   
 3 SFO     10.2        21     0   
 4 HNL     10.0        20     0   
 5 SEA      9.98       20     0   
 6 LAS      9.91       21     0   
 7 PDX      9.87       20     0   
 8 PHX      9.86       20     0   
 9 LAX      9.66       21     0   
10 IND      9.46       20     0   
# ... with 94 more rows</code></pre>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 3.6.3 (2020-02-29)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 18363)

Matrix products: default

locale:
[1] LC_COLLATE=English_South Africa.1252  LC_CTYPE=English_South Africa.1252   
[3] LC_MONETARY=English_South Africa.1252 LC_NUMERIC=C                         
[5] LC_TIME=English_South Africa.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] emo_0.0.0.9000       skimr_2.1.1          gt_0.2.2            
 [4] palmerpenguins_0.1.0 nycflights13_1.0.1   flair_0.0.2         
 [7] forcats_0.5.0        stringr_1.4.0        dplyr_1.0.0         
[10] purrr_0.3.4          readr_1.3.1          tidyr_1.1.0         
[13] tibble_3.0.3         ggplot2_3.3.0        tidyverse_1.3.0     
[16] workflowr_1.6.2     

loaded via a namespace (and not attached):
 [1] Rcpp_1.0.4.6     lubridate_1.7.8  lattice_0.20-38  utf8_1.1.4      
 [5] assertthat_0.2.1 rprojroot_1.3-2  digest_0.6.25    R6_2.4.1        
 [9] cellranger_1.1.0 repr_1.1.0       backports_1.1.6  reprex_0.3.0    
[13] evaluate_0.14    highr_0.8        httr_1.4.2       pillar_1.4.6    
[17] rlang_0.4.7      readxl_1.3.1     rstudioapi_0.11  whisker_0.4     
[21] checkmate_2.0.0  rmarkdown_2.1    labeling_0.3     munsell_0.5.0   
[25] broom_0.5.6      compiler_3.6.3   httpuv_1.5.2     modelr_0.1.6    
[29] xfun_0.13        pkgconfig_2.0.3  base64enc_0.1-3  htmltools_0.5.0 
[33] tidyselect_1.1.0 fansi_0.4.1      crayon_1.3.4     dbplyr_1.4.3    
[37] withr_2.2.0      later_1.0.0      grid_3.6.3       nlme_3.1-144    
[41] jsonlite_1.7.0   gtable_0.3.0     lifecycle_0.2.0  DBI_1.1.0       
[45] git2r_0.26.1     magrittr_1.5     scales_1.1.0     cli_2.0.2       
[49] stringi_1.4.6    farver_2.0.3     fs_1.4.1         promises_1.1.0  
[53] xml2_1.3.2       ellipsis_0.3.1   generics_0.0.2   vctrs_0.3.2     
[57] tools_3.6.3      glue_1.4.1       hms_0.5.3        yaml_2.2.1      
[61] colorspace_1.4-1 rvest_0.3.5      knitr_1.28       haven_2.2.0     
[65] sass_0.2.0      </code></pre>
</div>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
http://docs.mathjax.org/en/latest/configuration.html.  This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
