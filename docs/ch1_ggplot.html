<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Vebash Naidoo" />

<meta name="date" content="2020-10-08" />

<title>Chapter 1 - Data Viz with ggplot</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/master/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
      </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R4DS Book - Prep for exam</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="license.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Chapter 1 - Data Viz with ggplot</h1>
<h4 class="author">Vebash Naidoo</h4>
<h4 class="date">10/08/2020</h4>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span> workflowr <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks"> Checks <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> </a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2020-11-01
</p>
<p>
<strong>Checks:</strong> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> 7 <span class="glyphicon glyphicon-exclamation-sign text-danger" aria-hidden="true"></span> 0
</p>
<p>
<strong>Knit directory:</strong> <code>r4ds_book/</code> <span class="glyphicon glyphicon-question-sign" aria-hidden="true" title="This is the local directory in which the code in this file was executed."> </span>
</p>
<p>
This reproducible <a href="http://rmarkdown.rstudio.com">R Markdown</a> analysis was created with <a
  href="https://github.com/jdblischak/workflowr">workflowr</a> (version 1.6.2). The <em>Checks</em> tab describes the reproducibility checks that were applied when the results were created. The <em>Past versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguptodate"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>R Markdown file:</strong> up-to-date </a>
</p>
</div>
<div id="strongRMarkdownfilestronguptodate" class="panel-collapse collapse">
<div class="panel-body">
<p>Great! Since the R Markdown file has been committed to the Git repository, you know the exact version of the code that produced these results.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Environment:</strong> empty </a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the global environment can affect the analysis in your R Markdown file in unknown ways. For reproduciblity it’s best to always run the code in an empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20200814code"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Seed:</strong> <code>set.seed(20200814)</code> </a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20200814code" class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20200814)</code> was run prior to running the code in the R Markdown file. Setting a seed ensures that any results that rely on randomness, e.g. subsampling or permutations, are reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Session information:</strong> recorded </a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package versions is critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongnone"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Cache:</strong> none </a>
</p>
</div>
<div id="strongCachestrongnone" class="panel-collapse collapse">
<div class="panel-body">
<p>Nice! There were no cached chunks for this analysis, so you can be confident that you successfully produced the results during this run.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>File paths:</strong> relative </a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr project makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcomsciencificityR4DSstudyexamstreea8057e7cfddbc25dacf6708958678864c9b9e493targetblanka8057e7a"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Repository version:</strong> <a href="https://github.com/sciencificity/R4DS_study_exams/tree/a8057e7cfddbc25dacf6708958678864c9b9e493" target="_blank">a8057e7</a> </a>
</p>
</div>
<div id="strongRepositoryversionstrongahrefhttpsgithubcomsciencificityR4DSstudyexamstreea8057e7cfddbc25dacf6708958678864c9b9e493targetblanka8057e7a" class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development and connecting the code version to the results is critical for reproducibility.
</p>
<p>
The results in this page were generated with repository version <a href="https://github.com/sciencificity/R4DS_study_exams/tree/a8057e7cfddbc25dacf6708958678864c9b9e493" target="_blank">a8057e7</a>. See the <em>Past versions</em> tab to see a history of the changes made to the R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for the analysis have been committed to Git prior to generating the results (you can use <code>wflow_publish</code> or <code>wflow_git_commit</code>). workflowr only checks the R Markdown file, but you know if there are other scripts or data files that it depends on. Below is the status of the Git repository when the results were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .Rproj.user/

Untracked files:
    Untracked:  analysis/images/
    Untracked:  code_snipp.txt

</code></pre>
<p>
Note that any generated files, e.g. HTML, png, CSS, etc., are not included in this status report because it is ok for generated content to have uncommitted changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">

<p>
These are the previous versions of the repository in which changes were made to the R Markdown (<code>analysis/ch1_ggplot.Rmd</code>) and HTML (<code>docs/ch1_ggplot.html</code>) files. If you’ve configured a remote Git repository (see <code>?wflow_git_remote</code>), click on the hyperlinks in the table below to view the files as they were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/0aef1b0f9b5a050cc31609e13af14bc8129cc186/docs/ch1_ggplot.html" target="_blank">0aef1b0</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-31
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/bdc0881be8f3e0c6658d28418f3fc37edf9cf85c/docs/ch1_ggplot.html" target="_blank">bdc0881</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-26
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/822454427b20b7ef6d961df5a9dca161d63958d6/docs/ch1_ggplot.html" target="_blank">8224544</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-26
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/2f8dcc02f6d491ddff7cdfe117b498782b3a549a/docs/ch1_ggplot.html" target="_blank">2f8dcc0</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-25
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/61e232417041e9fdc7c3918948a7fe3d492720e5/docs/ch1_ggplot.html" target="_blank">61e2324</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-25
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/570c0bba9460451db4e861d26d122e0f7f4c65cb/docs/ch1_ggplot.html" target="_blank">570c0bb</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-22
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/cfbefe68681ad4c3490fe028029c92711bf9ae35/docs/ch1_ggplot.html" target="_blank">cfbefe6</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-21
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/4497db4a779ca510b0a1e2bccce4f393a6c73012/docs/ch1_ggplot.html" target="_blank">4497db4</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-18
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/1a3bebed6aae2c272fcdaa79e18410ad30d73262/docs/ch1_ggplot.html" target="_blank">1a3bebe</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-18
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/ce8c214bdd8dad411142f64342ae54f8f3dd9d17/docs/ch1_ggplot.html" target="_blank">ce8c214</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-16
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/1fa6c06f801f7ae7ccd15c16f6966b80870106ea/docs/ch1_ggplot.html" target="_blank">1fa6c06</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-16
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/9ae58618edba4e2eb84fc2113bb131bd9797ca37/docs/ch1_ggplot.html" target="_blank">9ae5861</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-13
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/76c2bc460c59f4d690f4091bd02ea7a901c3a1db/docs/ch1_ggplot.html" target="_blank">76c2bc4</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-10
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/226cd16443d6f476c331f2c8d7ae945c62f5a59e/docs/ch1_ggplot.html" target="_blank">226cd16</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-10
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/ae71e8e5db989d4834f8e2c29bde75a588c02c8e/analysis/ch1_ggplot.Rmd" target="_blank">ae71e8e</a>
</td>
<td>
sciencificity
</td>
<td>
2020-10-10
</td>
<td>
added Ch 4 section
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/ceae49506e0f0722f8325fe337405a33d772bd68/docs/ch1_ggplot.html" target="_blank">ceae495</a>
</td>
<td>
sciencificity
</td>
<td>
2020-09-17
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/b8fde7d4b92d9bab0424481570766b7a5d14ca5c/docs/ch1_ggplot.html" target="_blank">b8fde7d</a>
</td>
<td>
sciencificity
</td>
<td>
2020-09-13
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/0bab89d6921d38d878ed6b2e3fb8b743dc51f18c/docs/ch1_ggplot.html" target="_blank">0bab89d</a>
</td>
<td>
sciencificity
</td>
<td>
2020-09-12
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/a47f1a3f928f750e872acc21cd8703faf2e084cb/analysis/ch1_ggplot.Rmd" target="_blank">a47f1a3</a>
</td>
<td>
sciencificity
</td>
<td>
2020-09-12
</td>
<td>
completed ggplot exercises
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/720a89b0311d91cb4f2479429627207efe894384/docs/ch1_ggplot.html" target="_blank">720a89b</a>
</td>
<td>
sciencificity
</td>
<td>
2020-09-02
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/4612bb8876b14e8f9ea24b2cd49fcb23cb3cc272/docs/ch1_ggplot.html" target="_blank">4612bb8</a>
</td>
<td>
sciencificity
</td>
<td>
2020-09-02
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/d627f04f54250399381f24742655d9eb831d3a98/docs/ch1_ggplot.html" target="_blank">d627f04</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-26
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/50ff8a514c5864a0c233e4e298fe6115afd443a4/analysis/ch1_ggplot.Rmd" target="_blank">50ff8a5</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-26
</td>
<td>
Corrected page flow
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/b3395ae2306a4bd2331198e7dc2bfa6db1fce804/docs/ch1_ggplot.html" target="_blank">b3395ae</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-23
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/e6848319be99a7af497ebf2d20d1f7739fa41db8/analysis/ch1_ggplot.Rmd" target="_blank">e684831</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-23
</td>
<td>
Added latest learnings
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/6373aef674a3f94db47e5b2545fb6c20c9e72690/docs/ch1_ggplot.html" target="_blank">6373aef</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-23
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/b96b2ff8d99a41d8406be4515de3d681fb9819e6/analysis/ch1_ggplot.Rmd" target="_blank">b96b2ff</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-23
</td>
<td>
Latest additions
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/28dbedfcb6ea3a77a40d20df427f18908df746ad/docs/ch1_ggplot.html" target="_blank">28dbedf</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-23
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/5c5ee455b97833904f6cfbdef06fd4549ddb3e01/docs/ch1_ggplot.html" target="_blank">5c5ee45</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-23
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/865e66f4c8aada83abc2c7177b6c8ef55e608c50/analysis/ch1_ggplot.Rmd" target="_blank">865e66f</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-23
</td>
<td>
Ch1 more complete, plus started Ch2
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/051fc23191428d2dfd311b8d374cf2eb671b6c66/docs/ch1_ggplot.html" target="_blank">051fc23</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-22
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/4294654caaad58d070fa398f84e3ff9b5ad76f3d/analysis/ch1_ggplot.Rmd" target="_blank">4294654</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-22
</td>
<td>
More of Chapter 1 done
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/404509011bffaa50a4297b2298334c5f6d34e632/docs/ch1_ggplot.html" target="_blank">4045090</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-21
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/70845529656455c13d5918c3aac7901c269aecdf/analysis/ch1_ggplot.Rmd" target="_blank">7084552</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-21
</td>
<td>
Corrected image files
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/f8f5ce118d1773e949b5e104d56c012a40713af2/docs/ch1_ggplot.html" target="_blank">f8f5ce1</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-21
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/60d834a1defe467c5bf0d5f73011e27ed52871c3/analysis/ch1_ggplot.Rmd" target="_blank">60d834a</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-21
</td>
<td>
Added more exercise solns to Chapter 1
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/589a0cab5736950bd10a3bec233a4aa8db394d49/docs/ch1_ggplot.html" target="_blank">589a0ca</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-18
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/801c1d7e74a88cf74b6c2760f0a1e99463d4625c/docs/ch1_ggplot.html" target="_blank">801c1d7</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-18
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/f28b0d399ad71a2bc4a83aa8e8cc38970df00b95/analysis/ch1_ggplot.Rmd" target="_blank">f28b0d3</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-18
</td>
<td>
Added more exercise solns to Chapter 1
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/9ea828099cb28c2857df68af0bf91167f59a3f7e/docs/ch1_ggplot.html" target="_blank">9ea8280</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-14
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/82f2e942d08254f2e3e746ff589197fc1d00ff56/analysis/ch1_ggplot.Rmd" target="_blank">82f2e94</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-14
</td>
<td>
Add Chapter 1
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/e2cdeb50d0fb85499f3667853bb42e71c893a1dc/docs/ch1_ggplot.html" target="_blank">e2cdeb5</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-14
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/6c088b57fc20330341fdc84ff5ce8079ebb2939a/analysis/ch1_ggplot.Rmd" target="_blank">6c088b5</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-14
</td>
<td>
Add Chapter 1
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<div id="do-cars-with-big-engines-use-more-fuel-than-cars-with-small-engines" class="section level2">
<h2>Do cars with big engines use more fuel than cars with small engines?</h2>
<p>Hypothesis: Cars with bigger engines use more fuel, i.e. the fuel efficiency declines as the engine size gets bigger. If <code>miles per gallon</code> was on the y-axis and <code>engine size</code> on the x-axis we would see a decreasing trend.</p>
<pre class="r"><code>ggplot2::mpg</code></pre>
<pre><code># A tibble: 234 x 11
   manufacturer model    displ  year   cyl trans   drv     cty   hwy fl    class
   &lt;chr&gt;        &lt;chr&gt;    &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;
 1 audi         a4         1.8  1999     4 auto(l~ f        18    29 p     comp~
 2 audi         a4         1.8  1999     4 manual~ f        21    29 p     comp~
 3 audi         a4         2    2008     4 manual~ f        20    31 p     comp~
 4 audi         a4         2    2008     4 auto(a~ f        21    30 p     comp~
 5 audi         a4         2.8  1999     6 auto(l~ f        16    26 p     comp~
 6 audi         a4         2.8  1999     6 manual~ f        18    26 p     comp~
 7 audi         a4         3.1  2008     6 auto(a~ f        18    27 p     comp~
 8 audi         a4 quat~   1.8  1999     4 manual~ 4        18    26 p     comp~
 9 audi         a4 quat~   1.8  1999     4 auto(l~ 4        16    25 p     comp~
10 audi         a4 quat~   2    2008     4 manual~ 4        20    28 p     comp~
# ... with 224 more rows</code></pre>
<pre class="r"><code># create coordinate system
ggplot(data = mpg, aes(x = displ,
                       y = hwy))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-1-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ,
                           y = hwy))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-1-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>My hypothesis has been confirmed.</p>
<pre class="r"><code>num_rows &lt;- nrow(mtcars)
num_cols &lt;- ncol(mtcars)
ex4_plot &lt;- ggplot(data = mpg,
                   aes(x = hwy,
                       y = cyl)) +
  geom_point()</code></pre>
<div id="exercises" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>Run <code>ggplot(data = mpg)</code>. What do you see? <br> Ans: An empty canvas of a plot. If you add the <code>aes(x = xx, y = yy)</code> you will see an empty canvas with the axes drawn.</p></li>
<li><p>How many rows are in <code>mtcars</code>? How many columns? <br> Ans: Number of rows is 32, cols is 11.</p></li>
<li><p>What does the <code>drv</code> variable describe? Read the help for <code>?mpg</code> to find out. <br> Ans: ‘The type of drive train, where f = front-wheel drive, r = rear wheel drive, 4 = 4wd’</p></li>
<li><p>Make a scatterplot of <code>hwy</code> vs <code>cyl</code>.</p>
<pre class="r"><code>ex4_plot</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-3-1.png" width="672" style="display: block; margin: auto;" /></p></li>
<li><p>What happens if you make a scatterplot of <code>class</code> vs <code>drv</code>? Why is the plot not useful?</p>
<pre class="r"><code>ggplot(data = mpg, aes(x = class, 
                     y = drv)) +
geom_point()    </code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;" /> These are 2 categorical variables here so this isn’t very useful.</p></li>
</ol>
</div>
</div>
<div id="aesthetics" class="section level2">
<h2>Aesthetics</h2>
<p>You can give extra information about your dataset by mapping data to aesthetics like <code>size</code>, <code>colour</code>, <code>shape</code>.</p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(mapping = aes(x = displ, y = hwy, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>colour = class</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-74-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>When you put a feature against an aesthetic <code>ggplot</code> will assign a unique <code>level</code> (here <span style="color: #008080;background-color:#9FDDBA">colour</span> to each <span style="color: #008080;background-color:#9FDDBA">class</span> of the feature) -&gt; this process is called <code>scaling</code>.</p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ, y = hwy,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#800000;color:#FFE4E1'>size = class</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-75-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Mapping a unordered variable like <code>class</code> to an <span style="color: #FFE4E1;background-color:#800000">ordered aesthetic</span> like <code>size</code> is not a good idea, and we get a <span style="color: #FFE4E1;background-color:#800000">warning</span> here.</p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ, y = hwy,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>alpha = class</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-76-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><span style="color: #008080;background-color:#9FDDBA"><code>alpha</code></span> is another aesthetic that we can use.</p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ, y = hwy,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#800000;color:#FFE4E1'>shape = class</span>))</code></code></pre>
<pre><code>
Warning: The shape palette can deal with a maximum of 6 discrete values because
more than 6 becomes difficult to discriminate; you have 7. Consider
specifying shapes manually if you must have them.
</code></pre>
<pre><code>
Warning: Removed 62 rows containing missing values (geom_point).
</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-77-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><code>ggplot</code> only uses <strong>6</strong> <span style="color: #FFE4E1;background-color:#800000"><code>shape</code></span>s at a time, so we’re missing <code>suv</code>! When mapping to aesthetics think carefully about which aesthetic makes sense.</p>
<p>If you look at the <code>colour = class</code> plot vs the <code>shape = class</code> plot you may well think - it looks like previously labelled <code>suv</code> is now being considered to be <code>pickup</code>!? There are many points and the points get plotted on top of each other - if you look near <code>displ = 5 and hwy = 12</code> notice that there is an <code>pickup</code> point there … previously there was an <code>suv</code> point there. Let’s jitter the data so that the points lie a little away from each other to show that there’s not any issue with <code>ggplot</code>, instead the data lying on top of each other shows the last <code>class</code>.</p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_point(aes(x = displ, y = hwy,
                 colour = class))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-9-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_point(aes(x = displ, y = hwy,
                 shape = class))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-9-2.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_jitter(aes(x = displ, y = hwy,
                 colour = class))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-9-3.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_jitter(aes(x = displ, y = hwy,
                 shape = class))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-9-4.png" width="672" style="display: block; margin: auto;" /></p>
<p>Occassionally you may want to change all the points sizes uniformly (irrespective of any other data feature) - in this case you may put the aesthetic on the outside of the <code>aes()</code>.</p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ, y = hwy),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#e5989b;color:#6d6875'>colour = "blue"</span>)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-78-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = hwy),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#e5989b;color:#6d6875'>size = 4</span>)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-79-1.png" width="672" style="display: block; margin: auto;" /></p>
<div id="exercises-1" class="section level3">
<h3>Exercises</h3>
<div id="exercise-1" class="section level4">
<h4>Exercise 1</h4>
<p>What’s gone wrong with this code? Why are the points not blue?</p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;geom_point(mapping = aes(x = displ, y = hwy, <span style='background-color:#800000;color:#FFE4E1'>color = "blue"</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-80-1.png" width="672" style="display: block; margin: auto;" /> The <span style="color:#FFE4E1;background-color:#800000"><code>color</code> </span> attribute maps to a static colour <code>blue</code> and yet appears within <code>aes()</code>. To correct, put <code>colour = 'blue'</code> outside the <code>aes()</code></p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;geom_point(mapping = aes(x = displ, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = hwy), <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#e5989b;color:#6d6875'>color = "blue"</span>)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-81-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><br><br></p>
</div>
<div id="exercise-2" class="section level4">
<h4>Exercise 2</h4>
<p>Which variables in <code>mpg</code> are categorical? Which variables are continuous? (Hint: type <code>?mpg</code> to read the documentation for the dataset). How can you see this information when you run <code>mpg</code>?</p>
<p><code>manufacturer</code>, <code>model</code>, <code>trans</code>, <code>drv</code>, <code>fl</code> and <code>class</code> are categories (I also think <code>cyl</code> may be considered a category since it takes on 4 values based on a limited number of cylinders); <code>displ</code>, <code>year</code>, <code>cty</code>, <code>hwy</code>, <code>cyl</code> are continuous. You can convert <code>mpg</code> to a tibble (if it is not already) and check the types using <code>glimpse()</code>.</p>
<pre class="r"><code>glimpse(mpg)</code></pre>
<pre><code>Rows: 234
Columns: 11
$ manufacturer &lt;chr&gt; &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;...
$ model        &lt;chr&gt; &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4 quattro&quot;...
$ displ        &lt;dbl&gt; 1.8, 1.8, 2.0, 2.0, 2.8, 2.8, 3.1, 1.8, 1.8, 2.0, 2.0,...
$ year         &lt;int&gt; 1999, 1999, 2008, 2008, 1999, 1999, 2008, 1999, 1999, ...
$ cyl          &lt;int&gt; 4, 4, 4, 4, 6, 6, 6, 4, 4, 4, 4, 6, 6, 6, 6, 6, 6, 8, ...
$ trans        &lt;chr&gt; &quot;auto(l5)&quot;, &quot;manual(m5)&quot;, &quot;manual(m6)&quot;, &quot;auto(av)&quot;, &quot;a...
$ drv          &lt;chr&gt; &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4&quot;,...
$ cty          &lt;int&gt; 18, 21, 20, 21, 16, 18, 18, 18, 16, 20, 19, 15, 17, 17...
$ hwy          &lt;int&gt; 29, 29, 31, 30, 26, 26, 27, 26, 25, 28, 27, 25, 25, 25...
$ fl           &lt;chr&gt; &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;,...
$ class        &lt;chr&gt; &quot;compact&quot;, &quot;compact&quot;, &quot;compact&quot;, &quot;compact&quot;, &quot;compact&quot;,...</code></pre>
<p><br><br></p>
</div>
<div id="exercise-3" class="section level4">
<h4>Exercise 3</h4>
<p>Map a continuous variable to <code>color</code>, <code>size</code>, and <code>shape</code>. How do these aesthetics behave differently for categorical vs. continuous variables?</p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_point(aes(x = displ, y = hwy, 
                 colour = cyl))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-15-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_point(aes(x = displ, y = hwy, 
                 colour = cty))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-15-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>The colours are scaled from the lowest to the highest value using dark to light blue. <br><br></p>
</div>
<div id="exercise-4" class="section level4">
<h4>Exercise 4</h4>
<p>What happens if you map the same variable to multiple aesthetics?</p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ, y = hwy,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>colour = class</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>size = class</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-82-1.png" width="672" style="display: block; margin: auto;" /> Here we have both <span style="color:#008080;background-color:#9FDDBA"><code>colour</code> and <code>size</code></span> mapped to <code>class</code>. The plot offers no new information with the second aesthetic so I’d consider it a poor plot. You should use aesthetics mapped to different features in your data to meet with the <strong>Axiom</strong> that <em>‘The greatest value of a picture is when it forces us to notice what we never expected to see. –John Tukey’</em> as mentioned in the beginning of the <strong>Aesthetic Mappings</strong> section! <br><br></p>
</div>
<div id="exercise-5" class="section level4">
<h4>Exercise 5</h4>
<p>What does the <code>stroke</code> aesthetic do? What shapes does it work with? (Hint: use <code>?geom_point</code>)</p>
<p><strong>Tip: Did you know that when you call <code>?geom_point</code> you can go to an example and highlight it, press ‘Ctrl + Enter’ and it will place that example in your console and run it?</strong> <br></p>
<p><img src = assets/help_ctrl_enter.PNG width = 250px> <br></p>
<p><img src = assets/ctrl_enter_example_help_file2.gif></p>
<pre class="r"><code># For shapes that have a border (like 21), you can colour the inside and
# outside separately. Use the stroke aesthetic to modify the width of the
# border
ggplot(mtcars, aes(wt, mpg)) +
  geom_point(shape = 2, colour = &quot;black&quot;, fill = &quot;white&quot;, size = 5, stroke = 5)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-17-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(mtcars, aes(wt, mpg)) +
  geom_point(shape = 23, colour = &quot;black&quot;, fill = &quot;white&quot;, size = 5, stroke = 3)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-17-2.png" width="672" style="display: block; margin: auto;" /></p>
<p><img src = assets/shape.PNG></p>
<p>Stroke changes the border width as described in the example comment, and works with any shape that has a border hence will work with shapes <code>0-14</code>, and <code>21-24</code>. An example of each is above. <br><br></p>
</div>
<div id="exercise-6" class="section level4">
<h4>Exercise 6</h4>
<p>What happens if you map an aesthetic to something other than a variable name, like <code>aes(colour = displ &lt; 5)</code>? Note, you’ll also need to specify x and y.</p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;geom_point(mapping = <br>&nbsp;&nbsp;&nbsp;&nbsp;aes(x = displ, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = hwy, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>colour =</span> <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>(displ</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-83-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Points are split according to the criteria <span style="color: #008080;background-color:#9FDDBA"><code>displ &lt; 5</code></span> and are coloured differently depending on what value they have for displacement. <br><br></p>
</div>
</div>
</div>
<div id="facets" class="section level2">
<h2>Facets</h2>
<p>Another way to add information on your plot is to use <code>facets</code>.</p>
<ul>
<li><p><code>facet_wrap()</code> allows faceting by a single variable</p>
<ul>
<li>First argument is a formula <code>~ var_name</code></li>
<li>Variable passed in should be discrete.</li>
</ul></li>
<li><p><code>facet_grid()</code> allows the faceting by 2 variables.</p>
<ul>
<li><code>var_name1 ~ var_name2</code></li>
</ul></li>
</ul>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(mapping = aes(x = displ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = hwy)) +<br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>facet_wrap(~ class, nrow = 2)</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-84-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(mapping = aes(x = displ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = hwy)) +<br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>facet_grid(drv ~ class)</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-85-1.png" width="672" style="display: block; margin: auto;" /></p>
<div id="exercises-2" class="section level3">
<h3>Exercises</h3>
<div id="facets-exercise-1" class="section level4">
<h4>Facets: Exercise 1</h4>
<p>What happens if you facet on a continuous variable?</p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = hwy)) +<br>&nbsp;&nbsp;<span style='background-color:#800000;color:#FFE4E1'>facet_wrap(~ cty)</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-86-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>The plot is created but it doesn’t make sense to split our data by a continuous variable. <br><br></p>
</div>
<div id="facets-exercise-2" class="section level4">
<h4>Facets: Exercise 2</h4>
<p>What do the empty cells in plot with <code>facet_grid(drv ~ cyl)</code> mean? How do they relate to this plot?</p>
<p>The empty spots refer to that <code>drv and cyl combination</code> being missing.</p>
<pre class="r"><code>ggplot(data = mpg) + 
  geom_point(mapping = aes(x = drv, y = cyl))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/facet_ex2-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>It relates to the above in that you can see that the <code>drv = 4; cyl = 5</code> combination has no observations. This is also the case in the faceted plot.</p>
</div>
<div id="facets-exercise-3" class="section level4">
<h4>Facets: Exercise 3</h4>
<p>What plots does the following code make? What does . do?</p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;geom_point(mapping = aes(x = displ, y = hwy)) +<br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>facet_grid(drv ~ .)</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-87-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>The <span style="color: #008080;background-color:#9FDDBA"><code>facet_grid (drv ~ .)</code></span> facets the <code>drv</code> categories into rows. It says facet this plot by <code>drv</code> as row panels but I don’t want anything as column panels (hence the <code>.</code>).</p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;geom_point(mapping = aes(x = displ, y = hwy)) +<br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>facet_grid(. ~ cyl)</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-88-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>The <span style="color: #008080;background-color:#9FDDBA"><code>facet_grid(. ~ cyl)</code></span> facets the <code>cyl</code> categories into columns. It says facet this plot by <code>cyl</code> as column panels but I don’t want anything as row panels (hence the <code>.</code>).</p>
</div>
<div id="facets-exercise-4" class="section level4">
<h4>Facets: Exercise 4</h4>
<p>Take the first faceted plot in this section:</p>
<pre><code>ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) + 
  facet_wrap(~ class, nrow = 2)
</code></pre>
<p>What are the advantages to using faceting instead of the colour aesthetic? What are the disadvantages? How might the balance change if you had a larger dataset?</p>
<pre class="r"><code>ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) + 
  facet_wrap(~ class, nrow = 2)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-24-1.png" width="672" style="display: block; margin: auto;" /></p>
<ul>
<li><p>What are the advantages to using faceting instead of the colour aesthetic? <br> You can see the patterns in each class much easier.</p></li>
<li><p>What are the disadvantages? <br> You may lose sight of the overall trend across all observations, and comparing categories becomes more “work”.</p></li>
<li><p>How might the balance change if you had a larger dataset? <br> If you have many categories it becomes overwhelming.</p></li>
</ul>
</div>
<div id="facets-exercise-5" class="section level4">
<h4>Facets: Exercise 5</h4>
<p>Read ?facet_wrap. What does nrow do? What does ncol do? What other options control the layout of the individual panels? Why doesn’t facet_grid() have nrow and ncol arguments? <br> From the help page these are the main aspects that alter your visuals.</p>
<ul>
<li><code>nrow</code> and <code>ncol</code> specify the number of rows or columns you’re looking for in your plot.</li>
<li><code>scales</code>: Should scales be fixed (“fixed”, the default), free (“free”), or free in one dimension (“free_x”, “free_y”)?</li>
<li>Use the <code>labeller</code> option to control how labels are printed.</li>
<li>Use <code>strip.position</code> to display the facet labels at the side of your choice. Setting it to <code>bottom</code> makes it act as a subtitle for the axis. This is typically used with free scales and a theme without boxes around strip labels.</li>
</ul>
</div>
<div id="facets-exercise-6" class="section level4">
<h4>Facets: Exercise 6</h4>
<p>When using facet_grid() you should usually put the variable with more unique levels in the columns. Why? <br> I would think this orientation makes best use of the screen real estate available. <br><br></p>
</div>
</div>
</div>
<div id="geometric-objects" class="section level2">
<h2>Geometric Objects</h2>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-25-1.png" width="50%" /><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-25-2.png" width="50%" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_point</span>(mapping = aes(x = displ, y = hwy))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-89-1.png" width="50%" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_smooth</span>(mapping = aes(x = displ, y = hwy))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-89-2.png" width="50%" /></p>
<p>The above plots are made using the same data, but the <span style="color: #008080;background-color:#9FDDBA"><code>geoms</code></span> are different. To change the plot type i.e. <code>bar</code>, <code>boxplot</code>, <code>line</code> etc. you just <span style="color: #008080;background-color:#9FDDBA">change the <code>geom</code> you add to <code>ggplot</code>.</span> The <code>aesthetics</code> that work with each <code>geom</code> is different however. E.g. you may set the <span style="color: #008080;background-color:#9FDDBA"><code>linetype</code></span> of a line, but you <strong>can’t</strong> change the <span style="color: #FFE4E1;background-color:#800000"><code>shape</code> of a line.</span></p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_line(aes(x = displ, y = hwy, <span style='background-color:#9FDDBA;color:#008080'>linetype = drv</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-90-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_smooth(aes(x = displ, y = hwy, <span style='background-color:#9FDDBA;color:#008080'>linetype = drv</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-91-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_point(mapping = aes(x = displ, y = hwy, colour = drv))</span> +<br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_smooth(mapping = aes(x = displ, y = hwy, linetype = drv, colour = drv))</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-92-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>We are also able to add more than <span style="color: #008080;background-color:#9FDDBA">one geom</span> on a plot. In the above we show both the <span style="color: #008080;background-color:#9FDDBA">raw data points</span> coloured by the drive type - e.g. 4 wheel, rear drive or front wheel, as well as each drive types <span style="color: #008080;background-color:#9FDDBA">smoothing line</span>. But the downside to the above is that I had to specify the <code>mapping</code> twice with many repeated elements. To avoid this <code>ggplot</code> provides a handy alternate - you may set the <code>mapping</code> in the <code>ggplot()</code> call itself - the <code>mapping</code> is treated as <strong>global</strong> to all subsequent <code>geoms</code> unless you specifically override these.</p>
<pre><code class='language-r'><code>ggplot(data = mpg, <span style='background-color:#9FDDBA;color:#008080'>mapping = aes(x = displ, y = hwy, colour = drv)</span>) +<br>&nbsp;&nbsp;geom_point() +<br>&nbsp;&nbsp;geom_smooth(mapping = aes(linetype = drv))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-93-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Also in the above you may have noticed that <span style="color: #008080;background-color:#9FDDBA"><code>geom_smooth()</code></span> included it’s own mapping. This basically says <em>‘Hey, take all the attributes as per the ggplot mapping BUT replace these components (if it exists) as described in this geom’.</em></p>
<pre><code class='language-r'><code>ggplot(data = mpg, <span style='background-color:#9FDDBA;color:#008080'>mapping = aes(x = displ, y = hwy)</span>) +<br>&nbsp;&nbsp;geom_point(<span style='background-color:#9FDDBA;color:#008080'>mapping = aes(colour = class)</span>) +<br>&nbsp;&nbsp;geom_smooth()</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-94-1.png" width="672" style="display: block; margin: auto;" /> For example here when it gets to the <span style="color: #008080;background-color:#9FDDBA"><strong>geom_point(mapping = aes(colour = class))</strong></span> line it asks:</p>
<ol style="list-style-type: decimal">
<li>Does this mapping specify a new <code>x</code>? It doesn’t, so <code>x = displ</code> is set, as per the <code>ggplot()</code> <code>mapping()</code>.</li>
<li>Does this mapping specify a new <code>y</code>? It doesn’t, so <code>y = hwy</code> is set, as per the <code>ggplot()</code> <code>mapping()</code>.</li>
<li>Is there anything extra set? Yip, <code>colour = class</code> is set, so let me apply that to this <code>geom_point</code>’s only, hence the scatterpoint plots are coloured by the <code>class</code> of the vehicle.</li>
</ol>
<p>You may also <strong>even</strong> change the <strong>data</strong> for each layer! Here the <code>smoothing</code> function is included but for a subset of the data.</p>
<pre><code class='language-r'><code>ggplot(data = mpg, aes(x = displ, y = hwy)) +<br>&nbsp;&nbsp;geom_point(mapping = aes(colour = class)) +<br>&nbsp;&nbsp;geom_smooth(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>data = filter(mpg, class == "subcompact")</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;se = FALSE # remove the error bands that display around the line<br>&nbsp;&nbsp;)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-95-1.png" width="672" style="display: block; margin: auto;" /></p>
<div id="exercises-3" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>What geom would you use to draw a line chart? A boxplot? A histogram? An area chart?</p>
<ul>
<li>line chart: geom_line()</li>
<li>boxplot: geom_boxplot()</li>
<li>histogram: geom_histogram()</li>
<li>Area chart: geom_area()</li>
</ul></li>
<li><p>Run this code in your head and predict what the output will look like. Then, run the code in R and check your predictions.</p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = drv)) + 
  geom_point() + 
  geom_smooth(se = FALSE)</code></pre>
<p>In my head this will produce a scatterplot with <code>displ</code> on the x-axis, <code>hwy</code> on the y-axis where each point is coloured by the type of <code>drive</code> the vehicle is (4 wheel, front-wheel, rear-wheel). The plot will also contain smoothing lines (with no error bands) for each drive type (since <code>colour</code> is set in the <code>ggplot</code> mapping layer, and is applicable for both points, and the smoothing lines).</p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = drv)) + 
  geom_point() + 
  geom_smooth(se = FALSE)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-34-1.png" width="672" style="display: block; margin: auto;" /></p></li>
<li><p>What does <code>show.legend = FALSE</code> do? What happens if you remove it?<br />
Why do you think I used it earlier in the chapter?</p>
<p>It removes the legend that shows up when we add certain aesthetics such as <code>colour</code>, <code>shape</code> etc.</p>
<p>If we remove it the legend will show by the fact that a certain non-xy aesthetic has been added.</p>
<p>It was used to remove the legend earlier which would have shown up due to the <code>colour = drv</code> aesthetic.</p></li>
<li><p>What does the <code>se</code> argument to <code>geom_smooth()</code> do? It sets the errors bands on the smoothing function to either on or off.</p></li>
<li><p>Will these two graphs look different? Why/why not?</p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_point() + 
  geom_smooth()

ggplot() + 
  geom_point(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_smooth(data = mpg, mapping = aes(x = displ, y = hwy))</code></pre>
<p>They will look the same. In the first plot the <code>data = mpg, mapping = aes(x = displ, y = hwy)</code> will be inherited by both <code>geom_point()</code> and <code>geom_smooth()</code>. In the second plot the <code>data = mpg, mapping = aes(x = displ, y = hwy)</code> is repeated in each geom and hence both plots will be the same.</p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_point() + 
  geom_smooth()</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-36-1.png" width="50%" /></p>
<pre class="r"><code>ggplot() + 
  geom_point(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_smooth(data = mpg, mapping = aes(x = displ, y = hwy))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-36-2.png" width="50%" /></p></li>
<li><p>Recreate the R code necessary to generate the following graphs.</p>
<pre class="r"><code>ggplot(data = mpg, aes(x = displ, y = hwy)) +
  geom_point(size = 2) +
  geom_smooth(se = FALSE)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-37-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg, aes(x = displ, y = hwy)) +
  geom_point(size = 2) +
  geom_smooth(aes(group = drv), se = FALSE)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-38-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg, aes(x = displ, y = hwy, colour = drv)) +
  geom_point(size = 2) +
  geom_smooth(se = FALSE)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-39-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg, aes(x = displ, y = hwy)) +
  geom_point(aes(colour = drv)) +
  geom_smooth(se = FALSE)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-40-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg, aes(x = displ, y = hwy)) +
  geom_point(aes(colour = drv)) +
  geom_smooth(aes(linetype = drv), se = FALSE)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-41-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg, aes(x = displ, y = hwy)) +
  geom_point(size = 3, colour = &quot;white&quot;) +
  geom_point(aes(colour = drv))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-42-1.png" width="672" style="display: block; margin: auto;" /></p></li>
</ol>
</div>
</div>
<div id="statistical-transformations-or-stat" class="section level2">
<h2>Statistical Transformations or <code>stat</code></h2>
<p>Some plots do statistical transforms in the background.</p>
<ul>
<li>For example <code>bar charts</code>, <code>histograms</code> and <code>frequency plots</code> count or bin the data.</li>
<li>There’s also <code>boxplots</code> which computes the distribution and plots them.</li>
<li>Smoothing functions which we’ve see fit a model to the data and plots that.</li>
</ul>
<p>Want to check what transform happens behind the scene? Call up the help page.</p>
<ul>
<li><code>?geom_boxplot</code> shows that the <code>stat = boxplot</code></li>
<li><code>?geom_bar</code> shows that the <code>stat = count</code></li>
</ul>
<pre class="r"><code>ggplot(data = diamonds) +
  geom_bar(mapping = aes(x = cut))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-43-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>You can recreate the above by using the <code>stat</code>:</p>
<pre class="r"><code>ggplot(data = diamonds) +
  stat_count(mapping = aes(x = cut))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-44-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>You may want to override the default mapping. For example here we get the proportion.</p>
<pre class="r"><code>ggplot(data = diamonds) +
  geom_bar(
    mapping = aes(x = cut, y = ..prop.., group = 1)
  )</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-45-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = diamonds) +
  stat_summary(mapping = aes(x = cut, y = depth),
               fun.min = min,
               fun.max = max,
               fun = median)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-46-1.png" width="672" style="display: block; margin: auto;" /></p>
<div id="exercises-4" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>What is the default geom associated with <code>stat_summary()</code>? How could you rewrite the previous plot to use that geom function instead of the stat function?</p>
<p><code>geom_pointrange</code>. <br> We can use the geom, the summary statistics need to be computed however. You can either do this in the function by using <code>stat = 'summary'</code> or you can summarise the data first and then pass it in as arguments. The reason for this is because the <code>stat</code> of <code>geom_pointrange</code> is <a href="https://ggplot2.tidyverse.org/reference/stat_identity.html"><code>identity</code></a> which does <strong>NOT</strong> change the data.</p>
<p>In the code below you will see a new operation that we have not talked about: <code>%&gt;%</code> which is called the pipe operator, we tackle this later in R4DS. For now when you see <em>%&gt;%</em> read it as <code>and then</code> e.g. <em>Take this df <strong>and then</strong> group it by this criterion, <strong>and then</strong> show me a summary.</em></p>
<pre>
  df <span style="color: #008080;background-color:#9FDDBA">%>%</span> 
    group_by(this_characteristic) <span style="color: #008080;background-color:#9FDDBA">%>%</span> 
    summary(mean_characteristic = mean(characteristic))
</pre>
<pre class="r"><code>ggplot(data = diamonds) +
  geom_pointrange(mapping = aes(x = cut, y = depth),
                  stat = &#39;summary&#39;,
                  fun.min = min,
                  fun.max = max,
                  fun = median)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-47-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>diamonds_amended &lt;- diamonds %&gt;% 
  group_by(cut) %&gt;% 
  summarise(y_med = median(depth),
            y_min = min(depth),
            y_max = max(depth)) %&gt;% 
  ungroup()

ggplot(data = diamonds_amended) +
  geom_pointrange(mapping = aes(x = cut, y = y_med, ymin = y_min,
                  ymax = y_max))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-48-1.png" width="672" style="display: block; margin: auto;" /></p></li>
<li><p>What does <code>geom_col()</code> do? How is it different to <code>geom_bar()</code>? <br> Whereas <code>geom_bar()</code> bins the data - i.e. it counts how many occurrences there are for each value of <code>x</code>, <code>geom_col()</code> has <code>stat_identity()</code> as its <code>stat</code> and therefore plots the actual y value - it leaves the data as is.</p></li>
<li><p>Most geoms and stats come in pairs that are almost always used in concert. Read through the documentation and make a list of all the pairs. What do they have in common? <br></p>
<p><a href="https://ggplot2.tidyverse.org/reference/">Info here</a></p></li>
<li><p>What variables does <code>stat_smooth()</code> compute? What parameters control its behaviour? <br> It computes the predicted value of y etc. <a href="https://www.rdocumentation.org/packages/ggplot2/versions/0.9.0/topics/stat_smooth">More info here</a>.</p></li>
<li><p>In our proportion bar chart, we need to set <code>group = 1</code>. Why? In other words what is the problem with these two graphs?</p>
<pre class="r"><code>ggplot(data = diamonds) + 
  geom_bar(mapping = aes(x = cut, y = ..prop..))
ggplot(data = diamonds) + 
  geom_bar(mapping = aes(x = cut, fill = color, y = ..prop..))</code></pre>
<pre class="r"><code>plt1 &lt;- ggplot(data = diamonds) + 
  geom_bar(mapping = aes(x = cut, y = ..prop..))
plt1_int &lt;- ggplot_build(plt1)
plt1_int$data[[1]]</code></pre>
<pre><code>  y count prop x flipped_aes PANEL group ymin ymax xmin xmax colour   fill size
1 1  1610    1 1       FALSE     1     1    0    1 0.55 1.45     NA grey35  0.5
2 1  4906    1 2       FALSE     1     2    0    1 1.55 2.45     NA grey35  0.5
3 1 12082    1 3       FALSE     1     3    0    1 2.55 3.45     NA grey35  0.5
4 1 13791    1 4       FALSE     1     4    0    1 3.55 4.45     NA grey35  0.5
5 1 21551    1 5       FALSE     1     5    0    1 4.55 5.45     NA grey35  0.5
  linetype alpha
1        1    NA
2        1    NA
3        1    NA
4        1    NA
5        1    NA</code></pre>
<pre class="r"><code>plt1</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-50-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>plt2 &lt;- ggplot(data = diamonds) + 
  geom_bar(mapping = aes(x = cut, fill = color, y = ..prop..))
plt2_int &lt;- ggplot_build(plt2)
as_tibble(plt2_int$data[[1]])</code></pre>
<pre><code># A tibble: 35 x 16
   fill      y count  prop     x flipped_aes PANEL group  ymin  ymax  xmin  xmax
   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;lgl&gt;       &lt;fct&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 #440~     7   163     1     1 FALSE       1         1     6     7  0.55  1.45
 2 #443~     6   224     1     1 FALSE       1         2     5     6  0.55  1.45
 3 #316~     5   312     1     1 FALSE       1         3     4     5  0.55  1.45
 4 #219~     4   314     1     1 FALSE       1         4     3     4  0.55  1.45
 5 #35B~     3   303     1     1 FALSE       1         5     2     3  0.55  1.45
 6 #8FD~     2   175     1     1 FALSE       1         6     1     2  0.55  1.45
 7 #FDE~     1   119     1     1 FALSE       1         7     0     1  0.55  1.45
 8 #440~     7   662     1     2 FALSE       1         8     6     7  1.55  2.45
 9 #443~     6   933     1     2 FALSE       1         9     5     6  1.55  2.45
10 #316~     5   909     1     2 FALSE       1        10     4     5  1.55  2.45
# ... with 25 more rows, and 4 more variables: colour &lt;lgl&gt;, size &lt;dbl&gt;,
#   linetype &lt;dbl&gt;, alpha &lt;lgl&gt;</code></pre>
<pre class="r"><code>plt2</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-50-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>In the first graph above each individual <code>cut</code> is considered as an individual group. This means that the proportion = 1 since sum(count) over the group = count.</p>
<p>In the second graph each individual <code>color</code> and <code>cut</code> is considered as an individual group and the same occurs.</p>
<p>In order to get the proportion using <code>..prop..</code> we need to tell ggplot how it must group our data. If we provide <code>group = 1</code> we’re telling ggplot to consider the data as one group. Now proportions are correctly created.</p>
<pre class="r"><code>plt1 &lt;- ggplot(data = diamonds) + 
  geom_bar(mapping = aes(x = cut, y = ..prop.., group = 1))
plt1_int &lt;- ggplot_build(plt1)
plt1_int$data[[1]]</code></pre>
<pre><code>           y count       prop x flipped_aes group PANEL ymin       ymax xmin
1 0.02984798  1610 0.02984798 1       FALSE     1     1    0 0.02984798 0.55
2 0.09095291  4906 0.09095291 2       FALSE     1     1    0 0.09095291 1.55
3 0.22398962 12082 0.22398962 3       FALSE     1     1    0 0.22398962 2.55
4 0.25567297 13791 0.25567297 4       FALSE     1     1    0 0.25567297 3.55
5 0.39953652 21551 0.39953652 5       FALSE     1     1    0 0.39953652 4.55
  xmax colour   fill size linetype alpha
1 1.45     NA grey35  0.5        1    NA
2 2.45     NA grey35  0.5        1    NA
3 3.45     NA grey35  0.5        1    NA
4 4.45     NA grey35  0.5        1    NA
5 5.45     NA grey35  0.5        1    NA</code></pre>
<pre class="r"><code>plt1</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-51-1.png" width="672" style="display: block; margin: auto;" /></p></li>
</ol>
</div>
</div>
<div id="position-arguments---bar-charts" class="section level2">
<h2>Position Arguments - Bar Charts</h2>
<p>With bar charts you may colour the bar chart with the <span style="color: #008080;background-color:#9FDDBA"><code>colour</code></span> or <span style="color: #008080;background-color:#9FDDBA"><code>fill</code></span> argument.</p>
<pre class="r"><code>ggplot(data = diamonds) +
  geom_bar(mapping = aes(x = cut, colour = cut))

ggplot(data = diamonds) +
  geom_bar(mapping = aes(x = cut, fill = cut))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-53-1.png" width="50%" /><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-53-2.png" width="50%" /></p>
<p>That’s not really useful. The power of using the <span style="color: #008080;background-color:#9FDDBA"><code>fill</code></span> aesthetic is when we fill the bar with <span style="color: #008080;background-color:#9FDDBA">another variable!</span></p>
<pre><code class='language-r'><code>ggplot(data = diamonds) + <br>&nbsp;&nbsp;geom_bar(mapping = aes(x = cut, <span style='background-color:#9FDDBA;color:#008080'>fill = clarity</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-96-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>The <code>position</code> argument does the stacking (the default). You can change this by using:</p>
<ul>
<li>identity</li>
<li>dodge</li>
<li>fill</li>
</ul>
<div id="position-identity" class="section level4">
<h4>position = ‘identity’</h4>
<p>Places the object exactly where it falls on the graph. Bars overlap in this case which is not too useful. We can see the overlap by setting <span style="color: #008080;background-color:#9FDDBA"><code>alpha = some_small_value</code></span> or <span style="color: #008080;background-color:#9FDDBA"><code>fill = NA</code></span>.</p>
<p><em>Useful for 2d geoms like points where it’s the default.</em></p>
<pre><code class='language-r'><code>ggplot(data = diamonds) + <br>&nbsp;&nbsp;geom_bar(mapping = aes(x = cut, fill = clarity),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>alpha = 1/5, position = 'identity'</span>)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-97-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code>ggplot(data = diamonds) + <br>&nbsp;&nbsp;geom_bar(mapping = aes(x = cut, colour = clarity),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>fill = NA, position = 'identity'</span>)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-98-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="position-fill" class="section level4">
<h4>position = ‘fill’</h4>
<p>Similar to stacking but it makes all bars the same height, and is thus good for comparisons.</p>
<pre><code class='language-r'><code>ggplot(data = diamonds) + <br>&nbsp;&nbsp;geom_bar(mapping = aes(x = cut, fill = clarity),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>position = 'fill'</span>)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-99-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="position-dodge" class="section level4">
<h4>position = ‘dodge’</h4>
<p>Instead of stacked bars each individual fill variable is plotted in its own bar - i.e. objects are placed alongside each other.</p>
<pre><code class='language-r'><code>ggplot(data = diamonds) + <br>&nbsp;&nbsp;geom_bar(mapping = aes(x = cut, fill = clarity),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>position = 'dodge'</span>)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-100-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="position-arguments---scatterplot" class="section level2">
<h2>Position Arguments - Scatterplot</h2>
<p>Remember that points have a default position of identity - i.e. plot it where it falls. When there are many points though this gets hidden as points are plotted on top of each other and we see this as a single point when in fact there may be multiple points that fall in that exact x, y spot.</p>
<p>Enter <span style="color: #008080;background-color:#9FDDBA"><code>position = 'jitter'</code></span> which provides a slight displacement of a point so that the viewer can see the individual points. You can also get this sometimes with setting <code>alpha</code> if the points are concentrated in some pockets.</p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_point</span>(mapping = aes(x = displ, y = hwy))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-101-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_point</span>(mapping = aes(x = displ, y = hwy),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>position = 'jitter'</span>)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-102-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_point</span>(mapping = aes(x = displ, y = hwy),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>alpha = 0.2</span>)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-103-1.png" width="672" style="display: block; margin: auto;" /></p>
<div id="exercises-5" class="section level3">
<h3>Exercises</h3>
<ol>
<li>
<p>What is the problem with this plot? How could you improve it?</p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) + 
  geom_point()</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-62-1.png" width="672" style="display: block; margin: auto;" /> It is overplotting: where points fall in the same x, y spot, or close enough. We can try jittering the points.</p>
<pre><code class='language-r'><code>ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) + <br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_jitter()</span></code></code></pre>
<img src="figure/ch1_ggplot.Rmd/unnamed-chunk-104-1.png" width="672" style="display: block; margin: auto;" />
</li>
<li>
What parameters to <code>geom_jitter()</code> control the amount of jittering? <br> <code>width</code> and <code>height</code> tell ggplot how much of jitter in the horizontal and vertical position should be added.
</li>
<li>
<p>Compare and contrast <code>geom_jitter()</code> with <code>geom_count()</code>.<br> <code>geom_count()</code> counts the number of observations at each location and adds the count at the position.<br> <code>geom_jitter()</code> adds some random noise to each point so that we can see the individual points better but the points don’t actually fall at that location.</p>
<pre><code class='language-r'><code>ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) + <br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_jitter()</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-105-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) + <br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_count()</span></code></code></pre>
<img src="figure/ch1_ggplot.Rmd/unnamed-chunk-106-1.png" width="672" style="display: block; margin: auto;" />
</li>
<li>
<p>What’s the default position adjustment for <code>geom_boxplot()</code>? Create a visualisation of the <code>mpg</code> dataset that demonstrates it. <br></p>
<p><code>position = "dodge2"</code><br />
Dodging usually introduces adjustments along the horizontal axis. This position allows vertical adjustments too for boxplots.</p>
<pre><code class='language-r'><code># examples from geom_boxplot help page<br>ggplot(mpg, aes(hwy, manufacturer)) + <span style='background-color:#9FDDBA;color:#008080'>geom_boxplot()</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-107-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code>p <- ggplot(mpg, aes(hwy, class))<br>p + <span style='background-color:#9FDDBA;color:#008080'>geom_boxplot()</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-107-2.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code># Boxplots are automatically dodged when any aesthetic is a factor<br>p + geom_boxplot(aes(colour = drv))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-107-3.png" width="672" style="display: block; margin: auto;" /></p>
</li>
</ol>
</div>
</div>
<div id="coordinate-systems" class="section level2">
<h2>Coordinate systems</h2>
<p>The default coordinate system is the Cartesian Plane. There are few other types of coordinate systems.</p>
<ol>
<li>
<p><code>coord_flip()</code> - not needed really since <code>ggplot version 3.0.0</code>.</p>
<p><img src = assets/no_longer_coord_flip1.PNG width = 500px> <br></p>
<p><img src = assets/no_longer_coord_flip2.PNG width = 500px> <br></p>
</li>
<li>
<p><code>coord_quickmap()</code> - sets correct aspect ratio for maps.</p>
<pre class="r"><code>nz &lt;- map_data(&quot;nz&quot;)
ggplot(nz, aes(long, lat, group = group)) +
  geom_polygon(fill = &quot;white&quot;, colour = &quot;black&quot;)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-67-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(nz, aes(long, lat, group = group)) +
  geom_polygon(fill = &quot;white&quot;, colour = &quot;black&quot;) +
  coord_quickmap()</code></pre>
<img src="figure/ch1_ggplot.Rmd/unnamed-chunk-67-2.png" width="672" style="display: block; margin: auto;" />
</li>
<li>
<p><code>coord_polar()</code> - uses polar coords - useful for pie charts.</p>
<pre class="r"><code>bar &lt;- ggplot(data = diamonds) + 
  geom_bar(
    mapping = aes(x = cut, fill = cut), 
    show.legend = FALSE,
    width = 1
  ) + 
  theme(aspect.ratio = 1) +
  labs(x = NULL, y = NULL)

bar + coord_flip()</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-68-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>bar + coord_polar()</code></pre>
<img src="figure/ch1_ggplot.Rmd/unnamed-chunk-68-2.png" width="672" style="display: block; margin: auto;" />
</li>
</ol>
<div id="exercises-6" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>Turn a stacked bar chart into a <a href="https://www.displayr.com/how-to-make-a-pie-chart-in-r/">pie chart</a> using <code>coord_polar()</code>.<br></p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_bar(mapping = aes(x = class))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-69-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_bar(mapping = aes(x = &quot;&quot;, fill = class)) +
  coord_polar(theta = &#39;y&#39;)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-70-1.png" width="672" style="display: block; margin: auto;" /></p></li>
<li><p>What does <code>labs()</code> do? Read the documentation. <br> Adds labels to a plot for things like title, x-axis etc.</p></li>
<li><p>What’s the difference between <code>coord_quickmap()</code> and <code>coord_map()</code>?<br> From help page of coord_map: <br> coord_map projects a portion of the earth, which is approximately spherical, onto a flat 2D plane using any projection defined by the mapproj package. Map projections do not, in general, preserve straight lines, so this requires considerable computation. coord_quickmap is a quick approximation that does preserve straight lines. It works best for smaller areas closer to the equator.</p>
<pre class="r"><code>ggplot(nz, aes(long, lat, group = group)) +
  geom_polygon(fill = &quot;white&quot;, colour = &quot;black&quot;) +
  coord_quickmap()</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-71-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(nz, aes(long, lat, group = group)) +
  geom_polygon(fill = &quot;white&quot;, colour = &quot;black&quot;) +
  coord_map()</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-72-1.png" width="672" style="display: block; margin: auto;" /></p></li>
<li><p>What does the plot below tell you about the relationship between city and highway mpg? Why is <code>coord_fixed()</code> important? What does <code>geom_abline()</code> do?</p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
  geom_point() + 
  geom_abline() +
  coord_fixed()</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-73-1.png" width="50%" style="display: block; margin: auto;" /> The <code>geom_abline()</code> adds a 45 degree line to the plot. The <code>coord_fixed()</code> with no arguments sets the ratio between y and x to 1. This means that the y:x representation is 1:1.</p></li>
</ol>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 3.6.3 (2020-02-29)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 18363)

Matrix products: default

locale:
[1] LC_COLLATE=English_South Africa.1252  LC_CTYPE=English_South Africa.1252   
[3] LC_MONETARY=English_South Africa.1252 LC_NUMERIC=C                         
[5] LC_TIME=English_South Africa.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] tidyquant_1.0.0            quantmod_0.4.17           
 [3] TTR_0.23-6                 PerformanceAnalytics_2.0.4
 [5] xts_0.12-0                 zoo_1.8-7                 
 [7] lubridate_1.7.8            flair_0.0.2               
 [9] forcats_0.5.0              stringr_1.4.0             
[11] dplyr_1.0.0                purrr_0.3.4               
[13] readr_1.3.1                tidyr_1.1.0               
[15] tibble_3.0.3               ggplot2_3.3.0             
[17] tidyverse_1.3.0            workflowr_1.6.2           

loaded via a namespace (and not attached):
 [1] httr_1.4.2        maps_3.3.0        jsonlite_1.7.0    viridisLite_0.3.0
 [5] splines_3.6.3     modelr_0.1.6      assertthat_0.2.1  cellranger_1.1.0 
 [9] yaml_2.2.1        pillar_1.4.6      backports_1.1.6   lattice_0.20-38  
[13] glue_1.4.1        quadprog_1.5-8    digest_0.6.25     promises_1.1.0   
[17] rvest_0.3.5       colorspace_1.4-1  htmltools_0.5.0   httpuv_1.5.2     
[21] Matrix_1.2-18     pkgconfig_2.0.3   broom_0.5.6       haven_2.2.0      
[25] scales_1.1.0      whisker_0.4       later_1.0.0       git2r_0.26.1     
[29] mgcv_1.8-31       generics_0.0.2    farver_2.0.3      ellipsis_0.3.1   
[33] withr_2.2.0       cli_2.0.2         magrittr_1.5      crayon_1.3.4     
[37] readxl_1.3.1      evaluate_0.14     fs_1.4.1          fansi_0.4.1      
[41] nlme_3.1-144      xml2_1.3.2        tools_3.6.3       hms_0.5.3        
[45] lifecycle_0.2.0   munsell_0.5.0     reprex_0.3.0      compiler_3.6.3   
[49] rlang_0.4.7       grid_3.6.3        rstudioapi_0.11   labeling_0.3     
[53] rmarkdown_2.4     gtable_0.3.0      DBI_1.1.0         curl_4.3         
[57] R6_2.4.1          knitr_1.28        utf8_1.1.4        rprojroot_1.3-2  
[61] Quandl_2.10.0     stringi_1.4.6     Rcpp_1.0.4.6      vctrs_0.3.2      
[65] mapproj_1.2.7     dbplyr_1.4.3      tidyselect_1.1.0  xfun_0.13        </code></pre>
</div>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
http://docs.mathjax.org/en/latest/configuration.html.  This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
